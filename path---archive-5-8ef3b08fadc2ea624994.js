webpackJsonp([0xf0e5665a0890],{1830:function(e,t){e.exports={pathContext:{group:[{node:{excerpt:"I've been a big fan of  Elastic Search  for a very long time. It's a great piece of software that can be used as an object database as well as a search index. I realize\nthat's not the intention of the software but it works so I'm happy. Elastic Search doesn't have security built in so if you want to lock down your index (which is a good idea) then you'll need to run it\nbehind a proxy. I briefly…",html:'<p>I\'ve been a big fan of <a href="http://www.elasticsearch.org/">Elastic Search</a> for a very long time. It\'s a great piece of software that can be used as an object database as well as a search index. I realize\nthat\'s not the intention of the software but it works so I\'m happy. Elastic Search doesn\'t have security built in so if you want to lock down your index (which is a good idea) then you\'ll need to run it\nbehind a proxy. I briefly considered writing something in Go. There\'s a <a href="https://github.com/lukas-vlcek/node.es">node.js proxy for Elastic Search</a> but it hasn\'t been maintained in quite some time.</p>\n<p>I want fewer moving pieces. Nginx provides basic authentication. I\'m happy with that.</p>\n<p><a href="https://www.digitalocean.com/?refcode=735771c93fa7">Digital Ocean</a> is a new(ish) hosting company. They run on SSDs. They are pretty cheap and you can have a server running <a href="https://www.docker.io/">Docker</a> in 55 seconds.\nI\'m happy with that.</p>\n<p>Mix all the above and you get a nice bit of software that you can be happy with after you figure out the mixing part. It goes something like this:</p>\n<h3>Start</h3>\n<p>Setup an account on <a href="https://www.digitalocean.com/?refcode=735771c93fa7">Digital Ocean</a> and <a href="https://www.digitalocean.com/community/articles/how-to-use-the-digitalocean-docker-application">launch an instance running Docker</a>.</p>\n<h3>Update Your Server</h3>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  apt-get update</code></pre>\n      </div>\n<h3>Use iptables to lock down the server</h3>\n<h4>Add iptables-persistent</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  sudo apt-get install iptables-persistent</code></pre>\n      </div>\n<h4>Copy iptables.rules file into /etc/iptables/rules.v4 (file contents below)</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  *filter\n  :INPUT ACCEPT [0:0]\n  :FORWARD ACCEPT [0:0]\n  :OUTPUT ACCEPT [0:0]\n  [0:0] -A INPUT -i lo -j ACCEPT\n  [0:0] -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT\n  [0:0] -A INPUT -p tcp -m tcp --dport 22 -j ACCEPT\n  [0:0] -A INPUT -p tcp -m tcp --dport 443 -j ACCEPT\n  [0:0] -A INPUT -p tcp -m tcp --dport 80 -j ACCEPT\n  [0:0] -A INPUT -j DROP\n  COMMIT</code></pre>\n      </div>\n<h4>Update iptables rules</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  iptables-restore -c &lt; /etc/iptables/rules.v4</code></pre>\n      </div>\n<h3>Setup Authentication for nginx</h3>\n<h4>Install tools for setting up users</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  sudo apt-get install -y apache2-utils</code></pre>\n      </div>\n<h4>Setup directory</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  sudo mkdir -p /var/www/es\n  sudo mkdir -p /var/www/es_public</code></pre>\n      </div>\n<h4>Add a user. You\'ll be prompted for a password that you shouldn\'t forget.</h4>\n<p>Setup a public user that can read data from Elastic Search</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  sudo htpasswd -c /var/www/es/.htpasswd public_username_goes_here</code></pre>\n      </div>\n<p>Setup an admin user that can write data to Elastic Search</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  sudo htpasswd -c /var/www/es/.htpasswd admin_username_goes_here</code></pre>\n      </div>\n<h3>Docker</h3>\n<h4>Setup directories</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  sudo mkdir /data\n  sudo mkdir /var/log/nginx</code></pre>\n      </div>\n<h4>Install Elastic Search</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  docker pull dockerfile/elasticsearch</code></pre>\n      </div>\n<h4>Run and name Elastic Search</h4>\n<p>The name will allow us to get information about the container from within our Nginx container that we\'ll fire up next.</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  docker run -d --name elasticsearch -v /data:/data dockerfile/elasticsearch</code></pre>\n      </div>\n<h4>Build nginx container - <a href="https://github.com/jbasdf/nginx_es">source for the docker image here in case you want to know what\'s going on.</a></h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  docker build -t=&quot;jbasdf/nginx_es&quot; github.com/jbasdf/nginx_es</code></pre>\n      </div>\n<h4>Run Nginx container</h4>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  docker run -d -p 80:80 --link elasticsearch:elasticsearch -v /var/log/nginx:/var/log/nginx -v /var/www/es:/var/www/es jbasdf/nginx_es</code></pre>\n      </div>\n<p>You should now now be up and running. Test it using curl and make sure you get a response from Elastic Search:</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  curl -XGET --user public_username_goes_here:password_goes_here &#39;http://www.yourdomain.com&#39;</code></pre>\n      </div>',id:"/Users/jbasdf/projects/justinball/src/posts/2014-05-02-secure-elasticsearch-behind-nginx-using-docker-on-digital-ocean/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/secure-elasticsearch-behind-nginx-using-docker-on-digital-ocean",date:"2014-05-02T06:00:00Z",title:"Secure ElasticSearch behind Nginx using Docker on Digital Ocean",imageUrl:null,structuredHtml:null,tags:["Programming","ElasticSearch","Docker","Digital Ocean"],image:null}}},{node:{excerpt:"I've lusted over various instantiations of the fat bike for a few years, but each time I've overcome temptation. Each time I've walked away a less debt ridden man. Today satan led me right down that path we love to trod and I gave in. Of course, it didn't help that Wayne at  Joyride bikes  gave me a killer deal. I dunno no, maybe Wayne is satan. If he is, he's a really nice evil guy. The River…",html:'\n  <a class="gatsby-resp-image-link" href="/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-db7d6.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAcT5M24wP//EABoQAAICAwAAAAAAAAAAAAAAAAABAhEQEyH/2gAIAQEAAQUCIpGqOKppc//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAEFAAAAAAAAAAAAAAAAAAABESAhQv/aAAgBAQAGPwIZaMw//8QAGBABAQEBAQAAAAAAAAAAAAAAAREAMUH/2gAIAQEAAT8hkj11QBR13qVkXwvLhVJnjm//2gAMAwEAAgADAAAAEA8v/8QAFhEBAQEAAAAAAAAAAAAAAAAAABFB/9oACAEDAQE/EMR//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBUWGx/9oACAEBAAE/EHEBZgSmbdoQv5FFAHlEgAU6OVTzEw3vvfsQ1LHc/9k=&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Salsa Beargrease" title="" src="/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-b80fa.jpg" srcset="/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-cf410.jpg 163w,\n/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-62f2a.jpg 325w,\n/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-b80fa.jpg 650w,\n/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-08cb4.jpg 975w,\n/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-db7d6.jpg 1024w" sizes="(max-width: 650px) 100vw, 650px">\n    </span>\n  </span>\n  \n  </a>\n    \n<p class="caption">Salsa Beargrease</p>\nThe Salsa Beargrease is what happens when a Ferrari and an Abrams Tank have a one night stand. The bastard child of the cycling industry, fat bikes are finding their place in the mainstream of mountain biking. While most sales guys will tell you these odd balls with ginormous tires find purpose in gliding over snow or floating over sand I disagree. These monstrosities have one purpose - to make grown men giggle like 3 year olds on a merry go round.\n<p>I\'ve lusted over various instantiations of the fat bike for a few years, but each time I\'ve overcome temptation. Each time I\'ve walked away a less debt ridden man. Today satan led me right down that path we love to trod and I gave in. Of course, it didn\'t help that Wayne at <a href="http://www.joyridebikes.com/">Joyride bikes</a> gave me a killer deal. I dunno no, maybe Wayne is satan. If he is, he\'s a really nice evil guy.</p>\n<p>The River Trail in Logan Canyon is a gentle introduction to mountain biking no matter what you ride. It serves as ground zero for all my cyclocross training. On my very light and very nimble Bianchi Cavaria the ground demands constant attention or your face will get the chance to decorate one of the log pole pines that line the trail. I love the experience but it’s like a carefully choreographed ballet on two wheels as you tip toe through the rocks and tree roots. There\'s a washboard section that ensures you won’t be able to feel your wrists or butt for a few days.</p>\n<p>Since I lack snow at the moment and since Cache Valley isn’t filled with very many beaches I needed a testing ground. The River Trail met the need. At 27 pounds the Beargrease is a bit heavier than my mountain bike, but it’s 11 pounds more than my cyclocross bike. I expected a ‘bear’ on the climbs.</p>\n\n  <a class="gatsby-resp-image-link" href="/static/2014-04-10-17-06-35-511c056e9757616cf25e301220d9e5c6-db7d6.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAVajQ0mOkXH/xAAaEAADAQADAAAAAAAAAAAAAAABAhEDABAT/9oACAEBAAEFArOKb15KSMFq5gD/xAAVEQEBAAAAAAAAAAAAAAAAAAAQIv/aAAgBAwEBPwGT/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/AZqP/8QAGBABAAMBAAAAAAAAAAAAAAAAABARIUH/2gAIAQEABj8Cm3WP/8QAGxAAAwADAQEAAAAAAAAAAAAAAAERIUFRMWH/2gAIAQEAAT8hdFtiZ7wqMw2Tnp5klkc+s//aAAwDAQACAAMAAAAQQA//xAAXEQEAAwAAAAAAAAAAAAAAAAABEBEx/9oACAEDAQE/EBpkf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QB//EABwQAQEAAgIDAAAAAAAAAAAAAAERACExkUFhcf/aAAgBAQABPxBxG4sHfWKQouEI57cEkb4IM7M4utsRt+ZX1S8sz//Z&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Orange bulldozer" title="" src="/static/2014-04-10-17-06-35-511c056e9757616cf25e301220d9e5c6-b80fa.jpg" srcset="/static/2014-04-10-17-06-35-511c056e9757616cf25e301220d9e5c6-cf410.jpg 163w,\n/static/2014-04-10-17-06-35-511c056e9757616cf25e301220d9e5c6-62f2a.jpg 325w,\n/static/2014-04-10-17-06-35-511c056e9757616cf25e301220d9e5c6-b80fa.jpg 650w,\n/static/2014-04-10-17-06-35-511c056e9757616cf25e301220d9e5c6-08cb4.jpg 975w,\n/static/2014-04-10-17-06-35-511c056e9757616cf25e301220d9e5c6-db7d6.jpg 1024w" sizes="(max-width: 650px) 100vw, 650px">\n    </span>\n  </span>\n  \n  </a>\n    \n<p class="caption">Orange bulldozer from the parking lot - no bike in this picture, but I felt a kindred spirit</p>\nInstead, what I got was a bulldozer with a Cummins diesel. The tires are huge. Your brain will keep telling you that this should be hard but your legs will laugh at your false perception of reality. This thing can climb. Not only can it climb but it doesn&#x2019;t demand that you daintily select your route. You plow over whatever you damn well please - rocks, trees, woodland mammals, small children. Whatever happens to be in your way you just grin and keep going. Get on one of these and you will find yourself squashing everything like a bug - it&#x2019;s fun. I avoided nothing (Ok I did slow down for a few hikers - we can&#x2019;t be total jerks). Patches of gravel that would throw you down like a WWF wrestler on a cyclocross bike become light and fluffy clouds. I&#x2019;m sure there were rainbows and unicorns but I was too busy looking for the next squirrel to run down.\n<p>I only ran into a few issue that are really non-issues. Tires the that look like balloons act like balloons. When you apply power while climbing you will bounce the back end. I’m sure I looked like a clown with giant tires bobbing along the trail giggling as I went. I had a bit of a head wind coming back. Riding into the wind was actually harder than climbing. Wind cheating wheels these are not. You won’t be winning any KOMs against guys on lighter more aerodynamic bikes but then who brings a monster truck to the Indy 500? You won’t be able to wipe the grin off your face as you plow over them when they slow down long enough to ask, "what the hell was that?"</p>\n<p>Plow mightily my friends.</p>\n\n  <a class="gatsby-resp-image-link" href="/static/2014-04-10-16-36-52-d7292001bba1db277c5f4c8e8895ec14-db7d6.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABlevUvQJQ/8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBAgMQEv/aAAgBAQABBQJQUipGN6SOj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAIDAQAAAAAAAAAAAAAAAAAQETEyYf/aAAgBAQAGPwKjptSv/8QAGhAAAwEAAwAAAAAAAAAAAAAAAAERIVFxgf/aAAgBAQABPyFR1O2OtbI4ILJJkxo9DFk//9oADAMBAAIAAwAAABDTD//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EIj/xAAWEQEBAQAAAAAAAAAAAAAAAAAAASH/2gAIAQIBAT8QjX//xAAaEAEAAwADAAAAAAAAAAAAAAABABEhQVHx/9oACAEBAAE/ECYQDhK5DBalxwvfk3KHQXWXBLgG1hGReT//2Q==&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Salsa Beargrease" title="" src="/static/2014-04-10-16-36-52-d7292001bba1db277c5f4c8e8895ec14-b80fa.jpg" srcset="/static/2014-04-10-16-36-52-d7292001bba1db277c5f4c8e8895ec14-cf410.jpg 163w,\n/static/2014-04-10-16-36-52-d7292001bba1db277c5f4c8e8895ec14-62f2a.jpg 325w,\n/static/2014-04-10-16-36-52-d7292001bba1db277c5f4c8e8895ec14-b80fa.jpg 650w,\n/static/2014-04-10-16-36-52-d7292001bba1db277c5f4c8e8895ec14-08cb4.jpg 975w,\n/static/2014-04-10-16-36-52-d7292001bba1db277c5f4c8e8895ec14-db7d6.jpg 1024w" sizes="(max-width: 650px) 100vw, 650px">\n    </span>\n  </span>\n  \n  </a>\n    \n<p class="caption">One more shot because it&apos;s just so cool - Captain Neo graphics included</p>\n\n  <a class="gatsby-resp-image-link" href="/static/2014-04-10-16-37-50-0935cf3cf2df184cc0cb90e44fc2d84a-e2191.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 576px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgME/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAHG+LKaXjM2eKVzZrEgP//EABsQAQEAAgMBAAAAAAAAAAAAAAECABIDERMh/9oACAEBAAEFAo43EetYyDWovbOjKAws3Okqn045PQfn/8QAFhEBAQEAAAAAAAAAAAAAAAAAEBEB/9oACAEDAQE/AdLT/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHxAAAQMDBQAAAAAAAAAAAAAAAAERIRAiMQIyYbHx/9oACAEBAAY/AoWOS6TA7qP2bNIilvtGFjCRT//EAB0QAQADAQACAwAAAAAAAAAAAAEAESFBMZFRYXH/2gAIAQEAAT8hGgeuNIjEXhn3vcrB7omVNPEsblUmEf5C8K6guNj0+JZ2y403AfiN1P/aAAwDAQACAAMAAAAQ/wDGwP/EABgRAQADAQAAAAAAAAAAAAAAAAEAESEQ/9oACAEDAQE/EDhnFUlT/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/EImJmK//xAAeEAEAAwACAwEBAAAAAAAAAAABABEhUWExgdFxwf/aAAgBAQABPxAKtYGtGPWwWUDnUbbAvaB9j7kd1MUFDG+/UVrFvmn7HatCKvDqwyXLIG+Dv+Q1i/JduLII1a2gOmCkxH4vPewoRF61P//Z&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Me riding Salsa Beargrease" title="" src="/static/2014-04-10-16-37-50-0935cf3cf2df184cc0cb90e44fc2d84a-e2191.jpg" srcset="/static/2014-04-10-16-37-50-0935cf3cf2df184cc0cb90e44fc2d84a-e0401.jpg 163w,\n/static/2014-04-10-16-37-50-0935cf3cf2df184cc0cb90e44fc2d84a-3fafa.jpg 325w,\n/static/2014-04-10-16-37-50-0935cf3cf2df184cc0cb90e44fc2d84a-e2191.jpg 576w" sizes="(max-width: 576px) 100vw, 576px">\n    </span>\n  </span>\n  \n  </a>\n    \n<p class="caption">I&apos;m grinning on the inside.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2014-04-10-i-put-on-a-little-fat-its-kinda-sexy/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/i-put-on-a-little-fat-its-kinda-sexy",date:"2014-04-10T06:00:00Z",title:"I put on a little fat. It's kinda sexy",imageUrl:null,structuredHtml:null,tags:["Cycling"],image:{childImageSharp:{sizes:{src:"/static/2014-04-10-16-37-00-5df60756f82f24aba39f6380ca837d7e-381d6.jpg"}}}}}},{node:{excerpt:"This is a mainly a list of links to notes that others took and a few of my own notes from Ember Conf.",html:'<p>This is a mainly a list of links to notes that others took and a few of my own notes from Ember Conf.</p>\n<h2>Some Great Write Ups:</h2>\n<ul>\n  <li><a href="http://emberjs.com/blog/2013/12/17/whats-coming-in-ember-in-2014.html">What\'s coming in ember in 2014 (Not Ember Conf, but very helpful)</a></li>\n  <li><a href="http://reefpoints.dockyard.com/2014/03/17/emberconf-picks-ups-where-the-rails-community-left-off.html">Brian Cardarella - "Ember Conf picks up where the Rails community left off"</a></li>\n  <li><a href="https://github.com/zurt/notes/blob/master/EmberConf-2014.markdown">Conference summary by Kurt MacDonald on Github</a></li>\n  <li><a href="http://galleries.cloudhdr.com/galleries/fc26abb6-b4ae-11e3-88fa-1a5d92fbdbec">Nearly 400 pics from day 1 of Emberconf delivered in an Ember app, natch.</a></li>\n  <li><a href="http://chantastic.io/emberconf2014/">Emberconf 2014 Notes</a> from <a href="https://twitter.com/chantastic">Michael Chan</a></li>\n  <li><a href="http://hermanradtke.com/2014/03/27/emberconf-2014.html">Emberconf 2014 notes</a> from <a href="http://hermanradtke.com/">Herman J. Radtke III</a> <a href="https://twitter.com/hermanradtke">(@hermanradtke)</a></li>\n  <li><a href="http://pixelhandler.com/posts/we-are-emberconf-2014">We are EmberConf 2014</a> from <a href="https://twitter.com/pixelhandler">Bill Heaton</a></li>\n  <li><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/other-great-things-i-learned-at.html">Allison Sheren - "Other Great Things I Learned At EmberConf"</a></li>\n</ul>\n<h2>Keynote by <a href="http://yehudakatz.com/">Yehuda Katz</a> and <a href="">Tom Dale</a></h2>\n<img src="https://pbs.twimg.com/media/Bjlpbt_CYAEHzHw.jpg:large" alt="Yehuda Katz and Tom Dale keynote" class="article-image">\n<p><a href="https://speakerdeck.com/tomdale/emberconf-2014-keynote">Slides from the EmberConf keynote</a></p>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/opening-keynote.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>&quot;Having the right thing be default is not a small tweak. It&apos;s the difference between being productive and not being productive.&quot; -- <a href="http://yehudakatz.com/">Yehuda Katz</a> <a href="https://twitter.com/wycats">(@wycats)</a></li>\n  <li>&quot;The fact is that the flexibiltiy we think we need, that we want - we really don&apos;t. I think the conclusion is that we&apos;re not as special and unique as we like to believe.&quot; -- <a href="http://david.heinemeierhansson.com/">David Heinemeier Hansson</a> <a href="https://twitter.com/dhh">(@dhh)</a></li>\n  <li><a href="https://signalvnoise.com/posts/1926-a-shorthand-for-designing-ui-flows">Flows are just as important to good interfaces as individual screens are.&quot;</a> -- <a href="http://feltpresence.com/">Ryan Singer</a> <a href="https://twitter.com/rjs">(@rjs)</a></li>\n  <li>It&apos;s important that an open source community consist of individuals of diverse backgrounds.</li>\n  <li>The web is important because it&apos;s a highly capable platform that is owned by nobody. -- <a href="http://yehudakatz.com/">Yehuda Katz</a> <a href="https://twitter.com/wycats">(@wycats)</a></li>\n</ul>\n<p><a href="https://www.skylight.io/">Skylight</a> - a new product coming from Tilde to monitor and analyze performance in your Ember.js application.</p>\n<h2><a href="https://speakerdeck.com/simplereach/using-ember-to-make-the-seemingly-impossible-easy">Using Ember to Make the Seemingly Impossible Easy by <a href="http://andremalan.net/">André Malan</a> and <a href="http://heyjinjs.us">Heyjin Kim</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/using-ember-to-make-seemingly.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li><a href="http://emberjs.jsbin.com/ember-conf-d3/3/edit">#D3JS + #EmberJS Component for Data Visualization</a> by <a href="https://twitter.com/heyjinkim">(@heyjinkim)</a></li>\n  <li><a href="http://heyjinjs.us/post/57158250642/reusable-d3-charts-with-ember-js-components">Reusable D3 Charts with Ember Components</a> by <a href="http://heyjinjs.us">Heyjin Kim</a></li>\n  <li><a href="http://www.simplereach.com/blog/why-use-d3-ember-for-data-visualization">Why we use D3 and Ember for Data Visualization</a></li>\n</ul>\n<h2><a href="https://speakerdeck.com/rwjblue/contributing-to-ember">Contributing to Ember The Inside Scoop</a> by <a href="http://crashruby.com/">Robert Jackson</a> <a href="https://twitter.com/rwjblue">(@rwjblue)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/contributing-to-ember.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li><a href="http://t.co/SFv9P6guea">Don&apos;t post security issues on GitHub.</a> Instead email security@emberjs.com.</li>\n</ul>\n<div class="image-grid">\n  <div class="image">\n    <img src="https://pbs.twimg.com/media/Bjl_sukCEAEnnCM.jpg" class="article-image" alt="Ember.js feature flags">\n    <p class="caption">How do you know which features are currently enabled in ember.js? Check features.json.</p>\n  </div>\n  <div class="image">\n    <img src="https://pbs.twimg.com/media/Bjl-vWACQAA668W.jpg" class="article-image" alt="Ember.js commit prefixes">\n    <p class="caption">Ember.js commit prefixes</p>\n  </div>\n  <div class="image">\n    <img src="https://pbs.twimg.com/media/Bjl-NVVCIAEvG7D.jpg" class="article-image" alt="Ember.js doc commit prefixes">\n    <p class="caption">Contributing Ember.js doc prefixes.</p>\n  </div>\n</div>\n<p class="clearfix"></p>\n<h2><a href="http://www.slideshare.net/jo_liss/broccoli-32911567">Ember Data and the Way Forward</a> by <a href="https://twitter.com/terzicigor">Igor Terzic</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/ember-data.html">Notes from Allison Sheren</a></p>\n<p><a href="http://emberjs.com/blog/2014/03/18/the-road-to-ember-data-1-0.html">Ember Data 1.0 is coming very soon!</a></p>\n<ul>\n  <li>Ember data returns objects or collections that mixin the promise proxy mixin.</li>\n  <li>In the future there will be an easy way to implement lazy arrays and all relationships will be promisified</li>\n</ul>\n<h2><a href="http://www.slideshare.net/jo_liss/broccoli-32911567">No more `grunt watch`: Modern build workflows with Broccoli</a> by <a href="http://www.solitr.com/blog/">Jo Liss</a> <a href="https://twitter.com/jo_liss">(@jo_liss)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/broccoli.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>"Broccoli loves Grunt. Grunt is a task runner, not a build tool." -- <a href="https://twitter.com/jo_liss">(@jo_liss)</a></li>\n  <li><a href="http://www.solitr.com/blog/2014/02/broccoli-first-release/">Broccoli: First Beta Release</a></li>\n</ul>\n<h2><a href="http://ef4.github.io/ember-animation-demo/#/title-slide">Animations and Transitions in an Ember App</a> by <a href="https://twitter.com/eaf4">Edward Faulkner</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/animations-and-transitions.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li><a href="http://t.co/Wz5wLHAEHo">willTransition handler for performing a "mobile app like" parent child slide animation.</a></li>\n  <li>Made a philosophical point about animated UIs and spatial reasoning. <a href="http://en.m.wikipedia.org/wiki/Method_of_loci">Memory palace technique</a></li>\n</ul>\n<h2><a href="http://johnkpaul.github.io/presentations/emberconf/components-transclude-directives/#/">Ember Components Transclude My Directives</a> by John Paul <a href="https://twitter.com/johnkpaul">(@johnkpaul)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/ember-components-transclude-my.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>Angular transclude == Ember yield.</li>\n</ul>\n<h2><a href="http://emberconf.com/images/slides/2014_jmack.pdf">Modeling the App Store and iTunes with Ember Data</a> by Jeremy Mack <a href="https://twitter.com/mutewinter">(@mutewinter)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/modeling-app-store-and-more.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>Cool project but not open source. Can be found here: <a href="https://fnd.io/">fnd.io</a>. Can attempt to look at the source if you want to see how he did it.</p>\n  <li><a href="https://github.com/mutewinter/tapas-with-ember">Tapas with Ember on Github</a></li>\n  <li>Using <a href="https://github.com/ftlabs/fastclick">fast click</a></li>\n</ul>\n<h2><a href="http://talks.erikbryn.com/htmlbars-emberconf/">HTMLBars&#x2014;The Next-Generation of Templating in Ember.js</a> by Erik Bryn <a href="https://twitter.com/ebryn">(@ebryn)</a> and Kris Selden <a href="https://twitter.com/krisselden">(@krisselden)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/htmlbars.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li><a href="https://gist.github.com/wycats/8116673">Gist from Yehuda Katz on HTMLBars</a>  **** This is important. Helps explain some cross over from RxJS and Reactive</li>\n  <li>HTMLbars eliminates &lt;script&gt; tags, {{bindAttr}}, and gives Ember the fastest bound templates on the planet.</li>\n  <li>HtmlBars no more script tags and performant over large lists.</li>\n  <li>Almost ready</li>\n</ul>\n<img src="http://talks.erikbryn.com/rise-of-the-clients/terminator2.jpg" alt="Ember.js rise of the clients" class="article-image">\n<h2><a href="https://github.com/rpflorence/talk-emberconf-2014">The {%raw %}{{x-foo}}{% endraw %} in You</a> by <a href="http://ryanflorence.com/">Ryan Florence</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/x-foo.html">Notes from Allison Sheren</a></p>\n<div class="well">\n  <p><a href="https://twitter.com/ryanflorence">@ryanflorence</a> flies a drone with his {% raw %}{{x-foo}}{% endraw %} component at 2014</p>\n  <iframe width="560" height="315" src="//www.youtube.com/embed/Le0ouVRElrA" frameborder="0" allowFullScreen></iframe>\n  <iframe width="420" height="315" src="//www.youtube.com/embed/oRcfOeHW-Sk" frameborder="0" allowFullScreen></iframe>\n</div>\n<ul>\n  <li><a href="http://instructure.github.io/ic-ember/">ic components from Instructure</a></li>\n  <li><a href="https://twitter.com/ryanflorence">@ryanflorence</a> has a way to distribute Ember Components easily to npm and bower! My JSP taglib dreams might be possible.</li>\n  <li>"Ember makes the wrong thing hard and the right thing easy." -- <a href="https://twitter.com/ryanflorence">@ryanflorence</a></li>\n  <li>"I think of productivity as how many questions can I not be asked by my team if my code makes sense." -- <a href="https://twitter.com/ryanflorence">@ryanflorence</a></li>\n</ul>\n<h2><a href="http://static.iamstef.net/ember_conf_2014.pdf">Ember CLI</a> by <a href="http://iamstef.net/">Stef Penner</a> <a href="https://twitter.com/stefanpenner">(@stefanpenner)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/ember-cli.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li><a href="https://github.com/stefanpenner/ember-cli">Ember CLI on Github</a></li>\n  <li>Ember-CLI as a cow-path that load-balances problem solving.</li>\n  <li>If you want to use Ember cli and you have used Ember Tools in the past you\'ll have to remove Ember tools before installing cli.</li>\n  <li>Use ES6 modules and end the holy wars.</li>\n  <li>Talked to several people who are using it now. I setup a project and everything worked great (after I removed Ember Tools).</li>\n</ul>\n<h2><a href="https://speakerdeck.com/devarispbrown/ember-is-for-the-children">Ember is for the Children</a> by <a href="https://twitter.com/devarispbrown">DeVaris Brown</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/ember-for-children.html">Notes from Allison Sheren</a></p>\n<img src="https://pbs.twimg.com/media/BjrM7idCIAEXLRh.jpg" alt="@devarispbrown presenting curriculum he created to teach underprivileged kids technology" class="article-image">\n<ul>\n  <li>In the Bay area youth ages 16-19 African American unemployment is at 38% and SouthEast Asian is 54%</li>\n  <li>@devarispbrown show that kids can understand and use complex concepts given good teaching, resources, and tools that empower.</li>\n  <li>@wycats: So inspired by @devarispbrown&apos;s story at  about teaching kids to code using Ember.js.</li>\n  <li><img src="https://pbs.twimg.com/media/BjrL-N8CQAAWECL.jpg" class="article-image" alt="Powerpoint slide - Rebecca and Kai built app to notify food is available at local food banks.">Real &quot;real world&quot; problems. Rebecca and Kai built app to notify food is available at local food banks.</li>\n  <li><img src="https://pbs.twimg.com/media/BjrLh0fCMAA3wt0.jpg" class="article-image" alt="Powerpoint slide - Michelle full ride scholarship,CS major, resurrected CS club. Congrats!">Michelle full ride scholarship,CS major, resurrected CS club. Congrats!</li><li>\n</li></ul>\n<p>On a slightly related note this came through from Cable Green <a href="https://twitter.com/cgreen">(@cgreen)</a> at Creative Commons at about the same time:</p>\n<blockquote>\n  &quot;Accommodating +105 mil students would require &gt; 4 major universities (30,000 students) to open every week&quot;\n</blockquote>\n<p>Universities are becoming crowded. Programs like those from DeVaris Brown can reach those who might not have opportunities via traditional educational channels.</p>\n<h2><a href="https://speakerdeck.com/machty/emberconf-2014-mr-router-embraces-the-controller-alex-matchneer">Ember Components</a> by Alex Matchneer <a href="https://twitter.com/machty">(@machty)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/ember-components.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>Query parameters still coming</li>\n  <li>Query parameters are harder than you think</li>\n  <li>Query parameters will save us all</li>\n</ul>\n<p><a href="https://machty.s3.amazonaws.com/emberconf/fun.html">Example of model dependent state</a>.</p>\n<h2><a href="https://t.co/uFqp1vNR4Q">The Unofficial, Official Ember Testing Guide</a> by <a href="http://coderberry.me/">Eric Berry</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/the-unofficial-official-ember-testing.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>There&apos;s a stigma around Ember testing that it&apos;s hard. It&apos;s not, it&apos;s unknown.&quot; -- <a href="https://twitter.com/coderberry">@coderberry</a></li>\n  <li><img src="https://pbs.twimg.com/media/Bjru8IICQAMU10D.jpg" alt="@coderberry from @instructure presents on testing Ember apps" class="article-image"><a href="https://twitter.com/coderberry">@coderberry</a> from <a href="https://twitter.com/instructure">@instructure</a> presents on testing Ember apps</li>\n  <li><a href="https://twitter.com/coderberry">@coderberry&apos;s</a> <a href="https://github.com/emberjs/website/pull/1401">Initial PR for ember testing guide redux</a>.</li>\n  <li><a href="http://jsbin.com/kilej/3/edit">Unit tested dependent-select-fields! JS Bin</a></li><a href="http://jsbin.com/kilej/3/edit">\n  </a><li><a href="http://jsbin.com/kilej/3/edit"></a><a href="http://t.co/v53Gcx7qqk">Unit Testing Components JS Bin</a></li>\n  <li><a href="http://t.co/sEgo0n8wGO">JohnKPaul Component JS Bin</a></li>\n  <li><a href="http://t.co/tWtHEhuCww">Example of Unit Testing a ED Model JS Bin</a></li>\n  <li><a href="https://twitter.com/ryanflorence">(@ryanflorence)&apos;s</a> <a href="https://github.com/rpflorence/ember-qunit">Ember qunit library</a>.</li>\n</ul>\n<h2><a href="https://speakerdeck.com/cmeiklejohn/divergent">Convergent/Divergent</a> by <a href="http://christophermeiklejohn.com/">Christopher Meiklejohn</a> <a href="https://twitter.com/cmeik">(@cmeik)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/convergentdivergent.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>"You are building a distributed system". Great to think all that theory applies to Ember</li>\n  <li><a href="http://christophermeiklejohn.com/distributed/systems/2013/07/12/readings-in-distributed-systems.html">Readings in distributed systems</a></li>\n</ul>\n<h2><a href="https://www.dropbox.com/s/02peoxevqwjz1bu/Controlling%20Route%20Traversal.pdf">Controlling Route Traversal with Flows</a> by <a href="https://twitter.com/nathanhammond">Nathan Hammond</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/controlling-route-traversals-with-flow.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li><a href="https://github.com/nathanhammond/ember-flows">Ember flows project on Github</a>.</li>\n</ul>\n<h2><a href="http://madhatted.com/2014/3/28/via-emberconf-performance-in-ember-apps">Snappy Means Happy: Performance in Ember Apps</a> by <a href="http://madhatted.com/">Matthew Beale</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/snappy-means-happy.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>Observers in Ember.js are synchronous and fire immediately. Use setProperties or Ember.run.once to optimize.</li>\n  <li>Apps to simulate network latency:\n    <ul>\n      <li><a href="http://slowyapp.com/">Slowy app</a></li>\n      <li><a href="http://www.charlesproxy.com/documentation/proxying/throttling/">Charles Proxy</a></li>\n      <li><a href="https://developer.apple.com/library/ios/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/WhyNetworkingIsHard/WhyNetworkingIsHard.html">iOS Docs on &quot;Designing for Real-World Networks&quot;</a></li>\n    </ul>\n  </li>\n  <li><img src="https://pbs.twimg.com/media/BjsQOkiCQAA52CJ.jpg" alt="Performance numbers from Ilya Grigorik" class="article-image">Performance by numbers by <a href="https://twitter.com/igrigorik">Ilya Grigorik</a></li>\n  <li><a href="http://chimera.labs.oreilly.com/books/1230000000545">Free, online version of High-Performance Browser Networking</a> (Legal) by <a href="https://twitter.com/igrigorik">Ilya Grigorik</a></li>\n  <li>Practical Ember.js advice: Use replaceWith instead of transitionTo to prevent pollution of the user&apos;s browser history</li>\n</ul>\n<h2>Keynote by Dave Herman <a href="https://twitter.com/littlecalculist">(@littlecalculist)</a></h2>\n<p><a href="http://allisonsherenmcmillan.blogspot.com/2014/03/final-keynote.html">Notes from Allison Sheren</a></p>\n<ul>\n  <li>"This is a community that cares about quality, thoughtfulness, design and cares about each other."</li>\n</ul>\n<h2>Other Stuff</h2>\n<ul>\n  <li><a href="https://github.com/firebase/emberFire">emberFire from Firebase</a></li>\n  <li><a href="https://www.digitalocean.com/?refcode=735771c93fa7">Digital Ocean Hosting</a> (My affiliate link. Always need more credits)</li>\n</ul>\n<h2>Ember Developers on Twitter:</h2>\n<ul>\n  <li><a href="https://twitter.com/gustin">Gustin</a></li>\n  <li><a href="https://twitter.com/crsexton">Christopher Sexton</a></li>\n  <li><a href="https://twitter.com/tundal45">Ashish Dixit</a></li>\n  <li><a href="https://twitter.com/wagenet">@wagenet</a></li>\n  <li><a href="https://twitter.com/trianglegrrl">@trianglegrrl</a></li>\n  <li><a href="https://twitter.com/EmberConf">@EmberConf</a></li>\n  <li><a href="https://twitter.com/rjs">@rjs</a></li>\n  <li><a href="https://twitter.com/heyjinkim">@heyjinkim</a></li>\n  <li><a href="https://twitter.com/ramcio">@ramcio</a></li>\n  <li><a href="https://twitter.com/caretpi">@caretpi</a></li>\n  <li><a href="https://twitter.com/johnkpaul">@johnkpaul</a></li>\n  <li><a href="https://twitter.com/ryanflorence">@ryanflorence</a></li>\n  <li><a href="https://twitter.com/caretpi">@caretpi</a></li>\n  <li><a href="https://twitter.com/shawndumas">@shawndumas</a></li>\n  <li><a href="https://twitter.com/andrewle">@andrewle</a></li>\n  <li><a href="https://twitter.com/wycats">@wycats</a></li>\n  <li><a href="https://twitter.com/devarispbrown">@devarispbrown</a></li>\n  <li><a href="https://twitter.com/Stefania_druga">@Stefania_druga</a></li>\n  <li><a href="https://twitter.com/coderberry">@coderberry</a></li>\n  <li><a href="https://twitter.com/aaronshaf">@aaronshaf</a></li>\n  <li><a href="https://twitter.com/ramcio">@ramcio</a></li>\n  <li><a href="https://twitter.com/machty">@machty</a></li>\n  <li><a href="https://twitter.com/nathanhammond">@nathanhammond</a></li>\n  <li><a href="https://twitter.com/mixonic">@mixonic</a></li>\n  <li><a href="https://twitter.com/shawndumas">@shawndumas</a></li>\n  <li><a href="https://twitter.com/tomdale">@tomdale</a></li>\n  <li><a href="https://twitter.com/ag_dubs">@ag_dubs</a></li>\n  <li><a href="https://twitter.com/johnkpaul">@johnkpaul</a></li>\n  <li><a href="https://twitter.com/BezoMaxo">@BezoMaxo</a></li>\n  <li><a href="https://twitter.com/bantic">@bantic</a></li>\n  <li><a href="https://twitter.com/ahaurw01">@ahaurw01</a></li>\n  <li><a href="https://twitter.com/tomdale">@tomdale</a></li>\n  <li><a href="https://twitter.com/shawndumas">@shawndumas</a></li>\n  <li><a href="https://twitter.com/_jayphelps">@_jayphelps</a></li>\n  <li><a href="https://twitter.com/hermanradtke">@hermanradtke</a></li>\n  <li><a href="https://twitter.com/jayunit">@jayunit</a></li>\n  <li><a href="https://twitter.com/josephgentle">@josephgentle</a></li>\n  <li><a href="https://twitter.com/substack">@substack</a></li>\n  <li><a href="https://twitter.com/kamalasaurus">@kamalasaurus</a></li>\n</ul>',
id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-29-ember-conf-2014-summary-and-resources/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/ember-conf-2014-summary-and-resources",date:"2014-03-29T06:00:00Z",title:"Ember Conf 2014 Summary and Resources",imageUrl:null,structuredHtml:null,tags:["Ember.js","Javascript","Programming"],image:null}}},{node:{excerpt:"Ember.js ' strength as a framework is second only to its power as a community. Over the past two days at  Ember Conf \nI've had a chance to interact with some of the top minds in the Javascript world who are shaping the future of the web.\n Brian Cardarella did an excellent job summarizing\nthe mood of the conference - \"Ember.js picks up where Rails left off.\"  Years ago I remember attending my very…",html:'<p><a href="http://emberjs.com/">Ember.js</a>\' strength as a framework is second only to its power as a community. Over the past two days at <a href="http://emberconf.com/">Ember Conf</a>\nI\'ve had a chance to interact with some of the top minds in the Javascript world who are shaping the future of the web.\n<a href="http://reefpoints.dockyard.com/2014/03/17/emberconf-picks-ups-where-the-rails-community-left-off.html">Brian Cardarella did an excellent job summarizing\nthe mood of the conference - "Ember.js picks up where Rails left off."</a> Years ago I remember attending my very first <a href="http://mtnwestrubyconf.org/">Mountain West Ruby conference</a>\nand leaving with a similar impression. That same year we attended <a href="http://www.railsconf.com/">Rails Conf</a> 2007 in Portland and via a serendipitious conversation with\n<a href="http://david.heinemeierhansson.com/">David Heinemeier Hansson</a> I came to understand\nthe counter-culture, rockstar, ninja facade was a carefully engineered marketing play by <a href="https://37signals.com/">37 Signals</a>. That effort worked out very well for them. The press asked for rebels\nand <a href="https://twitter.com/dhh">DHH</a> and company happily complied. I still have the image of DHH\'s leather jacket embroidered with a dragon emblazed on my memory.\n<a href="http://rubyonrails.org/">Rails</a> was very much 37 Signals and their energy and popularity raised an army of brilliant contributors who turned Ruby on Rails into an industrial strength application framework.</p>\n<p><a href="http://emberjs.com/">Ember.js</a> has a distinctly different feel. <a href="http://yehudakatz.com/">Yehuda Katz</a> and <a href="http://tomdale.net/">Tom Dale</a>\nare two brilliant and influencial developers, but more importantly they are both very nice guys. The culture of an open source project feeds from it\'s founders and as a result\nthe <a href="http://emberjs.com/">Ember.js</a> community is also very open and welcoming. Open source needs to be "open". That seems like an obvious statement. However, just opening your source code isn\'t enough anymore.\nYou must be open in the sense that everyone is welcome to the party. I like that the <a href="http://emberjs.com/">Ember.js</a> accepts as \'core\' contributors those who write documentation and plan conferences.\n<a href="http://emberjs.com/">Ember.js</a> may have been founded by a couple of really smart guys but their vision has allowed a code base to grow to a movement now owned by a world wide community of individuals\nwith diverse backgrounds and perspectives. That\'s powerful.</p>\n<p>When I started writing software many years ago I was isolated. Open source software was still a new concept. I was writing code using expensive Microsoft tools\n(php didn\'t even exist then), and I felt like I had to solve all my problems on my own. All of my fellow developers were focused on desktop applications. I could read the\nsource html of any page I found interesting, but the server code remained an enigma. Javascript was still a toy used to write cats that chased your mouse around\nthe screen. Microsoft\'s documentation provided examples but they were limited. Source code was money and so very few companies permited their developers to share it.\nWe all lived on our own little islands. It was a software dark age where ideas weren\'t free.\nI spent my nights and weekends navigating the nuances of this new thing we called the \'web\'. My first foray into the world of web development was lonely.</p>\n<p>Even today, I find myself falling into the trap of unwittingly isolating myself and even our team as we try to solve complex problems. We worry about performance. We worry about architecture.\nWe worry about long term maintainability of our projects. We worry about best practices for organizing and deploying our code.\nWe forget that everyone else is worrying about the same problems.\nThe <a href="http://emberjs.com/">Ember.js</a> community has chosen to combine efforts and worry about these problems as a group.\nThe result is that we can solve the big problems once,\ncommit the solution to code and share it - openly. <a href="http://emberjs.com/">Ember.js</a> provides not only a convention for\nwriting and organizing our code but also a framework around which we can unify our discussion about the bigger problems the development community faces.</p>\n<p>We\'ve spend the past year buidling Ember application for a diverse group of clients many of who are smaller organizations and startups. They look to us to make the right\ntechnology choices for them. They can\'t afford the wrong choices - they don\'t have the money to re-implement the solution. Wrong choices put them out of business.</p>\n<p>I\'m glad to say that we\'ve made the right choice.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-27-ember-conf-2014-wrap-up/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/ember-conf-2014-wrap-up",date:"2014-03-27T06:00:00Z",title:"Ember Conf 2014 Wrap Up",imageUrl:null,structuredHtml:null,tags:["Ember.js","Javascript","Programming"],image:null}}},{node:{excerpt:"More than a few times now I've run into a situation where I really need to be able to relate one object to another through multiple tables - basically use 'has_many' twice. Here's an example set of objects where a user can have many products but to get to the products you have to first go through associations and then through companies.\n'user.companies' is straight forward ActiveRecord but 'user…",html:"<p>More than a few times now I've run into a situation where I really need to be able to relate one object to another through multiple tables - basically use 'has_many' twice.</p>\n<p>Here's an example set of objects where a user can have many products but to get to the products you have to first go through associations and then through companies.\n'user.companies' is straight forward ActiveRecord but 'user.companies.products' won't give you what you need.</p>\n<pre><code class=\"ruby\">\n\nclass User < ActiveRecord::Base\n  has_many :associations\n  has_many :companies, :through => :associations\nend\n\nclass Association < ActiveRecord::Base\n  belongs_to :user\n  belongs_to :company\nend\n\nclass Company < ActiveRecord::Base\n  has_many :associations\n  has_many :users, :through => :associations\n  has_many :products\nend\n\nclass Product < ActiveRecord::Base\n  belongs_to :company\nend\n\n</pre></code>\n<p>What I really want to do is setup an efficient query that bypasses the companies table. The associations table and the products table both have a 'company_id'.\nWhat if we use those keys to relate the user to products? Doing so yields a bit of code like that below. Have a look at the comments for the details.</p>\n<pre><code class=\"ruby\">\n\nclass User < ActiveRecord::Base\n  has_many :associations\n  has_many :companies, :through => :associations\n\n  # Step 1 #####################################################\n  # This relationship bypasses the companies table to get products that a user has a relationship with through the companies table.\n  # The real magic happens when we specify 'source'. ActiveRecord knows to use the 'associations' table because we specify it using through.\n  # We then direct it to the 'products' source. Now go to the comments in 'Association' for the next step.\n  ##############################################################\n  has_many :products, source: :product, through: :associations\n\nend\n\nclass Association < ActiveRecord::Base\n  belongs_to :user\n  belongs_to :company\n\n  # Step 2 #####################################################\n  # Create a new 'belongs_to' relationship (used by 'source' in the 'has_many through' relationship in users).  Associate directly with a product\n  # using association.company_id and product.company_id to bypass a query to the companies table. We do this by specifying the foreign_key which is the\n  # name of the key in the products table as well as the primary_key which is the key from the associations table.\n  ##############################################################\n  belongs_to :product, foreign_key: :company_id, primary_key: :company_id\n\nend\n\nclass Company < ActiveRecord::Base\n  has_many :associations\n  has_many :users, :through => :associations\n  has_many :products\nend\n\nclass Product < ActiveRecord::Base\n  belongs_to :company\n\n  # Step 3 #####################################################\n  # This step isn't required but it will setup the bidirectional relationship back to users in case we want to be able to do something like 'product.users'.\n  # Associate directly with an association using the company_id to bypass a query to the companies table.\n  # Specify that we have many associations using the products.company_id as the primary key and associations.company_id as the foreign_key.\n  # Then we can setup a relationship with users using the associations table.\n  has_many :associations, primary_key: :company_id, foreign_key: :company_id\n  has_many :users, through: :associations\n\nend\n</pre></code>\n<p>There you have it. A has_many relationship through multiple tables (more or less - we bypass the companies table but that's a good thing for performance).\nNow we can do exciting stuff like this:</p>\n<pre><code class=\"ruby\">\n\n  result = user.products.select(\"count(associations.id) as total, associations.state, count(products.id) as products_total, products.category_id\").group(\"state, category_id\").order('category_id')\n\n</pre></code>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-24-activerecord-has_many-through-multiple-models/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/activerecord-has_many-through-multiple-models",date:"2014-03-24T06:00:00Z",title:"ActiveRecord has_many through multiple models",imageUrl:null,structuredHtml:null,tags:["Rails","ActiveRecord","has_many","Programming"],image:null}}},{node:{excerpt:"With the Cache Maker club we're always looking for ways to make it easier for kids to interact with hardware. Traditionally, interacting with hardware meant learning assembly or if you picked the right platform you could write embedded C. Today things are different. With Arduino we have an open source hardware platform with libraries in your favorite language. Javascript is an approachable…",html:'<p>With the Cache Maker club we\'re always looking for ways to make it easier for kids to interact with hardware. Traditionally, interacting with hardware meant learning assembly or if you picked the right platform you could write embedded C. Today things are different.</p>\n<p>With Arduino we have an open source hardware platform with libraries in your favorite language. Javascript is an approachable language. Put the two together and kids can program hardware.</p>\n<p>That\'s why "Hardware Hacking with JS" with <a href="http://jamisondance.com/">Jamison Dance</a> (<a href="https://twitter.com/jergason">@jergason</a>) was so awesome.</p>\n<p><a href="https://hackpad.com/Hardware-Hacking-for-JS-Developers-enBfwkN103s">Here\'s the hackpad notes</a></p>\n<ul>\n<li><a href="https://github.com/rwaldron/johnny-five">Johnny Five</a> - node library to communicate via usb port to hardware device</li>\n<li>Arduino boards have a bunch of pins you can read from or write to - get a 1 or a 0</li>\n<li>You can set up callbacks for every time a pin is on</li>\n<li><a href="https://github.com/andrew/node-xbox-controller">Node Xbox Controller</a> - let\'s you bind to events coming from an xbox controller</li>\n<li><a href="https://github.com/jergason/hardware-hacking-mwjs-2014">Slides and code from the presentation.</a></li>\n</ul>\n<p>Here\'s Jamison flying a parrot drone using an xbox controller via node.js:</p>\n<iframe width="560" height="315" src="//www.youtube.com/embed/kWVEjbvx6Tg" frameborder="0" allowFullScreen="true"></iframe>',id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-18-hardware-hacking-with-js/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/hardware-hacking-with-js",date:"2014-03-18T06:00:00Z",title:"Hardware Hacking with JS",imageUrl:null,structuredHtml:null,tags:["Mountain West Javascript","mwjs","Javascript"],image:null}}},{node:{excerpt:"Ryan Florence  presenting \"Bringing the Web Back to the Blind\". Probably the biggest accessiblity resource on the web:  webaim.org . Use your headers for organization of content rather than for visual display. It helps blind users navigation through\nthe content based on its importance. Adding 'role=\"main\"' provides a 'landmark' in the page that a screen reader can find. A blind user can use these…",html:"<p><a href=\"http://ryanflorence.com/\">Ryan Florence</a> presenting \"Bringing the Web Back to the Blind\".</p>\n<p>Probably the biggest accessiblity resource on the web: <a href=\"http://webaim.org/\">webaim.org</a>.</p>\n<h2>Accessiblity</h2>\nAccessiblity is more than just alt tags. You still want alt tags but there's more.\n<p>Use your headers for organization of content rather than for visual display. It helps blind users navigation through\nthe content based on its importance.</p>\n<h2>Landmarks</h2>\nUse the role tag on elements. For example:\n<pre><code class=\"html\">\n<div role=\"main\"></div>\n</pre></code>\n<p>Adding 'role=\"main\"' provides a 'landmark' in the page that a screen reader can find. A blind user can use these landmarks\nto quickly navigate to specific sections of the page.</p>\n<p>Html 5 includes a 'main' tag as well as others like 'article' that screen readers can use as landmarks.</p>\n<h2>Screen Reader Specific Content</h2>\nUse css to hide text that is important for screen readers. Create a 'visually-hidden' css class then include\nadditional information to to describe the element. For example, developers frequently use an 'x' to close a modal\nor other window. The screen reader will read this as 'times'. We can add additional information indicating that the\nlink/button will close the window.\n<p>Screen readers will execute Javascript!</p>\n<h2>ARIA</h2>\nAdd screen reader specific text with an attribute:\n<blockquote>\naria-label=\"A close button\"\n</blockquote>\n<p>Tell the screen reader to ignore an element with:</p>\n<blockquote>\naria-hidden=\"true\"\n</blockquote>\n<p><a href=\"http://www.w3.org/WAI/intro/aria\">WAI ARIA</a> is a specification that defines how to make your website more accessible.</p>\n<p>Aria attributes that can be used with tabs:</p>\n<ul>\n<li>aria-selected</li>\n<li>aria-controls</li>\n<li>aria-expanded</li>\n</ul>\n<p>However, if you don't know how to use 'aria' then don't. You'll probably make things worse.</p>\n<p>We frequently think of Visual Interaction Design. Consider \"Audible Interaction Design\". Try out a screen reader and\nsee what it's like to use your website without the visual UI.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-bringing-the-web-back-to-the-blind-with-ryan-florence/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/bringing-the-web-back-to-the-blind-with-ryan-florence",date:"2014-03-17T06:00:00Z",title:"Bringing the Web Back to the Blind with Ryan Florence",imageUrl:null,structuredHtml:null,tags:["Mountain West Javascript","mwjs","Programming","accessibility"],image:null}}},{node:{excerpt:'Mountain West Javascript starts today.  Peter Hunt , Facebook developer and contributor to\n reactjs.org  is first up presenting "Be predictable, not correct." Here\'s my notes: Even better:  Notes on Hackpad NOT the simpliest way to build things. Avoid fighting the framework. Rerender and diffing feels expensive which is why we do data binding. KVO entangles app code with observables. Angualr style…',html:'<p>Mountain West Javascript starts today. <a href="https://twitter.com/floydophone">Peter Hunt</a>, Facebook developer and contributor to\n<a href="http://facebook.github.io/react/">reactjs.org</a> is first up presenting "Be predictable, not correct."</p>\n<p>Here\'s my notes:</p>\n<p>Even better: <a href="https://hackpad.com/Secrets-of-the-Virtual-DOM-ULWeSrnO3cF">Notes on Hackpad</a></p>\n<h2>Key Value Observation (KVO)</h2>\nThis is the pattern that Ember.js implements. Idea is to bind data to elements in the DOM.\nThe problem is that we have to use units of computation that the platform gives you. This results in leaky abstractions. The developer\nhas to hold to much information in their head and solutions become complex to implement. Can\'t compose using primitivies\nAngular uses Dirty Checking.\n<p>NOT the simpliest way to build things.</p>\n<h2>Reactive Design</h2>\nIn a mythical javascript language we could use Javascript primitives and we would have a reactive DOM.\nHowever, Javascript is not reactive. We do need to build some layer of abstraction. Reactjs built a reactive DOM.\nNo databinding artifacts. Takes advantage of existing Javascript.\n<h3>Virtual DOM</h3>\n- Whenever anything may have changed, re-render everything\n- Diff the previous data previous with the next\n- Only update the DOM with what changed\n<p>Avoid fighting the framework. Rerender and diffing feels expensive which is why we do data binding.</p>\n<ul>\n<li>KVO entangles app code with observables.</li>\n<li>Angualr style dirty chcking forces you to pass everything through $scope or $watch</li>\n<li>Virtual DOM needs a signal to say anything may have changed</li>\n</ul>\n<h3>Performance</h3>\n- Memory is more important for performance on mobile than CPU usage.\n- Render code is usually cheap.\n- Your view is usually smaller than your model.\n<p>Three words:</p>\nSimple composable primitives',id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-pete-hunt-be-predictable-not-correct/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/pete-hunt-be-predictable-not-correct",date:"2014-03-17T06:00:00Z",title:"Pete Hunt - Be predictable, not correct.",imageUrl:null,structuredHtml:null,tags:["Mountain West Javascript","mwjs","Javascript"],image:null}}},{node:{excerpt:"Use functional concepts to build nice observable streams: Map: transform one collection into another. Filter: filter one collection into a smaller collection. Reduce: take a collection and reduce it into a single result (like inject in Ruby). Zip: zip two collections into a single collection. Reactive programming requires thinking functionaly. Turn events into collections. Allow you to handle…",html:'<h2>The Functional Part</h2>\nDon\'t describe how to process the data using a loop instead have your code state what you want to happen.\n<p>Use functional concepts to build nice observable streams:</p>\n<ul>\n<li>Map: transform one collection into another.</li>\n<li>Filter: filter one collection into a smaller collection.</li>\n<li>Reduce: take a collection and reduce it into a single result (like inject in Ruby).</li>\n<li>Zip: zip two collections into a single collection.</li>\n</ul>\n<p>Reactive programming requires thinking functionaly.</p>\n<h2>Observables</h2>\n<ul>\n<li>Turn events into collections.</li>\n<li>Allow you to handle errors in the collection.</li>\n<li>Unsubscribe when the event is done.</li>\n</ul>\n<h2>Observable methods</h2>\n- merge: combine collections into a collection as each item arrives.\n- concatAll: combine collections into a new collection in the order in which they were created. Flatten async requests and resolve race conditions.\n- takeUntil: creates a single observable of a source collection and a stop collection. When event from stop collection occurs unsubscribe from source.\n- switchLatest: only use the latest collection. Throw out the rest.\n- distinctUntilChanged: filters out duplicate occurrences.\n<h2>Example</h2>\n<p>(from <a href="https://github.com/Reactive-Extensions/RxJS">https://github.com/Reactive-Extensions/RxJS</a>)</p>\n<pre><code class="javascript">\n/* Only get the value from each key up */\nvar keyups = Rx.Observable.fromEvent($input, \'keyup\')\n  .map(function (e) {\n      return e.target.value;\n  })\n  .filter(function (text) {\n      return text.length > 2;\n  });\n<p>/* Now throttle/debounce the input for 500ms <em>/\nvar throttled = keyups\n.throttle(500 /</em> ms */);</p>\n<p>/* Now get only distinct values, so we eliminate the arrows and other control characters */\nvar distinct = throttled\n.distinctUntilChanged();</p>\n</pre></code>\n<h3>Resources</h3>\n- <a href="http://reactive-extensions.github.io/RxJS/">Reactive-Extensions for Javascript</a>\n- <a href="http://jhusain.github.io/learnrx/">Learn Reactive Programming</a> by <a href="https://twitter.com/jhusain">jhusain</a>\n- <a href="https://hackpad.com/Asynchronous-JavaScript-at-Netflix-j0DqUOf5fCV">Asynchronous JavaScript at Netflix</a>\n- <a href="https://hackpad.com/Adding-Even-More-Fun-to-Functional-Programming-With-RXJS-W4be7aCTEjt">Adding Even More Fun to Functional Programming With RXJS</a>',id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-vector-programming-and-reactive-javascript/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/vector-programming-and-reactive-javascript",date:"2014-03-17T06:00:00Z",title:"Vector Programming and Reactive Javascript",imageUrl:null,structuredHtml:null,tags:["Mountain West Javascript","mwjs","Javascript","Reactive"],image:null}}},{node:{excerpt:"After spending the last year writing Ember.js code I've realized one really big thing - Ember is about promises.\nI recently had a chance to refactor some code with a number of asynchrounous calls. The original logic used\ntimers and polling to monitor the state of a bunch of recursive calls to the Google API to retrieve a complete\nfolder structure. Timers get the job done, but promises make it…",html:"<p>After spending the last year writing Ember.js code I've realized one really big thing - Ember is about promises.\nI recently had a chance to refactor some code with a number of asynchrounous calls. The original logic used\ntimers and polling to monitor the state of a bunch of recursive calls to the Google API to retrieve a complete\nfolder structure. Timers get the job done, but promises make it elegant.</p>\n<h4>Original Code</h4>\n<p>Requirement: wait until the entire tree is loaded before transition.</p>\n<pre><code class=\"javascript\">\nApp.GoogleFile = Ember.Object.extend({\n});\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\n<p>  model: function(){\nvar model = App.GoogleFile.create({\nid: $('meta[name=\"google-folder-id\"]').attr('content');\nchildren: Ember.ArrayProxy.create({content: []})\n});\nthis.loadChildren(model.get('children'));\nreturn model;\n},</p>\n<p>  afterModel: function(transition){\nif(transition.targetName == \"application.index\"){\nthis.wait(model.get('children'), function(){\nthis.transitionTo('anotherPlace');\n});\n}\n},</p>\n<p>  // Waiting for content to load using a timer.\nwait: function(children, callback){\nif(Ember.isEmpty(children)){\nEmber.run.later(this, function () {\nthis.wait(children);\n}, 10);\n} else {\ncallback(children);\n}\n},</p>\n<p>  loadChildren: function(node){\nvar token = $('meta[name=\"google-access-token\"]').attr('content');\nvar query = encodeURIComponent('\"' + node.get('id') + '\" in parents');\n$.get('<a href=\"https://www.googleapis.com/drive/v2/files?q=\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\ndata.items.forEach(function(item){\nvar f = App.GoogleFile.create({\nname: item.title,\nid: item.id,\nicon: item.iconLink,\nmime: item.mimeType,\nembed: item.embedLink,\nedit: item.alternateLink,\nchildren: Ember.ArrayProxy.create({content: []})\n});\nif(item.mimeType === \"application/vnd.google-apps.folder\"){\nthis.loadChildren(f);\n}\nnode.get('children').pushObject(f);\n}.bind(this));\n}.bind(this));\n}</p>\n<p>});</p>\n</pre></code>\n<h4>The Refactored Code</h4>\n<pre><code class=\"javascript\">\n<p>App = Ember.Application.create({\n});</p>\n<p>App.GoogleFile = Ember.Object.extend({\n});</p>\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\n<p>  model: function(){\nvar model = App.GoogleFile.create({\nid: $('meta[name=\"google-folder-id\"]').attr('content');,\nchildren: Ember.ArrayProxy.create({content: []})\n});</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">return new Ember.RSVP.Promise(function(resolve, reject){\n  this.loadChildren(model, resolve, reject);\n}.bind(this));</code></pre>\n      </div>\n<p>  },</p>\n<p>  // The afterModel won't fire until the promise is fullfilled.\nafterModel: function(transition){\nif(transition.targetName == \"application.index\"){\nthis.transitionTo('anotherPlace');\n}\n},</p>\n<p>  loadChildren: function(node, resolve, reject){\nvar token = $('meta[name=\"google-access-token\"]').attr('content');\nvar query = encodeURIComponent('\"' + node.get('id') + '\" in parents');\n// Don't resolve the promise when the ajax call returns. We have to process the data and decide if we need to make more calls.\n$.get('<a href=\"https://www.googleapis.com/drive/v2/files?q=\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\nvar promises = [];\ndata.items.forEach(function(item){\nvar f = App.GoogleFile.create({\nname: item.title,\nid: item.id,\nicon: item.iconLink,\nmime: item.mimeType,\nembed: item.embedLink,\nedit: item.alternateLink,\nchildren: Ember.ArrayProxy.create({content: []})\n});</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">    if(item.mimeType === &quot;application/vnd.google-apps.folder&quot;){\n      // We need to make more ajax calls. Create a new promise which can be resposible for\n      // resolving existing promises once it is fullfilled.\n      var promise = new Ember.RSVP.Promise(function(resolve, reject){\n        this.loadChildren(f, resolve, reject);\n      }.bind(this));\n      promises.push(promise);\n    }\n    node.get(&#39;children&#39;).pushObject(f);\n  }.bind(this));\n\n  Promise.all(promises).then(function(){\n    resolve(node);\n  });\n\n}.bind(this));</code></pre>\n      </div>\n<p>  }</p>\n<p>});</p>\n</pre></code>\n<p><a href=\"http://jsbin.com/koveg/6/edit?html,js,console\" target=\"_blank\">Working refactored code snippet on jsbin</a></p>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-16-refactoring-and-making-promises/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/refactoring-and-making-promises",date:"2014-03-16T06:00:00Z",title:"Refactoring and Making Promises",imageUrl:null,structuredHtml:null,tags:["Javascript","Ember","Programming"],image:null}}},{node:{excerpt:"  isSelected: function(){\n    console.log('Checking Selected for' + this.get('name'));\n    return this.selectedContacts.contains(this.get('content'));\n  }.property('selectedContacts@each') });\n       \n       It looks like the #$%#! sample code. \n       But isSelected never fires!!!! \n     \n     \n       I see you still use email \n       Bad \n       \nproperty('selectedContacts@each…",html:'<div class="slides">\n  <section>\n    <h1>Ember.js</h1>\n    <h3>Lessons Learned and Stuff</h3>\n    <p>\n      <small><a href="http://www.justinball.com">Justin Ball</a> / <a href="http://twitter.com/jbasdf">@jbasdf</a></small>\n    </p>\n  </section>\n  <section>\n    <div class="left">\n      <h2>Justin Ball</h2>\n    </div>\n    <div class="right">\n      <ul>\n        <li>CTO <a href="http://www.atomicjolt.com">Atomic Jolt</a></li>\n        <li>Consultant, Rubyist, Javascriptist, Cyclist, Maker, Entrepreneur</li>\n        <li>Purveyor of Buzzwords</li>\n      </ul>\n    </div>\n  </section>\n  <section>\n    <section>\n      <h2>What is Ember.js?</h2>\n      <div class="block">\n        <ul>\n          <li>A framework for creating ambitious web applications.</li>\n          <li>Client-side MVC Framework</li>\n          <li><a href="https://github.com/emberjs/ember.js">Open Source</a> - <a href="https://github.com/emberjs/ember.js/pulse/monthly">Github Pulse</a></li>\n          <li>Single page apps are sexy</li>\n          <li>Ember.js makes it easy*</li>\n        </ul>\n      </div>\n      <div class="block">\n        <p class="small">* Easy is exclusive of the tears shed while learning Ember.js</p>\n      </div>\n    </section>\n    <section>\n      <h2>Why Single Page Apps?</h2>\n      <p class="fragment roll-in">iFrames!</p>\n      <p class="fragment roll-in">Safari and IE no longer let you write a cookie to an iFrame unless the user has visited the site</p>\n      <p class="fragment roll-in">Real World - LTI apps</p>\n    </section>\n  </section>\n  <section>\n    <h2>Heads Up</h2>\n    <ul>\n      <li>Ember.js changes a lot</li>\n      <li>Ignore anything over 3 or 4 months old</li>\n      <li>When you choose Ember.js you are all in</li>\n    </ul>\n  </section>\n  <section>\n    <section>\n      <h2>Using Rails?</h2>\n      <p><a href="https://github.com/emberjs/ember-rails">Ember.js Rails Gem</a></p>\n      <pre><code data-trim contenteditable>\ngem \'ember-rails\'\ngem \'ember-source\', \'1.4.0\' # or the version you need\n      </code></pre>\n      <pre><code data-trim contenteditable>\n//= require handlebars\n//= require ember\n//= require ember-data\n      </code></pre>\n    </section>\n    <section>\n      Why choose the gem over anything else?\n    </section>\n    <section>\n      <a href="http://yehudakatz.com/">Yehuda Katz</a>\n    </section>\n  </section>\n  <section>\n    <section>\n      <h2>AMD?</h2>\n      <p class="fragment block">I love require.js</p>\n      <p class="fragment block">fogetaboutit</p>\n      <p class="fragment block">Or Try <a href="http://ryanflorence.com/">Ryan Florence\'s</a> <a href="https://github.com/rpflorence/ember-tools">Ember Tools*</a></p>\n      <p class="fragment block small"><a href="building-with-ember#select_doesnt_work">*See "Ember Select doesn\'t work" on this page to learn about the dangers</a></p>\n    </section>\n    <section>\n      <h2>Feel Good About Polluting The Global Namespace</h2>\n      <pre><code data-trim contenteditable>\nApp = Ember.Application.create({\n});\n      </code></pre>\n    </section>\n  </section>\n  <section>\n    <h2>I don\'t do Rails</h2>\n    <div class="block">\n      <p class="fragment roll-in">Try</p>\n      <p class="fragment roll-in"><a href="https://github.com/stefanpenner/ember-app-kit">Ember App Kit</a></p>\n    </div>\n  </section>\n  <section>\n    <section>\n      <h2>Ember.js and AngularJS</h2>\n      <p>Everything is Awesome</p>\n      <p>\n        <a href="https://docs.google.com/presentation/d/1e0z1pT9JuEh8G5DOtib6XFDHK0GUFtrZrU3IfxJynaA/preview?sle=true#slide=id.p">\n          AngularJS from an Ember perspective\n        </a>\n      </p>\n    </section>\n    <section>\n      <iframe src="https://docs.google.com/presentation/d/1e0z1pT9JuEh8G5DOtib6XFDHK0GUFtrZrU3IfxJynaA/preview?sle=true#slide=id.p&embedded=true" width="600" height="780" style="border: none;"></iframe>\n    </section>\n  </section>\n  <section>\n    <section>\n      <h2>Ember.js is Magic!</h2>\n      <p class="fragment roll-in">Except for when it\'s not</p>\n    </section>\n    <section>\n      <h2><a href="building-with-ember#error_messages">Debugging</a></h2>\n      <p>The Bug</p>\n      <blockquote>\n        Assertion failed: Cannot call get with \'id\' on an undefined object. application.js?body=1:16925\n        Uncaught TypeError: Cannot read property \'__ember1375726885234_meta\' of undefined\n      </blockquote>\n      <p>The Code</p>\n      <pre><code data-trim contenteditable>\nvar map = MapModel.createRecord({\n  title: \'New Map\'\n});\nmap.save().then(function(){\n  this.transitionTo(\'map\', map);\n}.bind(this));\n      </code></pre>\n      <p class="fragment roll-in">The Cause?</p>\n      <p class="fragment roll-in">Failure to call \'transition.abort();\'</p>\n    </section>\n    <section>\n      <h2><a href="building-with-ember#error_messages">Now We Know Better</a></h2>\n      <blockquote>\n      Assertion failed: Cannot call get with \'id\' on an undefined object. application.js?body=1:17079\n      Uncaught TypeError: Cannot read property \'__ember1375989556474_meta\' of undefined application.js?body=1:18391\n      Trying to get configured shortcut getDocumentSelection.js:51\n      Assertion failed: Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications.\n      </blockquote>\n      <pre><code data-trim contenteditable>\n{% raw %}\n&lt;li&gt;{{#linkTo \'map.destroy\' title=&quot;Delete the current map&quot;}}&lt;i class=&quot;icon-trash&quot;&gt;&lt;/i&gt; Delete{{/linkTo}}&lt;/li&gt;\n{% endraw %}\n      </code></pre>\n      <p class="fragment roll-in">No we don\'t. \'map\' was null.</p>\n    </section>\n    <section>\n      <h2><a href="building-with-ember#error_messages_again">Now That We\'re Experts</a></h2>\n      <blockquote>\n      Assertion failed: Cannot call get with \'id\' on an undefined object. ember.js?body=1:364\n      Uncaught TypeError: Cannot read property \'__ember1377186615643_meta\' of undefined ember.js?body=1:1676\n      Assertion failed: Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications. ember.js?body=1:364\n      Uncaught Error: You cannot modify child views while in the inBuffer state ember.js?body=1:18835\n      </blockquote>\n      <p class="fragment roll-in">"Most likely there is a bug in your application"</p>\n      <p class="fragment roll-in">Would not have guessed that</p>\n    </section>\n    <section>\n      <p>Bad Code</p>\n      <pre><code data-trim contenteditable>\n{% raw %}\n{{#each post in Posts}}\n  {{#linkTo \'posts.show\' title="View post"}}{{post.name}}{{/linkTo}}\n{{/each}}\n{% endraw %}\n      </pre></code>\n      <p>Good Code</p>\n      <pre><code data-trim contenteditable>\n{% raw %}\n{{#each post in Posts}}\n  {{#linkTo \'posts.show\' post title="View post"}}{{post.name}}{{/linkTo}}\n{{/each}}\n{% endraw %}\n      </pre></code>\n      <p class="fragment roll-in">Forgot to include \'post\'</p>\n    </section>\n  </section>\n  <section>\n    <section>\n      <h2><a href="dont-forget-your-period-computed-property-that-depends-on-ember_arraycontroller-contents">(Really) Little Things Matter</a></h2>\n      <pre><code data-trim contenteditable>\nApp.ContactController = Ember.ObjectController.extend({\n  needs: [\'selected_contacts\'],\n  selectedContacts: null,\n  selectedContactsBinding: \'controllers.selected_contacts.content\',\n<p>  isSelected: function(){\nconsole.log(\'Checking Selected for\' + this.get(\'name\'));\nreturn this.selectedContacts.contains(this.get(\'content\'));\n}.property(\'selectedContacts@each\')</p>\n<p>});\n</code></pre>\n<p class="fragment roll-in">It looks like the #$%#! sample code.</p>\n<p class="fragment roll-in">But isSelected never fires!!!!</p>\n</section>\n<section>\n<h2>I see you still use email</h2>\n<p>Bad</p>\n<pre><code data-trim contenteditable>\nproperty(\'selectedContacts@each\')\n</code></pre>\n<p>Good</p>\n<pre><code data-trim contenteditable>\nproperty(\'selectedContacts.@each\')\n</code></pre>\n</section></p>\n  </section>\n  <section>\n    <section>\n      <h2>Multiple Ember Apps in a Rails App</h2>\n      <p>Stay DRY. Share code</p>\n    </section>\n    <section>\n      <p>Setup to reuse code from \'Common\'</p>\n      <pre><code class="more_code">\nCommon\n  components\n  helpers\n  models\n  mixins\n  templates\nSomethingAwesome\n  controllers\n  helpers\n  mixins\n  routes\n  templates\n  views\nAdmin\n  controllers\n  helpers\n  mixins\n  routes\n  templates\n  views\n      </code></pre>\n    </section>\n    <section>\n      <h2>The Problem</h2>\n      <p>Ember won\'t be able to find your templates</p>\n    </section>\n    <section>\n      <h2>The Solution</h2>\n      <p>Override the Resolver</p>\n      <pre><code data-trim contenteditable>\nAppNamespace = \'SomethingAwesome\';\nSomethingAwesome = Ember.Application.create({\n<p>  Resolver: Ember.DefaultResolver.extend({\nresolveTemplate: function(parsedName){\nvar fullNameWithoutType = parsedName.fullNameWithoutType;\nparsedName.fullNameWithoutType = AppNamespace + "/" + fullNameWithoutType;\nvar result = this.<em>super(parsedName);\nif(!result){\nparsedName.fullNameWithoutType = "common/" + fullNameWithoutType;\nresult = this.</em>super(parsedName);\n}\nreturn result;\n}\n})</p>\n<p>});\n</code></pre>\n<p><a href="https://github.com/tatemae/oea">Check out Open Assessments source for an example</a></p>\n</section></p>\n  </section>\n  <section>\n    <section>\n      <h2>Transitions</h2>\n      <p>Do This Infinitely</p>\n      <pre><code data-trim contenteditable>\nApp.ApplicationRoute = Ember.Route.extend({\n<p>  model: function(){\nreturn this.store.find(\'user\', params.user_id);\n},</p>\n<p>  afterModel: function(transition){\nthis.transitionTo(\'anotherPlace\');\n}\n});\n</code></pre>\n</section>\n<section>\n<p>Check Your Target</p>\n<pre><code data-trim contenteditable>\nApp.ApplicationRoute = Ember.Route.extend({</p>\n<p>  model: function(){\nreturn this.store.find(\'user\', params.user_id);\n},</p>\n<p>  afterModel: function(transition){\nif(transition.targetName == "application.index"){\nthis.transitionTo(\'anotherPlace\');\n}\n}\n});\n</code></pre>\n</section></p>\n  </section>\n  <section>\n    <h2><a href="building-with-ember">Choose your event names wisely</a></h2>\n    <p>\'destroy\' is reserved</p>\n    <pre><code data-trim contenteditable>\n    {% raw %}\n&lt;a href=&quot;#&quot; {{action \'destroy\'}} class=&quot;btn&quot;&gt;Delete&lt;/a&gt;\n    {% endraw %}\n    </code></pre>\n    <p>\'destroy_node\' is not</p>\n    <pre><code data-trim contenteditable>\n    {% raw %}\n&lt;a href=&quot;#&quot; {{action \'destroy_node\'}} class=&quot;btn&quot;&gt;Delete&lt;/a&gt;\n    {% endraw %}\n    </code></pre>\n  </section>\n  <section>\n    <h2><a href="building-with-ember">Set controller for route</a></h2>\n    <pre><code data-trim contenteditable>\nvar ThingEditRoute = Ember.Route.extend({\n  controllerName: \'thing\',\n  renderTemplate: function(controller, model){\n    // You have to pass the controller to render or it will generate a new controller\n    this.render({ controller: controller, into: \'application\', outlet: \'modal\' });\n  }\n});\n    </code></pre>\n    <p>Looks easy but couldn\'t find the docs</p>\n  </section>\n  <section>\n    <h2><a href="pass-attributes-to-an-emberjs-view">Pass a Value to a View</a></h2>\n    <p>Add a property to your view:</p>\n    <pre><code data-trim contenteditable>\nApp.ModalView = Ember.View.extend({\n  aClassName: \'modal\'\n});\n    </code></pre>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">&lt;p&gt;Use the value in your view template:&lt;/p&gt;\n&lt;pre&gt;&lt;code data-trim contenteditable&gt;\n{% raw %}</code></pre>\n      </div>\n<p>&#x3C;div {{bindAttr class="view.aClassName"}}>\nMore stuff here\n&#x3C;/div>\n{% endraw %}\n</code></pre></p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">&lt;p&gt;When you use the view just set the property:&lt;/p&gt;\n&lt;pre&gt;&lt;code data-trim contenteditable&gt;\n{% raw %}</code></pre>\n      </div>\n<p>{{#view App.ModalView aClassName="wide_modal"}}\nSome great content goes here\n{{/view}}\n{% endraw %}\n</code></pre></p>\n  </section>\n  <section>\n    <section>\n      <h2><a href="immutable-arrays-in-ember">Immutable Arrays</a></h2>\n      <p>Adding parameters to \'find\' results in an immutable model</p>\n      <pre><code data-trim contenteditable>\nApp.ApplicationRoute = Ember.Route.extend({\n  model: function(){\n    return this.store.find(\'course\', {user_id: user_id});\n  }\n});\n      </code></pre>\n    </section>\n    <section>\n      <p>Use an ArrayProxy to builid a collection that can be modified</p>\n      <pre><code data-trim contenteditable>\nApp.ApplicationRoute = Ember.Route.extend({\n  model: function(){\n    var courses = Ember.ArrayProxy.create({content: []});\n    this.store.find(\'courses\', user_id: user_id}).then(function(data){\n      data.forEach(function(course){\n        if(!courses.contains(course)){\n          courses.pushObject(course);\n        }\n      }.bind(this));\n    }.bind(this));\n    return courses;\n  }\n});\n      </code></pre>\n      <p class="fragment block">But then you have to manually keep the collection updated.</p>\n    </section>\n    <section>\n      <h2>Even Better - Filters!</h2>\n      <pre><code data-trim contenteditable>\nvar filter = this.store.filter(\'course\', function(course){\n  return !course.get(\'user_id\') == userId;\n});\nthis.controllerFor(\'courses\').set(\'model\', filter);\n<p>// Load all courses into the store.\nEmber.run.once(this, function(){\nthis.store.find(\'course\');\n});\n</code></pre>\n</section></p>\n  </section>\n  <section>\n    <section>\n      <h2>What about Ember Data?</h2>\n      <p class="fragment block">Beta</p>\n      <p class="fragment block">Rapidly evolving</p>\n      <div class="fragment block">\n        <p>Not Production Ready*</p>\n        <div class="block">\n          <p class="small">* We use it in production anyway</p>\n        </div>\n      </div>\n    </section>\n    <section>\n      <h2>More Ember Data</h2>\n      <p>All pre-beta examples on the internet are now wrong</p>\n      <p><a href="https://github.com/emberjs/data/blob/master/TRANSITION.md">Let the Ember Data Transition Guide Take You to a Happy Place</a></p>\n      <p>1.0 Beta changed to reduce dependance on global application object</p>\n    </section>\n    <section>\n      <div class="left">\n        <p>Ember Data 0.13</p>\n        <pre><code data-trim contenteditable>\nApp.Post.find();\nApp.Post.find(params.post_id);\n        </code></pre>\n      </div>\n      <div class="right">\n        <p>Ember Data 1.0.beta.1:</p>\n        <pre><code data-trim contenteditable>\nthis.store.find(\'post\');\nthis.store.find(\'post\', params.post_id);\n        </code></pre>\n      </div>\n    </section>\n    <section>\n      <div class="left">\n        <p>Ember Data 0.13</p>\n        <pre><code data-trim contenteditable>\nApp.Post.createRecord();\n        </code></pre>\n      </div>\n      <div class="right">\n        <p>Ember Data 1.0.beta.1:</p>\n        <pre><code data-trim contenteditable>\nthis.store.createRecord(\'post\');\n        </code></pre>\n      </div>\n    </section>\n  </section>\n  <section>\n    <h2>I already have Rails models</h2>\n    <p><a href="generate-ember.js-models-using-your-rails-schema">Generate Ember.js Models Using Your Rails Schema*</a><p>\n    <pre><code class="more_code" data-trim contenteditable>\nnamespace :ember do\n<p>  desc "Build ember models from schema"\ntask :models => :environment do</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text"># Change these values to fit your project\nnamespace = &#39;App&#39; # The Ember application&#39;s namespace.\n\n# The directory where ember models will be written. We drop them\n# in the tmp directory since we might not want an ember model for every table in the\n# database.\noutput_dir = File.join(Rails.root, &quot;tmp/ember_models&quot;)\n\nschema_file = File.join(Rails.root, &#39;db/schema.rb&#39;)\n\ncurrent = &#39;&#39;\nfile = &#39;&#39;\nmax = 0\nattrs = []\n\nFile.readlines(schema_file).each do |line|\n\n  # Stuff to ignore\n  next if line.strip.blank?\n  next if /#.*/.match(line)\n  next if /add_index.+/.match(line)\n  next if /ActiveRecord::Schema.define/.match(line)\n\n  # Find tables in the schema\n  if m = /create_table \\&quot;(.+)\\&quot;.*/.match(line)\n    current = &quot;#{namespace}.#{m.captures[0].classify.singularize} = DS.Model.extend({\\n&quot;\n    file = &quot;#{m.captures[0].singularize}.js&quot;\n  elsif m = /t\\.(.+)\\s+&quot;([0-9a-zA-z_]+)&quot;.*/.match(line)\n    max = m.captures[1].length if m.captures[1].length &gt; max\n    attrs &lt;&lt; m.captures\n  elsif m = /end/.match(line) &amp;&amp; current.present?\n    attrs.each_with_index do |attr, i|\n      spaces = &#39;&#39;\n      type = &#39;string&#39;\n      if %w(integer float).include?(attr[0])\n        type = &#39;number&#39;\n      elsif %w(datetime time date).include?(attr[0])\n        type = &#39;date&#39;\n      elsif %w(boolean).include?(attr[0])\n        type = &#39;boolean&#39;\n      end\n      comma = &#39;,&#39;\n      if attrs.size-1 == i\n        comma=&#39;&#39;\n      end\n      ((max + 1) - attr[1].length).times{spaces &lt;&lt; &#39; &#39;}\n      if attr[1].ends_with?(&#39;_id&#39;)\n        relation = attr[1][0...(attr[1].length-3)]\n        current &lt;&lt; &quot;  #{relation}:    #{spaces}DS.belongsTo(&#39;#{relation.camelize(:lower).singularize}&#39;),\\n&quot;\n      end\n      current &lt;&lt; &quot;  #{attr[1]}: #{spaces}DS.attr(&#39;#{type}&#39;)#{comma}\\n&quot;\n    end\n    current &lt;&lt; &quot;});\\n&quot;\n    f = File.join(output_dir, file)\n    if File.exists?(f)\n      puts &quot;Ember model already exists: #{f}&quot;\n    else\n      current.gsub!(&#39;_spaces_&#39;, &#39;&#39;)\n      puts &quot;Writing Ember model: #{f}&quot;\n      File.open(f, &#39;w&#39;){|f| f.write(current)}\n    end\n\n    current = &#39;&#39;\n    file = &#39;&#39;\n    max = 0\n    attrs = []\n\n  else\n    if /end/.match(line).blank?\n      puts &quot;Don&#39;t know how to handle: #{line}&quot;\n    end\n  end\n\nend</code></pre>\n      </div>\n<p>  end</p>\n<p>end\n</code></pre>\n<p class="small">*It\'s not my fault if this code nukes your site or ruins your relationships.</p></p>\n  </section>\n  <section>\n    <section>\n      <h2>Ember is Full of Promises</h2>\n      <p class="fragment block">Think Asyncronous</p>\n    </section>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">&lt;section data-transition=&quot;linear&quot; data-background-transition=&quot;slide&quot;&gt;\n  &lt;h2&gt;Make a Promise&lt;/h2&gt;\n  &lt;h4&gt;Docs Show This&lt;/h4&gt;\n  &lt;pre&gt;&lt;code class=&quot;more_code&quot; data-trim contenteditable&gt;</code></pre>\n      </div>\n<p>return new Promise(function(resolve, reject){\n}.bind(this));\n</code></pre>\n<h4>But Do this</h4>\n<pre><code class="more_code" data-trim contenteditable>\nreturn new Ember.RSVP.Promise(function(resolve, reject){\n}.bind(this));\n</code></pre>\n</section></p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">&lt;section data-transition=&quot;linear&quot; data-background=&quot;#c0392b&quot; data-background-transition=&quot;slide&quot;&gt;\n  &lt;h4&gt;Original&lt;/h4&gt;\n  &lt;p&gt;Requirement: wait until the entire tree is loaded before transition.&lt;/p&gt;\n  &lt;pre&gt;&lt;code class=&quot;more_code&quot; data-trim contenteditable&gt;</code></pre>\n      </div>\n<p>App.GoogleFile = Ember.Object.extend({\n});</p>\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\n<p>  model: function(){\nvar model = App.GoogleFile.create({\nid: $(\'meta[name="google-folder-id"]\').attr(\'content\');\nchildren: Ember.ArrayProxy.create({content: []})\n});\nthis.loadChildren(model.get(\'children\'));\nreturn model;\n},</p>\n<p>  afterModel: function(transition){\nif(transition.targetName == "application.index"){\nthis.wait(model.get(\'children\'), function(){\nthis.transitionTo(\'anotherPlace\');\n});\n}\n},</p>\n<p>  // Waiting for content to load using a timer.\nwait: function(children, callback){\nif(Ember.isEmpty(children)){\nEmber.run.later(this, function () {\nthis.wait(children);\n}, 10);\n} else {\ncallback(children);\n}\n},</p>\n<p>  loadChildren: function(node){\nvar token = $(\'meta[name="google-access-token"]\').attr(\'content\');\nvar query = encodeURIComponent(\'"\' + node.get(\'id\') + \'" in parents\');\n$.get(\'<a href="https://www.googleapis.com/drive/v2/files?q=">https://www.googleapis.com/drive/v2/files?q=</a>\' + query + \'&#x26;access_token=\' + token, function(data){\ndata.items.forEach(function(item){\nvar f = App.GoogleFile.create({\nname: item.title,\nid: item.id,\nicon: item.iconLink,\nmime: item.mimeType,\nembed: item.embedLink,\nedit: item.alternateLink,\nchildren: Ember.ArrayProxy.create({content: []})\n});\nif(item.mimeType === "application/vnd.google-apps.folder"){\nthis.loadChildren(f);\n}\nnode.get(\'children\').pushObject(f);\n}.bind(this));\n}.bind(this));\n}</p>\n<p>});\n</code></pre>\n</section></p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">&lt;section data-transition=&quot;linear&quot; data-background-transition=&quot;slide&quot;&gt;\n  &lt;h4&gt;The Refactor&lt;/h4&gt;\n  &lt;pre&gt;&lt;code class=&quot;more_code&quot; data-trim contenteditable&gt;</code></pre>\n      </div>\n<p>App = Ember.Application.create({\n});</p>\n<p>App.GoogleFile = Ember.Object.extend({\n});</p>\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\n<p>  model: function(){\nvar model = App.GoogleFile.create({\nid: $(\'meta[name="google-folder-id"]\').attr(\'content\');,\nchildren: Ember.ArrayProxy.create({content: []})\n});</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">return new Ember.RSVP.Promise(function(resolve, reject){\n  this.loadChildren(model, resolve, reject);\n}.bind(this));</code></pre>\n      </div>\n<p>  },</p>\n<p>  // The afterModel won\'t fire until the promise is fullfilled.\nafterModel: function(transition){\nif(transition.targetName == "application.index"){\nthis.transitionTo(\'anotherPlace\');\n}\n},</p>\n<p>  loadChildren: function(node, resolve, reject){\nvar token = $(\'meta[name="google-access-token"]\').attr(\'content\');\nvar query = encodeURIComponent(\'"\' + node.get(\'id\') + \'" in parents\');\n// Don\'t resolve the promise when the ajax call returns. We have to process the data and decide if we need to make more calls.\n$.get(\'<a href="https://www.googleapis.com/drive/v2/files?q=">https://www.googleapis.com/drive/v2/files?q=</a>\' + query + \'&#x26;access_token=\' + token, function(data){\nvar promises = [];\ndata.items.forEach(function(item){\nvar f = App.GoogleFile.create({\nname: item.title,\nid: item.id,\nicon: item.iconLink,\nmime: item.mimeType,\nembed: item.embedLink,\nedit: item.alternateLink,\nchildren: Ember.ArrayProxy.create({content: []})\n});</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">    if(item.mimeType === &quot;application/vnd.google-apps.folder&quot;){\n      // We need to make more ajax calls. Create a new promise which can be resposible for\n      // resolving existing promises once it is fullfilled.\n      var promise = new Ember.RSVP.Promise(function(resolve, reject){\n        this.loadChildren(f, resolve, reject);\n      }.bind(this));\n      promises.push(promise);\n    }\n    node.get(&#39;children&#39;).pushObject(f);\n  }.bind(this));\n\n  Promise.all(promises).then(function(){\n    resolve(node);\n  });\n\n}.bind(this));</code></pre>\n      </div>\n<p>  }</p>\n<p>});</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">  &lt;/code&gt;&lt;/pre&gt;\n  &lt;p&gt;&lt;a href=&quot;http://jsbin.com/koveg/6/edit?html,js,console&quot; target=&quot;_blank&quot;&gt;Working code snippet on jsbin&lt;/a&gt;&lt;/p&gt;\n&lt;/section&gt;</code></pre>\n      </div>\n  </section>\n  <section>\n    <section>\n      <h2>You\'re sitting around doing nothing And...</h2>\n      <pre><code class="more_code" data-trim contenteditable>\nvar Adapter = DS.RESTAdapter.extend({\n  ajaxError: function(jqXHR){\n    if(jqXHR.status == 401){\n      window.location.href = \'/users/sign_in?timeout=true\';\n    }\n    if(jqXHR){\n      jqXHR.then = null;\n    }\n    return jqXHR;\n  }\n});\n      </code></pre>\n    </section>\n    <section>\n      <h2>You have to warn me about these things</h2>\n      <pre><code class="more_code" data-trim contenteditable>\n&lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-hidden=&quot;true&quot;&gt;\n  &lt;div class=&quot;modal-dialog&quot;&gt;\n    &lt;div class=&quot;modal-content&quot;&gt;\n      &lt;div class=&quot;modal-header&quot;&gt;\n        &lt;button  type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;\n        &lt;h4 class=&quot;modal-title&quot; id=&quot;tmModalLabel&quot;&gt;Inactivity Warning&lt;/h4&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;modal-body&quot;&gt;\n        You will be logged out in 30 seconds.\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n      </code></pre>\n    </section>\n    <section>\n      <h2>Component!</h2>\n      <pre><code class="more_code" data-trim contenteditable>\nApp.InactivityWarningComponent = Ember.Component.extend({\n<p>  active: false,\ninactiveTimeout: 12000000, // Amount of time before we redirect to the sign in screen - the session should have expired by this point. (20 minutes)\nwarningTimeout: 30000,     // Amount of time the user has to perform an action before the last keep alive fires - 30 seconds\ntimeout: 1170000,          // 19.5 minutes. We want to be less than the 20 minute timeout to be sure the session is renewed.</p>\n<p>  didInsertElement: function(){\n//if($(\'meta[name="in-development"]\').attr(\'content\')){ return; } // Uncomment and add a meta tag to your head if you want to avoid session timeout in development\nvar context = this;</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">var keepActive = function(){\n  if(context.active){\n    // Keep the session alive\n    $.ajax({\n      url: &quot;/stayin_alive&quot;\n    }).done(function(result){\n\n      // Go inactive until the user moves the mouse or presses a key\n      context.active = false;\n\n      // The user now has another 20 minutes before the session times out\n      // Restart the timer to keep the user logged in\n      Ember.run.later(context, keepActive, context.timeout);\n\n      // Set a timer to show a modal indicating the user is about to be logged out.\n      Ember.run.debounce(context, context.show, context.timeout - context.warningTimeout);\n\n      // Set a timer that will send the user to the login screen\n      Ember.run.debounce(context, context.forceLogin, context.inactiveTimeout);\n    });\n  }\n};\n\n$(window).mousemove(function(e){\n  context.active = true;\n  // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\n  // Use debounce so we don&#39;t call it over and over again since this method is called from mousemove\n  Ember.run.debounce(context, context.hide, 1000);\n});\n\n$(window).keypress(function(e){\n  context.active = true;\n  // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\n  context.hide();\n});\n\n// The user has 5 minutes before they are logged out. We need to send a keep Active before then.\nEmber.run.later(context, keepActive, context.timeout);</code></pre>\n      </div>\n<p>  },</p>\n<p>  forceLogin: function(){\nwindow.location.href = \'/users/sign_out?timeout=true\';\n},</p>\n<p>  show: function(){\n// Warn the user that they will be logged out if we are inactive\nif(this.active === false){\n// Start countdown timer\nthis.$(\'.modal\').modal(\'show\');\n}\n},</p>\n<p>  hide: function(){\nthis.$(\'.modal\').modal(\'hide\');\n}</p>\n<p>});\n</code></pre>\n<p><a href="session-timeout-for-your-ember-application">Ember.js Session Timeout In Depth</a></p>\n</section></p>\n  </section>\n  <section>\n    <section>\n      <h2><a href="ember-textfield-ignores-arrow-keys.-how-to-monitor-key-events-in-your-textfield">Monitor key events in your textfield</a></h2>\n      <p>Monitor changes as the user types</p>\n      <pre><code data-trim contenteditable>\n      {% raw %}\n{{ view Ember.Textfield\n  class="form-control"\n  placeholderBinding="controller.prompt"\n  valueBinding="controller.value"\n  onEvent="keyPress"\n  action="typing"\n}}\n      {% endraw %}\n      </code></pre>\n      <p class="fragment block">but keyPress doesn\'t fire when you press the arrow keys</p>\n    </section>\n    <section>\n      <p>No problem! Make your own Textfield</p>\n      <pre><code class="more_code" data-trim contenteditable>\nApp.Textfield = Ember.TextField.extend({\n<p>  init: function() {\nthis._super();\nthis.on("keyUp", this, this.interpretKeyEvents);\n},</p>\n<p>  interpretKeyEvents: function(event){\nvar map = TM.Textfield .KEY<em>EVENTS;\nvar method = map[event.keyCode];\nif (method){\nreturn this<a href="event">method</a>;\n} else {\nthis.</em>super(event);\n}\n},</p>\n<p>  arrowUp: function(event){\nthis.sendAction(\'arrow-up\', this, event);\n},</p>\n<p>  arrowDown: function(event){\nthis.sendAction(\'arrow-down\', this, event);\n}</p>\n<p>});</p>\n<p>App.Textfield.KEY_EVENTS = {\n38: \'arrowUp\',\n40: \'arrowDown\'\n};\n</code></pre>\n</section>\n<section>\n<p>Use that new code</p>\n<pre><code data-trim contenteditable>\n{% raw %}\n{{ view App.Textfield\nclass="form-control"\nplaceholderBinding="view.prompt"\nvalueBinding="view.value"\nviewName="inputField"\narrow-up="arrowUp"\narrow-down="arrowDown"\n}}\n{% endraw %}\n</code></pre>\n<p>Add \'arrowUp\' and \'arrowDown\' to your controller and be filled with joy.</p>\n</section></p>\n  </section>\n  <section>\n    <h1>THE END</h1>\n    <h3>Justin Ball</h3>\n    <p>justinball.com</p>\n    <p>justinball@gmail.com</p>\n    <p>@jbasdf</p>\n    <p class="small" style="display:none;"><a href="#pdf-export">Download PDF</a></p>\n  </section>\n</div>',
id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-15-emberjs-lessons-learned-so-far/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/emberjs-lessons-learned-so-far",date:"2014-03-15T06:00:00Z",title:"Ember.js Lessons Learned So Far",imageUrl:null,structuredHtml:null,tags:["Ember.js","Javascript"],image:null}}},{node:{excerpt:"I've spent the winter on a trainer. I don't mind the experience so much. It's not like riding outside, but I do it in hopes of maintaining some level of fitness during the winter months.\nThe first ride of each Spring provides an opportunity to gauge whether all the time spent spinning my legs watching TV with the fan on and the window open were worth it. I approach this first ride with some…",html:"<p>I've spent the winter on a trainer. I don't mind the experience so much. It's not like riding outside, but I do it in hopes of maintaining some level of fitness during the winter months.\nThe first ride of each Spring provides an opportunity to gauge whether all the time spent spinning my legs watching TV with the fan on and the window open were worth it.</p>\n<p>I approach this first ride with some trepidation.</p>\n<p>The first ride of each Spring requires a re-amplification of courage. The trainer is easy. If you tire you rest. No one on Strava will know. If you need water it's upstairs. Selecting\nclothing is a simple process. The most difficult part of the experience is figuring out what drivel Netflix can provide for an hour and a half.\n(I've watched every Firefly, Dr. Who, Stargate, Star Trek Enterprise, Star Trek Voyager, Falling Skies, numerous movies and worthless SyFy rejects while on the trainer. Finding something to watch is becoming a problem).</p>\n<p>Taking to the great outdoors requires a deeper understanding of the environment and your body. Selecting the right clothing on a Spring day is tricky. The wind can cause the temperature to vary greatly. Standing still\nwith the sun on your face might feel perfect. Move your body through that same air at 20 miles an hour and everything cools off dramatically. Of course, push your body, your core heats up and you become and artist\nat striping while holding a straight line and an even pace.</p>\n<p>Today I lucked out. It was 50 degrees. I chose a wool base layer, leg warmers and wore shells over my gloves. That combination worked in harmony to maintain the perfect temperature the entire ride. That never happens.</p>\n<p>The trainer produces and irritating level of noise, but it is silenced by a nice pair of earbuds. The road provides no such respite. I occasionaly wear earbuds, but shun the noise cancelling variety. An understanding\nof the environment around you is critical to prevent a car from sneaking up from behind or a dog from taking you down from the side. You see the road in front. That's important for calculating the path ahead,\nbut you hear the world all around you. Danger almost always comes from behind or from the side. On the road you are subject to the full roar of the wind. It buffets your ears muffling the sound of music from\nheadphones, the hum of car tires, the taunts of passing teenagers. The roar annoys and produces isolation at the same time. I remain vigilant, filtering the signals from the roar that I use to determine the threats\naround me.</p>\n<p>The trainer is smooth. There are no hills, no pot holes, no gnarly stretches of gravel. The world is not so perfect. Today I fought with the wind. On the trainer I push constant high speeds. The wind cruely cuts\nthose speeds in half. It leaves me humbled. The beautiful statistics accured over the winter are negated in an instant and I have failed my first test of Spring. I am not as strong as I was in the fall.</p>\n<p>Humility erases performance and statistics from my mind. I look around. The earth is brown and dreary, but the mountain peaks are covered with snow. This is why I ride. The world is a beautiful place to be observed\nthrough all her phases.</p>\n<p>I know I am a bit ridiculous but the first ride of each Spring always fills me with an irrational fear. The trainer is safe. You don't fall off. There are no cars, no dogs, no unforseen hazards. The world is not\nsafe. I avoid busy roads. After an <a href=\"why-cyclists-shave-their-legs-the-most-disgusting-post-i-will-ever-make\">accident a couple of years ago</a> I try to stay focused on the world around me.</p>\n<p>I return home safely.</p>\n<p>I am grateful for that last part. I've ridden for many years now and I love the experience. I love the sun on my face. I love the roar of the wind in my ears. I love the solitude and comradery. I love the pain and\nthe feeling of overcoming that pain. I love the ride, but every time I return home I always feel a bit relieved.</p>\n<p><a href=\"http://www.ksl.com/?sid=29067712&nid=148&title=hundreds-of-cyclists-ride-to-honor-fallen-friends\">Bryan Byrge and John Coons didn't return home.</a> They are fathers, co-workers, friends. They are\nno different than me or the thousands of others who share the love of this experience. My heart breaks for their wives and children who said good bye that morning with every expectation that they would\nreturn to them that night.</p>\n<p>I shall never take for granted the feeling of relief each time I return.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-14-beautiful-day-had-to-blow-off-work-for-a-ride/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/beautiful-day.-had-to-blow-off-work-for-a-ride",date:"2014-03-14T06:00:00Z",title:"Beautiful day. Had to blow off work for a ride",imageUrl:null,structuredHtml:null,tags:["Cycling"],image:null}}},{node:{excerpt:"On one of our latest projects we're integrating with  Vimeo . They provide a great  Video player API  that makes it pretty simple to interact with videos.\nVimeo even provides the  Froogaloop library  that wraps up all the communication between the iframe where the video lives and your page. The solution was something we needed anyway. Orginally, we were loading iframes for a bunch of videos on the…",html:"<p>On one of our latest projects we're integrating with <a href=\"http://www.vimeo.com\">Vimeo</a>. They provide a great <a href=\"http://developer.vimeo.com/player/js-api/\">Video player API</a> that makes it pretty simple to interact with videos.\nVimeo even provides the <a href=\"https://github.com/vimeo/player-api/tree/master/javascript\">Froogaloop library</a> that wraps up all the communication between the iframe where the video lives and your page.</p>\n<h3>What We Need</h3>\nThe requirement was to show other content once the video finished playing. That seems easy enough and really it is:\n<pre><code class=\"javascript\">\nvar VimeoStuff = {\n\n  init: function(){\n    $.each($('iframe.vimeo'), function(i, iframe){\n      this.setupEvents(iframe)\n    }.bind(this));\n  }\n\n  setupEvents: function(iframe){\n    var player = $f(iframe);\n\n    player.addEvent('ready', function(player_id){\n      player.addEvent('finish', onFinish);\n    });\n\n    function onFinish(id){\n      // Show other content\n    }\n\n  }\n\n};\n\n$(document).ready(function(){\n  VimeoStuff.init();\n});\n</pre></code>\n<h3>The Problem</h3>\nWe do most of our development using Chrome and so everything worked great until someone tried to use the application with Firefox. I know, most people will tell you that\nInternet Explorer is pure evil and a total piece of junk. I hate to say it but Firefox has its rough spots as well. For some reason in Firefox the events from the Vimeo player\niframe never fired. After some digging we found this semi-related bug <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=548397\">indicating if an iframe isn't visible then\nwindow.getComputedStyle() would return null</a>. It turns out that if an iframe isn't visible when a page loads and you attempt to use the Froogaloop library to monitor\nevents coming from that window you are out of luck - the 'ready' event will never fire and you won't be able to monitor any other events coming from the iframe.\n<p>The solution was something we needed anyway. Orginally, we were loading iframes for a bunch of videos on the page. That's a bad idea anyway since loading 20 or 30 hidden videos on a page\nisn't especially performant.</p>\n <h3>A Fix</h3>\nThe fix was pretty simple. Instead of setting the 'src' tag on every iframe and loading the video at startup we set a 'data-src' on every iframe and left the src tag empty. We have a helper that looks like this:\n<pre><code class=\"ruby\">\ndef video_embed(video)\n  %Q{<iframe id=\"#{dom_id(video)}\"\n          data-modal=\"moda_#{dom_id(video)}\"\n          class=\"vimeo\"\n          data-src=\"//player.vimeo.com/video/#{video.vimeo_id}?api=1&player_id=#{video.id}\"\n          width=\"500\"\n          height=\"281\"\n          frameborder=\"0\" webkitallowFullScreen mozallowFullScreen allowFullScreen></iframe>}\nend\n</pre></code>\n<p>Then in our javascript we only set the iframe src when we display the modal. After that we watch for the 'ready' event from Froogaloop and everything works like magic again:</p>\n<pre><code class=\"javascript\">\nvar VimeoStuff = {\n\n  init: function(){\n\n    $.each($('.modal'), function(i, modal){\n      modal = $(modal);\n\n      modal.on('show.bs.modal', function(){\n        var iframe = $('iframe.vimeo', modal);\n        iframe.attr('src', iframe.data('src'));\n        this.setupEvents(iframe[0]);\n      }.bind(this));\n\n    }.bind(this));\n  },\n\n  setupEvents: function(iframe){\n    var player = $f(iframe);\n\n    player.addEvent('ready', function(player_id){\n      player.addEvent('finish', onFinish);\n    });\n\n    function onFinish(id){\n      // Show other content\n    }\n\n  }\n\n};\n\n$(document).ready(function(){\n  PikkitUserAds.init();\n});\n\n</pre></code>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-03-09-firefox-vimeo-and-froogaloop-have-a-little-problem/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/firefox-vimeo-and-froogaloop-have-a-little-problem",date:"2014-03-09T07:00:00Z",title:"Firefox, Vimeo and Froogaloop Have a Little Problem",imageUrl:null,structuredHtml:null,tags:["Programming","Javascript","Ruby"],image:null}}},{node:{excerpt:"I've had to use Facebook login inside an iframe twice now. Combine  Devise \nwith  omniauth  and  omniauth-facebook  and you have a\npretty great user authentication system. Now try to login via Facebook inside an iframe and nothing will happen. If you check your Javascript console you'll see a error\nthat looks something like this: Facebook won't render their UI inside of an iframe. A lot of sites…",html:"<p>I've had to use Facebook login inside an iframe twice now. Combine <a href=\"https://github.com/plataformatec/devise\">Devise</a>\nwith <a href=\"https://github.com/intridea/omniauth\">omniauth</a> and <a href=\"https://github.com/mkdynamic/omniauth-facebook\">omniauth-facebook</a> and you have a\npretty great user authentication system. Now try to login via Facebook inside an iframe and nothing will happen. If you check your Javascript console you'll see a error\nthat looks something like this:</p>\n<blockquote>\n  Refused to display 'https://www.facebook.com/login.php?skip_api_login=1&api_key=asdfasdf%23_%3D_&display=page' in a frame because it set 'X-Frame-Options' to 'DENY'.\n</blockquote>\n<p>Facebook won't render their UI inside of an iframe. A lot of sites do that these days. However, you can use the Facebook Javascript client and everything will\njust work - sort of. Omniauth-facebook documents a <a href=\"https://github.com/mkdynamic/omniauth-facebook#client-side-flow\">Client side flow</a> which looks like the\nperfect solution to our problem but as I've learned it's not rainbows and unicorns.</p>\n<p>If you do follow the advice provided by the documentation you'll spend hours saying things to your computer that you will regret. You'll feel depressed because you\nfollowed the documentation and yet request.env[\"omniauth.auth\"] will be nil no mater what you do.</p>\n<p>There are two github threads related to this problem: <a href=\"https://github.com/mkdynamic/omniauth-facebook/issues/73\">https://github.com/mkdynamic/omniauth-facebook/issues/73</a>\nand <a href=\"https://github.com/intridea/omniauth-oauth2/issues/31\">https://github.com/intridea/omniauth-oauth2/issues/31</a> and a number of Stack Overflow questions\n<a href=\"http://stackoverflow.com/questions/10320320/facebook-javascript-sdk-and-omniauth/22082218#22082218\">including this one that I tried to answer</a> since way\nmore people will find it on Stack Overflow than here.</p>\n<h3>Some Tips Before We Step In the Deep Stuff</h3>\n<p>If you're debugging through this problem the first thing you might try is using a domain like lvh.me to access your local machine (it resolves to 127.0.0.1). Chrome\nhas issues writing to localhost and it's possible that the Facebook cookie you need is not being properly written.</p>\n<p>Right now would be a good time to check to make sure you don't accidently do the Oauth dance twice. This bit me. We have a link on the page with the id 'facebook_connect'.\nIt just so happens that the href of that link is '/users/auth/facebook' which means it will initiate the Oauth dance using Omniauth. We only want to talk to Facebook once\nso be sure to call e.preventDefault() or else you will keep wondering why you get two server calls:</p>\n<pre><code class=\"javascript\">\n$('#facebook_connect').on('click', function(e){\n  e.preventDefault(); // Stop the request right here.\n  Facebook.login();\n});\n</pre></code>\n<p>The next thing you'll want to verify is that you are telling Facebook to write a cookie.</p>\n<pre><code class=\"javascript\">\nFB.init({\n  appId      : GLOBAL_SETTINGS.FBappId,\n  status     : false, // don't check login status\n  cookie     : true, // enable cookies to allow the server to access the session\n  xfbml      : true  // parse XFBML\n});\n</pre></code>\n<h3>Before We Start</h3>\nIf you just want to see how to do the Facebook OAuth dance client side below is the code I use to handle Facebook logins:\n<script src=\"https://gist.github.com/jbasdf/9262863.js\"></script>\n<h3>The Problem</h3>\nI'm guessing you're still running into problems. The source of the issue is the callback_phase method inside the omniauth-oauth2 gem:\n<pre><code class=\"ruby\">\nif !options.provider_ignores_state && (request.params['state'].to_s.empty? || request.params['state'] != session.delete('omniauth.state'))\n   raise CallbackError.new(nil, :csrf_detected)\nend\n</pre></code>\n<p>request.params['state'] and session['omniauth.state'] are both nil so the condition fails and a CallbackError exception is raised. This is due\nto the fact that we initiated the Facebook OAuth dance via FB.Login rather than using Omniauth to initiate the dance. Omniauth sets a state variable in the session\nand then passes that as a state variable to Facebook like this:</p>\n<pre><code class=\"ruby\">\nsession['omniauth.state'] = SecureRandom.hex(24)\n</pre></code>\n<p>You can see above that the omniauth-oauth2 gem checks to make sure the state passed back from Facebook matches the one it saved into the session before\nthe dance started.</p>\n<p>Sucks for the client side process.</p>\n<h3>Solution 1 - Cheap and Easy but Not So Secure</h3>\nOne solution is to set provider_ignores_state to true which circumvents the condition:\n<pre><code class=\"ruby\">\nconfig.omniauth :facebook, ENV['FACEBOOK_APP_ID'], ENV['FACEBOOK_APP_SECRET'], {\n  strategy_class: OmniAuth::Strategies::Facebook,\n  provider_ignores_state: true,\n}\n</pre></code>\n<p>That solution isn't especially secure since it can leave you open to csrf attacks.</p>\n<h3>Solution 2 - More Code Solves Everything</h3>\nMore code isn't usually a great way to solve your problems, but you can always create your own handler and parse the Facebook cookies yourself like this:\n<pre><code class=\"ruby\">\ndef handle_facebook_connect\n    @provider = 'facebook'\n    @oauth = Koala::Facebook::OAuth.new(ENV[\"FACEBOOK_ID\"], ENV[\"FACEBOOK_SECRET\"])\n    auth = @oauth.get_user_info_from_cookies(cookies)\n\n    # Get an extended access token\n    new_auth = @oauth.exchange_access_token_info(auth['access_token'])\n    auth['access_token'] = new_auth[\"access_token\"]\n\n    # Use the auth object to setup or recover your user. The following is\n    # and example of how you might handle the response but your needs and application structure will vary.\n    if authentication = Authentication.where(:uid => auth['user_id'], :provider => @provider).first\n      user = authentication.user\n      sign_in(user, :event => :authentication)\n    end\n\n    # Redirect or respond with json\n    respond_to do |format|\n      format.html { redirect_to user }\n      format.json { render json: user }\n    end\nend\n</pre></code>\n<p>Then you'll need to redirect to the 'handle<em>facebook</em>connect' method when you receive a connected response:</p>\n<pre><code class=\"javascript\">\nFB.Event.subscribe('auth.authResponseChange', function(response) {\n  if(response.status === 'connected'){\n    if(response.authResponse){\n\n      // Redirect to our new handler\n      window.location = '/handle_facebook_connect';\n\n    }\n  } else if (response.status === 'not_authorized'){\n    Facebook.message(Facebook.authorize_message);\n  } else {\n    FB.login();\n  }\n });\n\n</pre></code>\n<h3>Solution 3 - Fake It</h3>\nIf nothing so far brings joy to your heart then we can also simulate what omniauth does with the state variable.\n<p>I create a helper method that can be called where ever we need to use the client side Facebook login. We also have a global settings object\nthat can be accessed by our Javascript on the client. Calling 'add_state' generates a secure value and passes it to the client.</p>\n<pre><code class=\"ruby\">\ndef global_settings\n    settings = {\n      FBappId: ENV[\"FACEBOOK_ID\"],\n      application_name: ENV[\"APPLICATION_NAME\"]\n    }\n    settings[:state] = session['omniauth.state'] = @add_state if @add_state\n    settings\n  end\n\n  def add_state\n    @add_state ||= SecureRandom.hex(24)\n  end\n</pre></code>\n<p>Then have a look at the finish function in the javascript. Here we pass the state from GLOBAL_SETTINGS when we call '/users/auth/facebook/callback':</p>\n<pre><code class=\"javascript\">\nfinish: function(response){\n    window.location.href = '/users/auth/facebook/callback?state='+ GLOBAL_SETTINGS.state;\n}\n</pre></code>\n<p>Ideally, I would pass the state value when I call FB.Login but as far as I can tell from the Facebook documentation they don't provide\na mechanism for passing parameters. It is possible to manually create the FB login popup in which case it would be possible to pass the state, but\nthis solution was sufficient for our needs.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-02-27-omniauth-devise-and-facebook-client-login-dont-play-nice/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/omniauth-devise-and-facebook-client-login-dont-play-nice",date:"2014-02-27T07:00:00Z",title:"Omniauth, Devise and Facebook Client Login Don't Play Nice",imageUrl:null,structuredHtml:null,tags:["javascript","facebook","omniauth","ruby"],image:null}}},{node:{excerpt:"I've been spending a lot more hours driving back and forth between Salt Lake City and Logan lately than I normally like.\nToday was spent integrating  Open Assessments \nwith  OERPub . Soon you'll be able to author an open text book via OER Pub, add an assessment via Open Assessments\nand embed objective's via MIT's MC3 project.  Lumen Learning  has funding from the Hewlett Foundation\nto employ…",html:'<p>I\'ve been spending a lot more hours driving back and forth between Salt Lake City and Logan lately than I normally like.\nToday was spent integrating <a href="http://www.openassessments.com">Open Assessments</a>\nwith <a href="http://oerpub.org/">OERPub</a>. Soon you\'ll be able to author an open text book via OER Pub, add an assessment via Open Assessments\nand embed objective\'s via MIT\'s MC3 project. <a href="http://www.lumenlearning.com/">Lumen Learning</a> has funding from the Hewlett Foundation\nto employ content author\'s to generate a series of assessments in subjects ranging from physics to biology which means the bank of\nfreely available, open assessments will should begin to fill with high quality content later this spring.</p>\n<p>We\'ve made a number of changes to Open Assessments recently including fully implementing the QTI player in Ember.js. This means that the assessment\nauthor can choose to host their assessment data (QTI XML) on Open Assessments or on any server that supports CORS. We\'ve also improved the API\nand added oEmbed support.</p>\n<p>Here\'s a couple of examples from today:</p>\n<ol>\n  <li>Search the API and get XML: <a href="http://www.openassessments.com/api/assessments.xml?q=fraction">http://www.openassessments.com/api/assessments.xml?q=fraction</a><li>\n  <li>Or if you prefer JSON: <a href="http://www.openassessments.com/api/assessments.json?q=fraction">http://www.openassessments.com/api/assessments.json?q=fraction</a><li>\n  <li>oEmbed: <a href="http://www.openassessments.com/oembed.json?url=http://www.openassessments.com/assessments/6">http://www.openassessments.com/oembed.json?url=http://www.openassessments.com/assessments/6</a></li>\n</ol>\n<p>Finally, a fully embedded assessment in case you are wondering what all the data from the links above looks like to a normal person:</p>\n<iframe src="//www.openassessments.com/assessments/load?src_url=http://www.openassessments.com/api/assessments/6.xml" frameborder="0" style="border:none;width:100%;height:100%;min-height:400px;"></iframe>',id:"/Users/jbasdf/projects/justinball/src/posts/2014-02-10-open-assessments-code-sprint-with-oerpub,-mit-and-lumen/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/open-assessments-code-sprint-with-oerpub,-mit-and-lumen",date:"2014-02-10T07:00:00Z",title:"Open Assessments Code Sprint with OERPub, MIT and Lumen",imageUrl:null,structuredHtml:null,tags:["Programming","OER","Open Assessments","Ember.js"],image:null}}},{node:{excerpt:"We ran into an issue with sessions timing out while users were doing client side stuff with an Ember application we're building.\nOnce the session timed out they could no longer make authenticated requests of course and all ajax calls would fail. Here's a couple of bits of code that might be helpful. First capture 401 errors in your REST adapter and send the user to the sign in page if they've been…",html:"<p>We ran into an issue with sessions timing out while users were doing client side stuff with an Ember application we're building.\nOnce the session timed out they could no longer make authenticated requests of course and all ajax calls would fail.</p>\n<p>Here's a couple of bits of code that might be helpful.</p>\n<p>First capture 401 errors in your REST adapter and send the user to the sign in page if they've been logged out:</p>\n<pre><code class=\"javascript\">\n\nvar Adapter = DS.RESTAdapter.extend({\n\n  ajaxError: function(jqXHR){\n    if(jqXHR.status == 401){\n      window.location.href = '/users/sign_in?timeout=true';\n    }\n    if(jqXHR){\n      jqXHR.then = null;\n    }\n    return jqXHR;\n  }\n});\n\n</pre></code>\n<p>We wanted something a bit more user friendly than a redirect so we proactively warn the user and then send keep alives as needed.\nThe solution is an Ember component that uses Twitter Bootstrap modals to warn the user. The code assumes\nyou have Twitter Bootstrap setup. If you don't want to use Twitter Bootstrap then it should be pretty easy to swap out the\nhtml in the Handlebars template for whatever framework modal you want to use. Check out the comments for more details.</p>\n<p><a href=\"https://gist.github.com/jbasdf/8228953\">Gist for Handlebars template</a></p>\n<pre><code class=\"html\">\n  &lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot;&gt;\n      &lt;div class=&quot;modal-content&quot;&gt;\n        &lt;div class=&quot;modal-header&quot;&gt;\n          &lt;button {{action &#039;close&#039;}} type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;\n          &lt;h4 class=&quot;modal-title&quot; id=&quot;tmModalLabel&quot;&gt;Inactivity Warning&lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;modal-body&quot;&gt;\n          You will be logged out in 30 seconds.\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</pre></code>\n<p><a href=\"https://gist.github.com/jbasdf/8229029\">Gist for Ember component javascript</a></p>\n<pre><code class=\"javascript\">\n\nApp.InactivityWarningComponent = Ember.Component.extend({\n\n  active: false,\n  inactiveTimeout: 12000000, // Amount of time before we redirect to the sign in screen - the session should have expired by this point. (20 minutes)\n  warningTimeout: 30000,     // Amount of time the user has to perform an action before the last keep alive fires - 30 seconds\n  timeout: 1170000,          // 19.5 minutes. We want to be less than the 20 minute timeout to be sure the session is renewed.\n\n  didInsertElement: function(){\n    //if($('meta[name=\"in-development\"]').attr('content')){ return; } // Uncomment and add a meta tag to your head if you want to avoid session timeout in development\n    var context = this;\n\n    var keepActive = function(){\n      if(context.active){\n        // Keep the session alive\n        $.ajax({\n          url: \"/stayin_alive\"\n        }).done(function(result){\n\n          // Go inactive until the user moves the mouse or presses a key\n          context.active = false;\n\n          // The user now has another 20 minutes before the session times out\n          // Restart the timer to keep the user logged in\n          Ember.run.later(context, keepActive, context.timeout);\n\n          // Set a timer to show a modal indicating the user is about to be logged out.\n          Ember.run.debounce(context, context.show, context.timeout - context.warningTimeout);\n\n          // Set a timer that will send the user to the login screen\n          Ember.run.debounce(context, context.forceLogin, context.inactiveTimeout);\n        });\n      }\n    };\n\n    $(window).mousemove(function(e){\n      context.active = true;\n      // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\n      // Use debounce so we don't call it over and over again since this method is called from mousemove\n      Ember.run.debounce(context, context.hide, 1000);\n    });\n\n    $(window).keypress(function(e){\n      context.active = true;\n      // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\n      context.hide();\n    });\n\n    // The user has 5 minutes before they are logged out. We need to send a keep Active before then.\n    Ember.run.later(context, keepActive, context.timeout);\n\n  },\n\n  forceLogin: function(){\n    window.location.href = '/users/sign_out?timeout=true';\n  },\n\n  show: function(){\n    // Warn the user that they will be logged out if we are inactive\n    if(this.active === false){\n      // Start countdown timer\n      this.$('.modal').modal('show');\n    }\n  },\n\n  hide: function(){\n    this.$('.modal').modal('hide');\n  }\n\n});\n\n</pre></code>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-01-02-session-timeout-for-your-ember-application/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/session-timeout-for-your-ember-application",date:"2014-01-02T07:00:00Z",title:"Session timeout for your Ember application",imageUrl:null,structuredHtml:null,tags:["Ember","Javascript","Programming"],image:null}}},{node:{excerpt:"Plenty of us working stiffs here in the United States wake up each morning a bit groggy as we prepare for another day as a cog\nin the grind. That means  coffee is the most widely traded agriculture commodity in the world .\nInject hot air, sugar and fat into coffee and a 25 cent cup of truck stop pick me up becomes a $6 Starbucks masterpiece.\n Nestle saw an 800% increase in profits with the…",html:"<p>Plenty of us working stiffs here in the United States wake up each morning a bit groggy as we prepare for another day as a cog\nin the grind. That means <a href=\"http://www.ico.org/trade_e.asp\">coffee is the most widely traded agriculture commodity in the world</a>.\nInject hot air, sugar and fat into coffee and a 25 cent cup of truck stop pick me up becomes a $6 Starbucks masterpiece.\n<a href=\"http://blogs.hbr.org/2013/05/a-better-way-to-think-about-yo/\">Nestle saw an 800% increase in profits with the Nespresso.</a>\nIt's the same coffee but if you put it in a little cup, make it easy to prepare and add a bit of flavoring the commodity becomes a\nluxury. The proof of our love for coffee is the price we pay.</p>\n<p>I'm guilty. I pay just as much for my morning pick me up. I drink it every morning. It wakes me up. It keeps me healthy. It powers my rides.</p>\n<p>My secret is that I've never drunk coffee, but I do have a 'Mormon' version that I feel fine sharing with my even my youngest kids.</p>\n<p>The measurements are estimates. I end up guessing most of the time. Put the ingredients in the blender\nin the order below - it will be easier on your blender to grind up the non-frozen stuff first. I buy the frozen blue berries and\ncherries at Sams.</p>\n<blockquote>\n1/4 cup flax seed\n1/2 cup of Kefir\n1 Banana\n2 Handfuls of spinach\n1/2 cup frozen blueberries\n1/2 cup frozen cherries\nAny other random left over fruit\n</blockquote>\n<p>It should come out quite purple. Drink it fast or it will start to solidify and turns into nasty grossness.\nOne warning - it's not low calorie but it will wake you up.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2014-01-01-my-morning-coffee/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/my-morning-coffee",date:"2014-01-01T07:00:00Z",title:"My Morning Coffee",imageUrl:null,structuredHtml:null,tags:["Funny"],image:null}}},{node:{excerpt:"I rarely ever reboot my Mac. It sits on my desk loyally waiting for my next command ready to respond to my every whim.\nHowever, on occasion, something happens and it does need a reboot. Today was one of those days. Upon reboot everything appeared fine until I tried to work on some code. PostGreSQL was dead.\nThis isn't the first time this has happened to me and I'm guessing it won't be the last so…",html:"<p>I rarely ever reboot my Mac. It sits on my desk loyally waiting for my next command ready to respond to my every whim.\nHowever, on occasion, something happens and it does need a reboot.</p>\n<p>Today was one of those days. Upon reboot everything appeared fine until I tried to work on some code. PostGreSQL was dead.\nThis isn't the first time this has happened to me and I'm guessing it won't be the last so for the benefit of all here's\nthe problem:</p>\n<p>Here's the error I get:</p>\n<pre>\npsql: could not connect to server: No such file or directory\n  Is the server running locally and accepting\n  connections on Unix domain socket \"/tmp/.s.PGSQL.5432\"?\n</pre>\n<p>The trick is to look at the logs. I installed using <a href=\"http://brew.sh/\">Homebrew</a> so my logs are here:</p>\n<pre>\n/usr/local/var/postgres/server.log\n</pre>\n<p>I had done a hard reboot which left 'postmaster.pid' in place:</p>\n<pre>\n/usr/local/var/postgres/postmaster.pid\n</pre>\n<p>I removed that file and then started up PostGres with:</p>\n<pre>\npg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start\n</pre>\n<p>Now I'm good to go.</p>",
id:"/Users/jbasdf/projects/justinball/src/posts/2013-12-26-if-postgresql-won't-start-remember-this/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/if-postgresql-won't-start-remember-this",date:"2013-12-26T07:00:00Z",title:"If PostGreSQL Won't Start Remember This",imageUrl:null,structuredHtml:null,tags:["PostGresSQL","Mac"],image:null}}},{node:{excerpt:"Even on Heroku where most of the problems of sys ops is taken care of for you, you will occasionally run into\nstrange database issues that are hard to explain. For me it the database issues showed up as some ugly entries\nwhen I tried to run a rake db:migrate on a deployed database: I was left a bit confused but I got the point that I needed to reindex my database but the question was how? turns…",html:"<p>Even on Heroku where most of the problems of sys ops is taken care of for you, you will occasionally run into\nstrange database issues that are hard to explain. For me it the database issues showed up as some ugly entries\nwhen I tried to run a rake db:migrate on a deployed database:</p>\n<pre>\n2013-12-13T16:57:28.079781+00:00 app[web.1]: PG::IndexCorrupted: ERROR:  index \"pg_constraint_conname_nsp_index\" contains unexpected zero page at block 0\n2013-12-13T16:57:28.079781+00:00 app[web.1]: HINT:  Please REINDEX it.\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             FROM pg_attribute attr\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             WHERE cons.contype = 'p'\n2013-12-13T16:57:28.079781+00:00 app[web.1]:               AND cons.conrelid = '\"users\"'::regclass\n2013-12-13T16:57:28.079781+00:00 app[web.1]:\n2013-12-13T16:57:28.079781+00:00 app[web.1]: :             SELECT attr.attname\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\n2013-12-13T16:57:28.079781+00:00 app[web.1]: PG::IndexCorrupted: ERROR:  index \"pg_constraint_conname_nsp_index\" contains unexpected zero page at block 0\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             WHERE cons.contype = 'p'\n2013-12-13T16:57:28.079781+00:00 app[web.1]: HINT:  Please REINDEX it.\n2013-12-13T16:57:28.079965+00:00 app[web.1]:               AND cons.conrelid = '\"users\"'::regclass\n2013-12-13T16:57:28.079965+00:00 app[web.1]: Completed 500 Internal Server Error in 10ms\n2013-12-13T16:57:28.079965+00:00 app[web.1]: :             SELECT attr.attname\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             FROM pg_attribute attr\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\n</pre>\n<p>I was left a bit confused but I got the point that I needed to reindex my database but the question was how? turns out on heroku you can get into\nyour database with this command:</p>\n<pre>\nheroku pg:psql\n</pre>\n<p>That was easy. Now to clean up my indexes:</p>\n<pre>\nREINDEX DATABASE __Your_DB_Name__\n</pre>\n<p>While you're in there you can also clean up:</p>\n<pre>\nVACUUM;\n</pre>\n<p>You'll need to get your database name from your heroku dashboard. This url will get you there\n<a href=\"https://postgres.heroku.com/databases\">https://postgres.heroku.com/databases</a>. You'll need to know\nwhat the specific database is and click through to get the name. It's ugly and will look something like 'dusyahwettad'</p>\n<p>That should be it, but in case you want to dig around a bit more and see what's going on in your database you can install the pg-extras from:</p>\n<p><a href=\"https://github.com/heroku/heroku-pg-extras\">https://github.com/heroku/heroku-pg-extras</a></p>\n<p>Once those are installed you can do things like..</p>\n<p>See the your db bloat:\nheroku pg:bloat DATABASE_URL</p>\n<p>Check out your vacuum stats:\nheroku pg:vacuum<em>stats DATABASE</em>URL</p>\n<p>And so much more. Check here for more details:\n<a href=\"https://devcenter.heroku.com/articles/heroku-postgres-database-tuning\">https://devcenter.heroku.com/articles/heroku-postgres-database-tuning</a></p>",id:"/Users/jbasdf/projects/justinball/src/posts/2013-12-13-heroku-database-tips/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/heroku-database-tips",date:"2013-12-13T07:00:00Z",title:"Heroku Database Tips",imageUrl:null,structuredHtml:null,tags:["Heroku","PostGreSQL"],image:null}}},{node:{excerpt:"",html:'<p>Ember provides a text field view that makes generating text input fields pretty simple. What\'s really cool is with the\n  simple addition of onEvent="keyPress" and action="my_function" you can monitor changes to the field as the user types.\n  It looks something like this:</p>\n<script src="https://gist.github.com/jbasdf/9202528.js"></script>\n<p>(On a side note you can also just add an observer to your controller for \'value\' and it will be called as the user types in new content.)</p>\n<p>Even with all this magic I ran into a scenerio that not handled - I needed to know if the user had pressed the arrow up or down keys. A quick\n  dig into the Ember code led me to the Ember.TextSupport mixin. The Ember.TextField view mixes in Ember.TextSupport so you only need to\n  create your own textfield view, extend Ember.TextField and override a couple of the methods from Ember.TextSupport. It looks like this:<p>\n<script src="https://gist.github.com/jbasdf/9202561.js"></script>\n<p>Using your new arrow enabled view then looks like this:</p>\n<script src="https://gist.github.com/jbasdf/9202574.js"></script>',id:"/Users/jbasdf/projects/justinball/src/posts/2013-10-24-ember-textfield-ignores-arrow-keys-how-to-monitor-key-events-in-your-textfield/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/ember-textfield-ignores-arrow-keys.-how-to-monitor-key-events-in-your-textfield",date:"2013-10-24T06:00:00Z",title:"Ember Textfield ignores arrow keys. How to monitor key events in your textfield",imageUrl:null,structuredHtml:null,tags:["Ember.js","Javscript"],image:null}}}],pathPrefix:"archive",first:!1,last:!1,index:5,pageCount:33,additionalContext:{}}}}});
//# sourceMappingURL=path---archive-5-8ef3b08fadc2ea624994.js.map