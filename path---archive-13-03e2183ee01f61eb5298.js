webpackJsonp([0xea8880d70a88],{1806:function(e,t){e.exports={pathContext:{group:[{node:{excerpt:"I found a chance to try out the new nested forms in a project I've been working on for a long time.  (I actually tried them out a long time ago in Edge Rails, but then got burned when they pulled the functionality back out). Everything looked like it would go well until I got this: wrong constant name User billingAttributes ) I cussed and cursed Rails and the plugin I am using for a few minutes…",html:"<p>I found a chance to try out the new nested forms in a project I've been working on for a long time.  (I actually tried them out a long time ago in Edge Rails, but then got burned when they pulled the functionality back out).</p>\n<p>Everything looked like it would go well until I got this:</p>\n<p>wrong constant name User[billingAttributes])</p>\n<p>I cussed and cursed Rails and the plugin I am using for a few minutes and then decided that I was a grown up and a Rails programmer and I shouldn't be so stupid so I looked hard at the stack trace.  It then occurred to me that I had built out a custom form builder for the project and that this error is in fact my fault.</p>\n<p>I have some ugly code that looks like this:</p>\n<pre><code class=\"ruby\">\n  def required_field?(field)\n    @object_name.to_s.camelize.constantize.reflect_on_validations_for(field).map(&:macro).include?(:validates_presence_of)\n  end\n</pre></code>\n<p>Normally '@object<em>name' would give you the name of the object you are using like 'user' etc.  However, when you are using nested forms the object in this case is named 'User[billingAttributes]'.  I was in fact using the wrong value all along and lucking out.  It worked because I had never given it a reason not to.  That doesn't me I had the right code.  It just meant that I was kind of lucky in that it work and very lucky in that I caught it, but unlucky because my &#x3C;a href=\"<a href=\"http://en.wikipedia.org/wiki/Duck\">http://en.wikipedia.org/wiki/Duck</a></em>typing\">code was quacking like a duck even though it was at best a pigeon</a>.</p>\n<p>I now have some ugly code that looks like this which does work:</p>\n<pre><code class=\"ruby\">\n  def required_field?(field)\n    reflect_on = object.class if !object.blank?\n    if reflect_on.blank?\n      reflect_on = @object_name.to_s.camelize.constantize rescue nil\n    end\n    if !reflect_on.blank?\n      reflect_on.reflect_on_validations_for(field).map(&:macro).include?(:validates_presence_of)\n    else\n      false\n    end\n  end\n</pre></code>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-04-16-rails-23-nested-forms-and-wrong-constant-name-userbillingattributes/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/rails-23-nested-forms-and-wrong-constant-name-userbillingattributes",date:"2009-04-16T06:00:00Z",title:"Rails 2.3, Nested forms and wrong constant name User[billingAttributes])",imageUrl:null,structuredHtml:null,tags:["Ruby On Rails"],image:null}}},{node:{excerpt:"Tonight we transferred control of the Teachers Without Borders website to a new provider. I've worked with Teachers Without Borders for more than a year now. I was granted a fellowship that allowed me to work with them to build a social network that will help teachers world-wide. Like any developer that has poured a lot of time into a project I have mixed feelings about passing the project onto…",html:"<p>Tonight we transferred control of the Teachers Without Borders website to a new provider. I've worked with Teachers Without Borders for more than a year now. I was granted a fellowship that allowed me to work with them to build a social network that will help teachers world-wide. Like any developer that has poured a lot of time into a project I have mixed feelings about passing the project onto another group. On the one hand it is a relief since maintenance of the project can be stressful. On the other hand not having to worry about making sure the site is running from day to day reduces a large burden.</p>\n<p>I was talking to my wife the other day about the situations my mother-in-law, a first grade teacher, has seen over the years. In this modern age of consumerism it is easy to forget that there are many in dire circumstances. We think that the problem is out there, in Africa, in Asia, somewhere else. The truth is in this 'great nation' kids still come to school in the winter without coats. Parents neglect their children - don't wash their clothes, don't feed them, and even abandon them. Our future is also our most vulnerable population.</p>\n<p>Most of the time I feel pretty powerless to make any significant different, but working with Teachers Without Borders has given me the opportunity to hopefully contribute in some small but meaningful way.</p>\n<p>Teachers are treated poorly. Parents love to complain but rarely praise their efforts. They deal with salaries that are a pittance compared to what they are worth (think of what a difference a teacher makes versus the latest crop of CEOs and ask yourself who has done more and deserves better).</p>\n<p>My thanks goes to all the teachers who have made such a difference in my life and to all those around the world who are trying to make this planet a better place.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-04-15-teachers-without-borders-2/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/teachers-without-borders-2",date:"2009-04-15T06:00:00Z",title:"Teachers Without Borders",imageUrl:null,structuredHtml:null,tags:["Ruby On Rails","Teachers Without Borders","website"],image:null}}},{node:{excerpt:"I've been a pallbearer a number of times over the years. It's an honor that I doubt very many people love since it\nmeans someone close to you has passed away. A week ago my Aunt Dawn was driving back from Arco. In a tragic bit of bad luck a freak snow storm made the road slick.\nHer car hit a patch of ice and an oncoming car crashed into the side of her vehicle. Luckily, the people in the other car…",html:"<p>I've been a pallbearer a number of times over the years. It's an honor that I doubt very many people love since it\nmeans someone close to you has passed away.</p>\n<p>A week ago my Aunt Dawn was driving back from Arco. In a tragic bit of bad luck a freak snow storm made the road slick.\nHer car hit a patch of ice and an oncoming car crashed into the side of her vehicle. Luckily, the people in the other car walked away.</p>\n<p>I learned a few new things about my Aunt and was reminded of a few things I had forgotten. She lived a life of service. She loved little kids.\nShe also carried a loaded 357 magnum in her car and even slept with it under her pillow.\nShe and her sisters, my mother included, did everything together. She was my grandmother's caretaker in many ways,\nbut really she was her best friend. The void she leaves can't be filled. I regret that I always took it for granted\nthat Dawn would always be there. I think that we forget that life is a temporary state. Sadly, the people around\nus won't always be there. This is cliche but in our climate where there is so much focus on work and consumerism,\nspend time with the people you love.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-04-09-aunt-dawn/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/aunt-dawn",date:"2009-04-09T06:00:00Z",title:"Aunt Dawn",imageUrl:null,structuredHtml:null,tags:["Family"],image:null}}},{node:{excerpt:"After upgrading to Rails 2.3.2 I started getting this error:\nMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*) It turns out that the 'count' method is broken for 'has_many through association collection with named scope'. Here's a link to the bug report:",html:"<p>After upgrading to Rails 2.3.2 I started getting this error:\nMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*)</p>\n<p>It turns out that the 'count' method is broken for 'has_many through association collection with named scope'. Here's a link to the bug report:</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-18-count-is-broken-in-rails-232/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/count-is-broken-in-rails-232",date:"2009-03-18T06:00:00Z",title:"Count is broken in Rails 2.3.2",imageUrl:null,structuredHtml:null,tags:["Funny","bug","count","Ruby On Rails","sql"],image:null}}},{node:{excerpt:"I finally managed to get out and ride today. That is significant because it's the first time I've been outside on a bike since August 22, 2008 - the day I ran over a rattlesnake and trashed my knee. So yea for me. Originally, I wasn't going to go out and ride. I was going to deal with the trainer yet again. The bike called to me and I remembered that I have a brand new pair of stretchy pants. I've…",html:"<p>I finally managed to get out and ride today. That is significant because it's the first time I've been outside on a bike since August 22, 2008 - the day I ran over a rattlesnake and trashed my knee. So yea for me.</p>\n<p>Originally, I wasn't going to go out and ride. I was going to deal with the trainer yet again. The bike called to me and I remembered that I have a brand new pair of stretchy pants. I've been dying to wear my stretchy pants so I pulled the bike from the trainer and left. (They do stitch a scorpion on the side because that helps you feel more manly.)</p>\n<p>I went by myself without a phone without id. That is ironic because given my last time on a bike you'd think I'd learn. I didn't. To hell with safety. I had a great time. In fact that is probably the longest continuous time I've spent spent outside since last August. It's interesting, the real world. The only tweets I heard came from birds. The pain I felt came from my legs instead of my butt which is where it hurts the worst when dealing with software.</p>\n<p>I got chased by a dog. Again, remembering that my last encounter with a biological entity resulted in disaster that had me a bit worried. I thought I could out run him. I did, but I am surprised at how fast a dog can move. I've been watching a lot of Planet Earth lately. There is this one part where wolves chase down a baby caribou. The commentator says, \"the caribou has speed on their side but the wolf has endurance. The wolf only need wear down the animal.\" In the last scene the wolf is gulping raw flesh. I wondered how many of those genes made it into this particular mutt. I hit 30mph before I totally dropped him. I still kept looking back just in case he was trying to wear me down.</p>\n<p>I rode to the end of Old Hollow Road. I stopped to try to adjust my bike which is as out of tune as I am. Unfortunately, I didn't have a screw driver so the derailleur had to wait. I filled my pocket with some pretty good sized rocks just in case I didn't have the energy to out run the four legged demon on the way back.</p>\n<p>I'm hurting tonight. In spite of a winter on the trainer, my body always hurts after the first ride of the year. Physically, today was a bad day to ride. I was tired. I don't feel especially great. Overall, there couldn't have been a better day to ride. My heart pounded in the 170-180 range, and I did hurt, but I don't care. A bad bike ride beats a pain in the ass any day.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-17-first-ride-of-the-season/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/first-ride-of-the-season",date:"2009-03-17T06:00:00Z",title:"First ride of the season",imageUrl:null,structuredHtml:null,tags:["Cycling"],image:null}}},{node:{excerpt:"I'm not a twitter power user but people frequently ask me what it is and why would I use it. I used to tell them it was a 'micro-blogging' service. Of course that explanation assumes that the person asking the question knows what a blog is and why they would need a smaller version of one. I have a new answer:\n\"We are the borg\" For those who are geeky like I and my wife* the  borg  were a human…",html:'<p>I\'m not a twitter power user but people frequently ask me what it is and why would I use it. I used to tell them it was a \'micro-blogging\' service. Of course that explanation assumes that the person asking the question knows what a blog is and why they would need a smaller version of one.</p>\n<p>I have a new answer:\n"We are the borg"</p>\n<p>For those who are geeky like I and my wife* the <a href="http://search.twitter.com/search?q=borg">borg</a> were a human like species that merged the organic with metal, wore <a href="http://search.twitter.com/search?q=goth">goth</a> makeup and thought as a group. Twitter is our first evolutionary step towards becoming the the pale faced, laser wearing, funny talking collective that lived in giant boxes. Perhaps the borg have even come back in time and brought us this wondrous technology and destroy our lives.</p>\n<p>Don\'t get me wrong. I love twitter. Never before have so many voices been able to be heard at the same time. However, the negative is that now there are so many voices. Borg thought was shared among all members of the race. At the time the show came out that was a very disturbing scenario. However, social media has changed they way we interact with one another. Now when it is time to <a href="">walk your dog</a>, <a href="">make toast</a>, or attend <a href="">the most conference ever</a> you can let it be known to the collective.</p>\n<p> [3]: <a href="http://search.twitter.com/search?q=walk">http://search.twitter.com/search?q=walk</a> the dog\n[4]: <a href="http://search.twitter.com/search?q=make">http://search.twitter.com/search?q=make</a> toast\n[5]: <a href="http://search.twitter.com/search?q=#mwrc">http://search.twitter.com/search?q=#mwrc</a></p>\n<p>Of course there is a downside to this. Whenever <a href="">Jean Luc Picard</a> and the brave crew of the enterprise would \'rescue\' someone from the grasp of the borg that individual would feel lonely and miss all the voices in their head. All those power twitter users out there know what this feels like. A few moments or gasp hours away and . When twitter goes down it\'s like that scene in <a href="">Star Wars</a> where <a href="">Obi-wan</a> says "it\'s as if millions of voices suddenly cried out in terror and were suddenly silenced." A blip in twitter\'s operation shuts everyone up and we all get very lonely so don\'t let that happen.</p>\n<p> [6]: <a href="http://search.twitter.com/search?q=Jean">http://search.twitter.com/search?q=Jean</a> Luc Picard\n[7]: <a href="http://search.twitter.com/search?q=Star">http://search.twitter.com/search?q=Star</a> Wars\n[8]: <a href="http://search.twitter.com/search?q=Obi-wan">http://search.twitter.com/search?q=Obi-wan</a></p>\n<p>If blogs empowered average citizen journalists twitter put us all back up on soap boxes in the park each with one hell of a megaphone. No one need ever be lonely or unheard again. <a href="http://twitter.com/jbasdf">Famous people</a> are on Twitter. <a href="http://twitter.com/jbasdf">Nerds are on twitter</a>. <a href="http://twitter.com/jbasdf">Guys that ride bikes are on twitter</a>.</p>\n<p>Facebook gave us a way to connect with the friends we already have. Twitter gives us the power to connect with and listen to voices we may never actually meet. The result is a reduction in social friction. I don\'t have to actually meet that <a href="http://twitter.com/d2h">expert ruby on rails programmer</a> to engage in a conversation. Instead I get the opportunity to observe the thoughts and actions of anyone I like or admire (follow) all day every day. That might seem creepy or even pornographic to some, but like the borg I can carry on a conversation with hundreds if not thousands of interesting individuals all at the same time. So next time someone asks you "what is twitter?" Tell them "we are the borg. Resistance is futile. You will be assimilated."</p>\n<p>*Callie used to watch Star Trek Next Generation with me. Don\'t let her deny it.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-15-twitter-the-new-borg/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/twitter-the-new-borg",date:"2009-03-15T06:00:00Z",title:"Twitter &#8211; The New Borg",imageUrl:null,structuredHtml:null,tags:["Interesting","Social Software","twitter","micro-blogging","social media","twitter"],image:null}}},{node:{excerpt:"I'm at the FamilySearch conference today. Right now Phil Windely is talking about open data and the related technical formats - REST, Json, RDF, and Microformats. I think this is good information for this crowd since sharing data is key to genealogy research. For years the methods of sharing data and integrating systems has been complex requiring conversations and planning between the involved…",html:"<p>I'm at the FamilySearch conference today. Right now Phil Windely is talking about open data and the related technical formats - REST, Json, RDF, and Microformats. I think this is good information for this crowd since sharing data is key to genealogy research. For years the methods of sharing data and integrating systems has been complex requiring conversations and planning between the involved parties. If instead you open your data and provide it in simple formats that others can consume, interesting, serendipitous things start to happen.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-11-familysearch-conference/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/familysearch-conference",date:"2009-03-11T06:00:00Z",title:"FamilySearch conference",imageUrl:null,structuredHtml:null,tags:["familysearch","genealogy","Phil Windley"],image:null}}},{node:{excerpt:"Don't let him fool ya. Here's Joel with a cup of coffee at the last OCW conference: Everyone needs a little pick me up.",html:'<p>Don\'t let him fool ya. Here\'s Joel with a cup of coffee at the last OCW conference:</p>\n<p><img src="img_0182.jpg" alt="Joel Duffin strikes" title="Joel Duffin strikes"></p>\n<p>Everyone needs a little pick me up.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-08-joel-with-coffee/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/joel-with-coffee",date:"2009-03-08T07:00:00Z",title:"Joel With Coffee",imageUrl:null,structuredHtml:null,tags:["Funny"],image:{childImageSharp:{sizes:{src:"/static/img_0182-4703d1eb1ab21be66b7bf353e2d32a0f-381d6.jpg"}}}}}},{node:{excerpt:"This is the most impressive cheese ever: Each serving has 1176 calories with 11 servings per container which means this thing has 12,936 calories.",html:'<p>This is the most impressive cheese ever:</p>\n\n  <a class="gatsby-resp-image-link" href="/static/img_0197-75dadda115a6274144b690c956bac88a-99134.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABcBAAMBAAAAAAAAAAAAAAAAAAECAwD/2gAMAwEAAhADEAAAAeRtOpKzSdDPqoiW4b//xAAaEAADAQEBAQAAAAAAAAAAAAAAAQIREhMh/9oACAEBAAEFAtJS54kik23i9S5+LaOUdUSzNP/EABcRAAMBAAAAAAAAAAAAAAAAAAABIRD/2gAIAQMBAT8BqLv/xAAYEQACAwAAAAAAAAAAAAAAAAAAIQEQEf/aAAgBAgEBPwFS7w//xAAWEAEBAQAAAAAAAAAAAAAAAAAQMSH/2gAIAQEABj8CY41//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITFhkf/aAAgBAQABPyGwrS+XFprswMjG/sgY4QFcZUEaMuAjVzyYXdRnsppJ/9oADAMBAAIAAwAAABCM7vP/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8Q1MYSf//EABcRAQEBAQAAAAAAAAAAAAAAAAERAEH/2gAIAQIBAT8QQIyC27k0b//EAB4QAQADAAICAwAAAAAAAAAAAAEAESExUUGRYXGx/9oACAEBAAE/EBXuFtmfU5kw0a8+IJYbo5WFSlhRQMZUE6A/NnOelhA2Cu4S6AVuVYN7hqZfOwkw70Tzgz//2Q==&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Super Cheese" title="" src="/static/img_0197-75dadda115a6274144b690c956bac88a-b80fa.jpg" srcset="/static/img_0197-75dadda115a6274144b690c956bac88a-cf410.jpg 163w,\n/static/img_0197-75dadda115a6274144b690c956bac88a-62f2a.jpg 325w,\n/static/img_0197-75dadda115a6274144b690c956bac88a-b80fa.jpg 650w,\n/static/img_0197-75dadda115a6274144b690c956bac88a-08cb4.jpg 975w,\n/static/img_0197-75dadda115a6274144b690c956bac88a-99134.jpg 1200w" sizes="(max-width: 650px) 100vw, 650px">\n    </span>\n  </span>\n  \n  </a>\n    \n<p>Each serving has 1176 calories with 11 servings per container which means this thing has 12,936 calories.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-08-super-cheese/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/super-cheese",date:"2009-03-08T07:00:00Z",title:"Super Cheese",imageUrl:null,structuredHtml:null,tags:["Funny"],image:{childImageSharp:{sizes:{src:"/static/img_0197-75dadda115a6274144b690c956bac88a-381d6.jpg"}}}}}},{node:{excerpt:"This is a couch:\n",html:'<p>This is a couch:\n<img src="img_0183.jpg" alt="img_0183" title="img_0183"></p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-08-a-couch/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/a-couch",date:"2009-03-08T07:00:00Z",title:"A Couch",imageUrl:null,structuredHtml:null,tags:["Funny"],image:{childImageSharp:{sizes:{src:"/static/img_0183-bd8a08342aae9f740a8a1ee3c36e8aa2-381d6.jpg"}}}}}},{node:{excerpt:"I and Callie took the kids to Salt Lake a while back so they could go to the  Children's Museum  at the Gateway. They had a great time. At the end of the day we wandered around the area a bit and since there is an Apple store I dropped in to see if they could solve my problem. I told my wife it would only be a few minutes. Several hours later a finally got to talk to some high school kid that knew…",html:'<p>I and Callie took the kids to Salt Lake a while back so they could go to the <a href="http://www.discoverygateway.org/">Children\'s Museum</a> at the Gateway. They had a great time. At the end of the day we wandered around the area a bit and since there is an Apple store I dropped in to see if they could solve my problem.</p>\n<p>I told my wife it would only be a few minutes. Several hours later a finally got to talk to some high school kid that knew how to turn on the Mac and crop a photo in Photoshop but other than that they were pretty worthless. At least the store looks cool.</p>\n<p>My journey to the Apple store started when I switched my monitory input. I have a 24" Dell monitor and I plug my Macbook Pro into that. As long as I used my DVI to VGA adapter the Macbook Pro would automatically detect when the monitor was plugged in. I figured that since I used my Mac almost exclusively these days I would use the DVI input for the better picture. However, when I started plugging directly into the DVI cable the Macbook Pro no longer recognized when the monitor was plugged in or not plugged in. This is a minor annoyance, but it bugged me so I determined to find a solution which is how I ended up at the Apple store.</p>\n<p>They were no help at all and wasted a lot of my time and my poor wife had to wander around the gateway with the kids while I waited (Of course they couldn\'t let me leave the store and just call my cell. I had to sit there). Did I mentioned that my trip to the Apple store was a total waste?</p>\n<p>I had guessed for a while that it might have something to do with the cable. I being cheap didn\'t want to buy a new one (I know I should have borrowed one) to test. I just assumed that the Apple geeks would know whether or not a cable would matter. They didn\'t.</p>\n<p>It turns out the cable is the issue. So if you find that your Mac doesn\'t automatically recognize the monitor check the cable. It won\'t work with a single link DVI cable, but will work with a dual link DVI cable.</p>\n<p>Here\'s a single link DVI cable. You don\'t want this one:\n<img src="img_4038.jpg" alt="Single Link DVI cable" title="Single Link DVI cable"></p>\n<p>Here\'s a Dual link DVI cable. You do want this one:\n<img src="img_4036.jpg" alt="Dual Link DVI Cable" title="Dual Link DVI Cable"></p>\n<p>The only visible difference is the pin count. The Single link DVI doesn\'t have the pins in the middle.</p>\n<p><a href="http://www.amazon.com/gp/product/B0000X0VCY?ie=UTF8&#x26;tag=jusbal-20&#x26;linkCode=as2&#x26;camp=1789&#x26;creative=390957&#x26;creativeASIN=B0000X0VCY">I bought this one from Amazon and it worked great. </a><img src="http://www.assoc-amazon.com/e/ir?t=jusbal-20&#x26;l=as2&#x26;o=1&#x26;a=B0000X0VCY"></p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-01-my-macbook-pro-the-single-link-dvi-cable-and-the-not-so-genius-apple-bar/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/my-macbook-pro-the-single-link-dvi-cable-and-the-not-so-genius-apple-bar",date:"2009-03-01T07:00:00Z",title:"My Macbook Pro, the Single Link DVI cable and the Not so Genius Apple Bar",imageUrl:null,structuredHtml:null,tags:["Computers","Apple Store","DVI","macbook pro","Monitor","problems"],image:{childImageSharp:{sizes:{src:"/static/img_4038-5aa8467d998374c470d6f0f28a1d7c5f-381d6.jpg"}}}}}},{node:{excerpt:"I don't drink a lot of soda so when I do drink it it has to be good. A couple of years ago Coke came out with a flavor that I grew to love - Black Cherry Vanilla. I bought a couple of 12 packs and kept them in the basement. I drank the last one this weekend. First the recession and now my last Black Cherry Vanilla Coke. When will the pain end?",html:"<p>I don't drink a lot of soda so when I do drink it it has to be good. A couple of years ago Coke came out with a flavor that I grew to love - Black Cherry Vanilla. I bought a couple of 12 packs and kept them in the basement. I drank the last one this weekend.</p>\n<p>First the recession and now my last Black Cherry Vanilla Coke. When will the pain end?</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-03-01-black-cherry-vanilla-coke/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/black-cherry-vanilla-coke",date:"2009-03-01T07:00:00Z",title:"Black Cherry Vanilla Coke",imageUrl:null,structuredHtml:null,tags:["Waste of Time","black cherry vanilla coke","coke"],image:null}}},{node:{excerpt:"I've been to a good number of conferences over the years. A lot of them cost a lot of money. If you are a geek and a ruby lover (who isn't?) then the best event you'll ever attend is the  Mountain West Ruby conference .  The schedule is up . It's only a hundred bucks and the best of the best show up.  Get registered now  so you don't hate yourself in the morning.",html:'<p>I\'ve been to a good number of conferences over the years. A lot of them cost a lot of money. If you are a geek and a ruby lover (who isn\'t?) then the best event you\'ll ever attend is the <a href="http://mtnwestrubyconf.org/2009/">Mountain West Ruby conference</a>. <a href="http://mtnwestrubyconf.org/2009/schedule">The schedule is up</a>.</p>\n<p>It\'s only a hundred bucks and the best of the best show up. <a href="http://mtnwestrubyconf.eventwax.com/mountainwest-rubyconf-2009/register">Get registered now</a> so you don\'t hate yourself in the morning.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-02-25-mountain-west-ruby-conference-2/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/mountain-west-ruby-conference-2",date:"2009-02-25T07:00:00Z",title:"Mountain West Ruby Conference",imageUrl:null,structuredHtml:null,tags:["mtnwestrubyconf","Ruby On Rails","conference","Mountain West Ruby","ruby","Ruby On Rails"],image:null}}},{node:{excerpt:"I keep my bike on the trainer in my office during the winter. My son found a new use for my Madone:\n . It's just a guess but I bet the pros don't use sippy cups.",html:'<p>I keep my bike on the trainer in my office during the winter. My son found a new use for my Madone:\n<img src="img_4035.jpg" alt="img_4035" title="img_4035">.</p>\n<p>It\'s just a guess but I bet the pros don\'t use sippy cups.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-02-20-the-pro-bikers-dont-do-this/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/the-pro-bikers-dont-do-this",date:"2009-02-20T07:00:00Z",title:"The Pro Bikers Don&#8217;t do This",imageUrl:null,structuredHtml:null,tags:["Funny","Funny","madone","trek"],image:{childImageSharp:{sizes:{src:"/static/img_4035-d02296bcefd5bf8acebb82714f2ffb71-381d6.jpg"}}}}}},{node:{excerpt:"I spend most of my time working with Ruby on Rails these days.  However, I still do .Net programming mainly for  ThePlanCollection.com .  Our password recovery system has been a bit flaky lately so I decided it was time to review the code and get it into polished condition. I found out that I was redirecting the user to the wrong page after the password recovery and so it appeared that the…",html:'<p>I spend most of my time working with Ruby on Rails these days.  However, I still do .Net programming mainly for <a href="http://www.theplancollection.com">ThePlanCollection.com</a>.  Our password recovery system has been a bit flaky lately so I decided it was time to review the code and get it into polished condition.</p>\n<p>I found out that I was redirecting the user to the wrong page after the password recovery and so it appeared that the password reset was failing.  Big oops.  While working on the code I decided that the email message were sending out sucked.  Users expect more out of the web these days and we should deliver it.  <a href="http://www.codeverge.net/ng.asp-net-forum.security/customizing-the-email-sent-by-passwordrecovery">I found this link on customizing the password recovery control in asp.net</a>.  It is simple and to the point, but what if I want to added more customization to the message and include other dynamically generated values?</p>\n<p>It\'s kind of funny how I slip into old habits when I work in the .Net world.  My immediate reaction was to start searching the web for the Microsoft sanction method of passing parameters to the email text file.  I am sure I would still be searching if I kept pursuing that course.</p>\n<p>Instead, I just added this to my email.txt file:</p>\n<pre><code class="html">\n  <%url%>/login.aspx\n</pre></code>\n<p>then I did this in my code:</p>\n<pre><code class="csharp">\nprotected void On_SendingMail(object sender, MailMessageEventArgs e)\n{\n  string message = e.Message.Body.Replace("<%url%>", ConfigurationManager.AppSettings["LiveWebsite"]);\n  //....\n  //send message logic\n  //....\n}\n</pre></code>\n<p>I know that all the purist out there are calling me a hacker.  You will say that I cheated and just did a string replace instead of figuring out the right way which would involve overriding some method and setting up properties on an obscure object.  I\'m guessing the last part.  If I really knew how to do it I would have probably just done it.  Anyway, to all those crying hacker I say so what.  It took me 2 minutes to put this together.  It feels kind of like something I would do in Rails Rails does have \'sanctioned\' ways of doing this type of thing.  It doesn\'t look like what I did, but that\'s where I stole the idea.</p>\n<p>I don\'t want to start a holy war.  I\'m not saying Rails is better than .Net.  Instead, I think it is important that programmers embrace multiple platforms and ways of doing things.  Let the ideas from one system bleed into another and you might find time to spend with your family.</p>',
id:"/Users/jbasdf/projects/justinball/src/posts/2009-02-19-customizing-the-email-sent-by-passwordrecovery-in-asp-net/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/customizing-the-email-sent-by-passwordrecovery-in-asp-net",date:"2009-02-19T07:00:00Z",title:"Customizing the email sent by PasswordRecovery in ASP.Net",imageUrl:null,structuredHtml:null,tags:["ASP.Net","Ruby On Rails","ASP.Net","password recovery","Ruby On Rails"],image:null}}},{node:{excerpt:"Working with Paypal can be a bit difficult not because of the code required, but rather because their website can be a hassle to navigation.  I already have ActiveMerchant integrated into my application.  My problem was figuring out how to change it from Braintree to Paypal.  Here are the quick steps for getting going. Note: If you get this error during your work: It's because Paypal requires…",html:'<p>Working with Paypal can be a bit difficult not because of the code required, but rather because their website can be a hassle to navigation.  I already have ActiveMerchant integrated into my application.  My problem was figuring out how to change it from Braintree to Paypal.  Here are the quick steps for getting going.</p>\n<ol>\n\t<li>Sign up for an account here:\nhttps://developer.paypal.com</li>\n\t<li>Click on \'Test Accounts\' then choose \'Seller\' and create an account</li>\n</li>You can then use that account to login just like a real business user with the exception that you will log in to the sandbox and no money will exchange hands.</li>\n<li>If you want you can also create a \'Buyer\' account that you can use to test transactions.</li>\n<li>Select the \'Seller\' account and then press \'Enter Sandbox Test Site\'.  You will be asked to login as the \'Buyer\' user.  Login and then under \'My Account\' which should be the first screen you see there will be 3 steps towards the bottom of the page.  Click on the \'Go\' button to accept the billing agreement and then you will be provided with API credentials.  Note that it will tell you that you will be billed $30 a month.  However since you are in the sandbox your test account is free so don\'t fret.  At least I hope they are free.  Maybe I should watch my account :-).</li> \n<li>If you don\'t copy the credentials provided no worries you can always get the API Credentials from inside your sandbox account by clicking on \'View Details\' under the buy account.  Copy the credentials they are the information you need to setup ActiveMerchant.</li>\n<li>You can now setup your application to talk to Paypal with something like this:\n<pre><code class="ruby">\n  gateway = ActiveMerchant::Billing::PaypalGateway.new(\n    :login => "seller_432342373_p.example.com",\n    :password => "WUDJOWK4M92C6HBE",\n    :signature => "28dusj#8skaTiKxtkm6L9DcSUCUgePAUDQ3L-9s83usj@$osja82haDYtSu"\n  )\n</pre></code>\n<li>I won\'t go into all the details of how to build a payment system instead watch the Railscasts and buy the <a href="http://peepcode.com/products/activemerchant-pdf">ActiveMerchant pdf</a></li>\n</ol>\n<p>Note: If you get this error during your work:</p>\n<pre><code class="ruby">\nError: There\'s an error with this transaction. Please enter a complete billing address.\n</pre></code>\n<p>It\'s because Paypal requires billing information even in test mode.  You\'ll need to include something like this in the \'options\' argument to the various method calls in ActiveMerchant:</p>\n<pre><code class="ruby">\n      :billing_address => {\n        :name     => "Test Guy",\n        :address1 => "123 W 423 E",\n        :city     => "Somewhere",\n        :state    => "CA",\n        :country  => "US",\n        :zip      => "88888"\n      }\n</pre></code>\n<p>If you get an error stating \'This transaction cannot be processed due to an invalid merchant configuration\' then you need to sign into your \'Buyer\' account and accept the API </p>\n<p>Railscasts are awesome.  <a href="http://railscasts.com/episodes/141-paypal-basics">PayPal Basics</a>, <a href="http://railscasts.com/episodes/144-active-merchant-basics">Active Merchant Basics</a>, and <a href="http://railscasts.com/episodes/145-integrating-active-merchant">Integrating Active Merchant</a> for a complete walk through.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-02-17-quick-tip-for-working-with-paypal-and-activemerchant-in-your-rails-application/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/quick-tip-for-working-with-paypal-and-activemerchant-in-your-rails-application",date:"2009-02-17T07:00:00Z",title:"Quick Tip for working with Paypal and ActiveMerchant in your Rails Application",imageUrl:null,structuredHtml:null,tags:["Ruby On Rails","activemerchant","paypal","Ruby On Rails"],image:null}}},{node:{excerpt:"The drought of blog posts lately might reflect life in Cache Valley during the winter. The inversions in the valley trap the pollution so in addition to short days and long nights we have air so nasty you can taste it. Of course the local governments refuse to consider emissions testing. It's more important that the local teenagers can drive smoke spewing, 20 year old gas hog trucks and SUVs than…",html:"<p>The drought of blog posts lately might reflect life in Cache Valley during the winter. The inversions in the valley trap the pollution so in addition to short days and long nights we have air so nasty you can taste it. Of course the local governments refuse to consider emissions testing. It's more important that the local teenagers can drive smoke spewing, 20 year old gas hog trucks and SUVs than for use to have breathable air.</p>\n<p>I guess it doesn't matter much. I don't really go outside. There are some weeks I don't leave the house. I work at home now. Some days I don't think I actually need a physical body anymore. If I could turn my brain into logical bits I could just live inside the computer. I interact with everyone over IM, Twitter and the phone so no one would really know the difference.</p>\n<p>Kind of sounds like a bad Japanese anime doesn't it?</p>\n<p>I suppose the lack of hands would prevent me from playing board games to for that reason I'll maintain a physical presence. Once the weather warms up I'll need my legs to pedal the bike.</p>\n<p>I have been on the trainer a few times recently. With the amount of code I have to write it is hard to find the time. In spite of an ugly red scar on my knee I don't seem to have any problem riding for an hour at a time (other than sheer boredom from being on the trainer). That is a good sign. I look forward to riding up the local canyons again. I'll try to avoid the various reptilian obstacles that make the road their home.</p>\n<p><a href=\"http://www.sarahsample.com/songs.html\">Sarah Sample has a new album out</a>. I really enjoy her music and highly recommend it. She is very talented and her music tends to be inspired by the places she has lived and the people she has interacted with so some of it is about this area. Of course it is about the inspiring parts of Cache Valley not the dirty winters. I can't imagine 'Smoggy Winter's Eve', 'The Air Tastes like Manure', or 'Damn Another Red Air Day' would sell very many albums.</p>\n<p>Then again I could be wrong.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-02-08-uninspired/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/uninspired",date:"2009-02-08T07:00:00Z",title:"Uninspired",imageUrl:null,structuredHtml:null,tags:["Community","air quality","cache valley","Cycling","sarah sample"],image:null}}},{node:{excerpt:"It's snowing in Logan again and so in my current tradition of posting house plans that I would build if the economy didn't suck and if I had lots of money I am submitting to you this european style house plan that looks cool in the snow: european style house plan in the snow",html:"<p>It's snowing in Logan again and so in my current tradition of posting house plans that I would build if the economy didn't suck and if I had lots of money I am submitting to you this european style house plan that looks cool in the snow:</p>\n<p><a href=\"http://www.theplancollection.com/house-plans/home-plan-11442\">european style house plan in the snow</a></p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-01-26-house-plans-that-look-good-in-the-snow/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/house-plans-that-look-good-in-the-snow",date:"2009-01-26T07:00:00Z",title:"House plans that look good in the snow",imageUrl:null,structuredHtml:null,tags:["Funny","home plans","house plans","theplancollection"],image:null}}},{node:{excerpt:"Lance 's return to cycling is something that I am sure many people are watching with anticipation and curiosity. He is one of the greatest if not the greatest cyclist of all time. Personally, I like to see the equipment Trek is setting him up with. Here's a few links to pictures of his new Madone in LIVESTRONG colors: http://trekroad.typepad.com/trekroad/2009/01/delivery-the-bike.html http://www…",html:'<p>Lance \'s return to cycling is something that I am sure many people are watching with anticipation and curiosity. He is one of the greatest if not the greatest cyclist of all time. Personally, I like to see the equipment Trek is setting him up with. Here\'s a few links to pictures of his new Madone in LIVESTRONG colors:</p>\n<p><a href="http://trekroad.typepad.com/trekroad/2009/01/delivery-the-bike.html">http://trekroad.typepad.com/trekroad/2009/01/delivery-the-bike.html</a></p>\n<p><a href="http://www.theroaddiaries.com/?p=258">http://www.theroaddiaries.com/?p=258</a></p>\n<p>It took 30 hours to paint the bike and it shows.</p>\n<p>I have to also say that after watching cancer have such a terrible impact on so many people I also admire Lance\'s efforts to promote cancer awareness.</p>\n<p>Here are the numbers painted on the bike:\n1274 - The number of days Lance was "retired".\n27.5 - million people is the approximate number of people that died from cancer during that same time.</p>',id:"/Users/jbasdf/projects/justinball/src/posts/2009-01-18-a-very-sexy-madone/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/a-very-sexy-madone",date:"2009-01-18T07:00:00Z",title:"A Very Sexy Madone",imageUrl:null,structuredHtml:null,tags:["Funny","Cycling","Lance Armstrong","madone","trek"],image:null}}},{node:{excerpt:"'single message' should normally be set to false.  I added it in just in case I needed to render a single message for an ajax call.  If you aren't rendering an entire tree and thus have only one node then passing 'single message = true' will force the method to call the database to get the level of the node in the tree. If you want to render a true tree structure (not just indents) then you'll…",html:"<p>'single<em>message' should normally be set to false.  I added it in just in case I needed to render a single message for an ajax call.  If you aren't rendering an entire tree and thus have only one node then passing 'single</em>message = true' will force the method to call the database to get the level of the node in the tree.</p>\n<p>If you want to render a true tree structure (not just indents) then you'll need to do a bit of recursion.  Assuming @message is a root level message you can do this:</p>\n<pre><code class=\"ruby\">\n<div id=\"messageList\">\n  <ul id=\"message_tree\">\n    <% render_messages(@message) do |message| -%>\n      <%= message.text %>\n    <% end -%>\n  </ul>\n</div>\n</pre></code>\n<pre><code class=\"ruby\">\nmodule MessagesHelper\n\ndef render_messages(message, &block)\n  concat('<li id=\"message_' + message.id.to_s + '\" class=\"messageContainer delete-container\">', block.binding)\n  yield(message)\n  concat('<ul style=\"display:none;\" id=\"ul_' + message.dom_id + '\">', block.binding)\n  if has_children?(message.id)\n    children_of(message.id).each do |child|\n      render_messages(child, &block)\n    end\n  end\n  concat('</li></ul>', block.binding)\nend\n\n# HACK these methods assume a variable named @messages is defined.\n# This hack prevents us from having to pass messages all over\ndef has_children?(message_id)\n  @messages.any?{|message| message.parent_id == message_id}\nend\n\ndef children_of(message_id)\n  @messages.find_all{|message| message.parent_id == message_id}\nend\n\nend\n</pre></code>\n<p>(*Note that I've not fully tested the code above and I am betting it is not the most efficient.  At the very least you'll want to cache the resulting html.)</p>\n<p>Next you'll need to add some script to get the drag and drop to work.  It will look something like this.  Honestly I can't remember if I got this code from somewhere online or if I wrote it.  I am sure someone could make it generic, but in this instance we use css class names to add drag and drop functionality to the various nodes:</p>\n<pre><code class=\"javascript\">\njQuery(document).ready(function() {\n\n\tjQuery(\".messageContainer\").draggable({\n\t\tzIndex : 1000000,\n\t\trevert : 'invalid',\n\t\topacity : 0.5,\n\t\tscroll : true,\n\t\thelper : 'clone'\n\t});\n\n\tjQuery(\"#messageList\").droppable({\n\t\t\taccept: \".messageContainer\",\n\t\t\tdrop: function(ev, ui) {\n\t\t\t\tvar source_li = jQuery(ui.draggable);\n\t\t\t\tvar child_ul = jQuery(this).children('ul');\n\t\t\t\tvar message_id = source_li.children('input').val();\n\t\t\t\tvar parent_id = 0;\n\t\t\t\tif(same_parent(source_li, child_ul)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinsert_alphabetic(child_ul, source_li);\n\t\t\t\tupdate_parent(message_id, parent_id);\n\t    }\n\t\t});\n\n\tjQuery(\".messageContainer\").droppable({\n\t  accept: \".messageContainer\",\n\t  hoverClass: 'messageContainer-hover',\n\t  tolerance : 'pointer',\n\t\tgreedy : true,\n    drop: function(ev, ui) {\n\t\t\tvar source_li = jQuery(ui.draggable);\n\t\t\tvar target_li = jQuery(this);\n\t\t\tvar message_id = source_li.children('input').val();\n\t\t\tvar parent_id = target_li.children('input').val();\n\t\t\tif(target_li.children('ul').length <= 0){\n\t\t\t\ttarget_li.append('<ul></ul>');\n\t\t\t}\n\t\t\tvar child_ul = target_li.children('ul');\n\t\t\tif(same_parent(source_li, child_ul)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tjQuery(this).children('ul:hidden').slideDown();\n\t\t\tinsert_alphabetic(child_ul, source_li);\n\t\t\tupdate_parent(message_id, parent_id);\n    }\n\t});\n\n\tjQuery(\".submit-delete\").click(function() {\n\t\tif(jQuery(this).parents('li:first').siblings('li').length <= 0){\n\t\t\tjQuery(this).parents('li:first').parents('li:first').children('.expander').remove();\n\t\t}\n\t\treturn false;\n\t});\n\n\tfunction insert_alphabetic(child_ul, source_li){\n\t\tvar kids = child_ul.children('li');\n\t\tvar source_text = source_li.children('span.link').children('a').html().toLowerCase();\n\t\tfor(i=0; i<kids.length; i++){\n\t\t\tvar current_text = jQuery(kids[i]).children('span.link').children('a').html().toLowerCase();\n\t\t\tif(source_text < current_text){\n\t\t\t\tsource_li.insertBefore(kids[i]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tsource_li.appendTo(child_ul);\n\t}\n\n\tfunction same_parent(source_li, child_ul){\n\t\treturn source_li.parent() == child_ul;\n\t}\n\n\tfunction update_parent(message_id, parent_id){\n\t\tvar path = jQuery('#updatePath').val();\n\t\tjQuery.post(path + '/' + message_id + '.js', {parent_id: parent_id, action: 'update', _method: 'put', only_parent: 'true' },\n\t\t  function(data){\n\t\t\t\tapply_expander();\n\t\t\t\tif(data.length > 0){\n\t\t\t\t\tvar result = eval('(' + data + ')');\n\t\t\t\t\tif(!result.success){\n\t\t\t\t\t\tjQuery.jGrowl.error(result.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t  });\n\t\treturn false;\n\t}\n\n\tapply_expander();\n\tfunction apply_expander(){\n\t\tjQuery(\".expander\").remove();\n\t\tjQuery(\".messageContainer ul:hidden li:first-child\").parent().parent().prepend('&lt;a class=&quot;expander&quot; href=&quot;#&quot;&gt;&lt;img src=&quot;expand.png&quot; /&gt;&lt;/a&gt;');\n\t\tjQuery(\".messageContainer ul:visible li:first-child\").parent().parent().prepend('&lt;a class=&quot;expander&quot; href=&quot;#&quot;&gt;&lt;img src=&quot;collapse.png&quot; /&gt;&lt;/a&gt;');\n\t\tjQuery(\".expander\").click(function(){\n\t\t\tvar img = jQuery(this).children('img');\n\t\t\tvar target_ul = jQuery(this).siblings('ul');\n\t\t\tif(img.attr('src') == 'expand.png'){\n\t\t\t\timg.attr('src', 'collapse.png');\n\t\t\t\ttarget_ul.slideDown();\n\t\t\t} else {\n\t\t\t\timg.attr('src', 'expand.png');\n\t\t\t\ttarget_ul.slideUp();\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t}\n\n});\n</pre></code>\n<p>In two of the projects I have removed prototype and script.aculo.us in favor of jQuery.  Personally I prefer jQuery and the <a href=\"http://ennerchi.com/projects/jrails\">jRails plugin</a> makes the transition simple.  However, there are probably more people using the default libraries.  Prototype actually comes with the ability to create a nice drag and drop ordered tree built in.  However, I don't love the fact that their 'onUpdate' callback doesn't give the node that was dropped.  Instead you are supposed to serialize the entire tree.  awesome<em>nested</em>set makes it very easy to move just one node and that seems more efficient so you'll see a hack in the code below that constantly records the dropped node into a hash table on the 'onChange' event.  That data is then sent to the server on the 'onUpdate' event.</p>\n<pre><code class=\"javascript\">\nwindow._token = '#{form_authenticity_token}'; // Rails requires this token to validate forms so we'll need to pass it in the ajax request\nwindow._message_updates = new Hash;\nSortable.create('message_tree', {tree:true,\n                                    dropOnEmpty:true,\n                                    scroll:window,\n                                    constraint:false,\n                                    onChange:function(element) {\n                                      // this is a bit of a hack, but basically we just pull the message id from the id of the html element\n                                      var child_id = element.id.replace('message_', '');\n                                      var parent_id = element.up().id.replace('ul_message_', '');\n                                      var previous = element.previous();\n                                      var sibling_id = '';\n                                      if(previous){\n                                        var sibling_id = previous.id.replace('message_', '');\n                                      }\n                                      window._message_updates.set(child_id, [parent_id, sibling_id]);\n                                    },\n                                    onUpdate:function(element) {\n                                      window._message_updates.each(function(pair) {\n                                        var child_id = pair.key;\n                                        var parent_id = pair.value[0];\n                                        var sibling_id = pair.value[1];\n                                        window._message_updates.unset(child_id);\n                                        var url = '/messages/' + child_id + '.js?parent_id=' + parent_id + '&sibling_id=' + sibling_id;\n                                        new Ajax.Request(url, {\n                                          method: 'PUT',\n                                          parameters: {\n                                            authenticity_token: window._token\n                                          }\n                                        });\n                                      });\n                                    }\n                                    });\n</pre></code>\n<p>Here is a link to the default script.aculo.us tree example\n<a href=\"http://script.aculo.us/playground/test/functional/sortable_tree_test.html\">http://script.aculo.us/playground/test/functional/sortable<em>tree</em>test.html</a></p>\n<p>I borrowed many of the ideas from there.  I'm sure there are a few bugs in this so if anyone tries out the code and has problems let me know and I'll make changes as needed.</p>",id:"/Users/jbasdf/projects/justinball/src/posts/2009-01-18-heirarchies-trees-jquery-prototype-scriptaculous-and-acts_as_nested_set/index.md absPath of file >>> MarkdownRemark",frontmatter:{templateKey:"blog-post",path:"/heirarchies-trees-jquery-prototype-scriptaculous-and-acts_as_nested_set",date:"2009-01-18T07:00:00Z",title:"Hierarchies, trees, jQuery, Prototype, script.aculo.us and acts_as_nested_set",imageUrl:null,structuredHtml:null,tags:["Ruby On Rails ","acts_as_nested_set ","heirachy ","Heirarchies ","jQuery ","ordered tree ","prototype ","Ruby On Rails ","script.aculo.us ","trees "],image:null}}}],pathPrefix:"archive",first:!1,last:!1,index:13,pageCount:33,additionalContext:{}}}}});
//# sourceMappingURL=path---archive-13-03e2183ee01f61eb5298.js.map