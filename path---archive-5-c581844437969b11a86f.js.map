{"version":3,"sources":["webpack:///path---archive-5-c581844437969b11a86f.js","webpack:///./.cache/json/archive-5.json"],"names":["webpackJsonp","1079","module","exports","pathContext","group","node","excerpt","html","id","frontmatter","templateKey","path","date","title","imageUrl","structuredHtml","image","pathPrefix","first","last","index","pageCount"],"mappings":"AAAAA,cAAc,iBAERC,KACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,aAAeC,QAAUC,MAAQC,QAAA,4YAAAC,KAAA,4gDAAAC,GAAA,8HAAAC,aAA8kEC,YAAA,YAAAC,KAAA,4BAAAC,KAAA,uBAAAC,MAAA,2BAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAqLX,MAAQC,QAAA,+YAAAC,KAAA,65EAAyxEC,GAAA,gJAAAC,aAAmtBC,YAAA,YAAAC,KAAA,8CAAAC,KAAA,uBAAAC,MAAA,6CAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAyNX,MAAQC,QAAA,wZAAAC,KAAA,upEAAAC,GAAA,2JAAAC,aAA+uFC,YAAA,YAAAC,KAAA,yDAAAC,KAAA,uBAAAC,MAAA,wDAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAA+OX,MAAQC,QAAA,sZAAAC,KAAA,i3DAAAC,GAAA,0IAAAC,aAA67EC,YAAA,YAAAC,KAAA,wCAAAC,KAAA,uBAAAC,MAAA,2CAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAiNX,MAAQC,QAAA,kZAAAC,KAAA,k7IAA+rJC,GAAA,qIAAAC,aAA+SC,YAAA,YAAAC,KAAA,mCAAAC,KAAA,uBAAAC,MAAA,kCAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAmMX,MAAQC,QAAA,8YAA8MC,KAAA;AAA2o7BC,GAAA,oIAAAC,aAA+NC,YAAA,YAAAC,KAAA,kCAAAC,KAAA,uBAAAC,MAAA,kCAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAkMX,MAAQC,QAAA,8YAAAC,KAAA,09IAAAC,GAAA,mJAAAC,aAAgiKC,YAAA,YAAAC,KAAA,kDAAAC,KAAA,uBAAAC,MAAA,iDAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAiOX,MAAQC,QAAA,qZAAAC,KAAA,+rHAAklIC,GAAA,wJAAAC,aAA+LC,YAAA,YAAAC,KAAA,sDAAAC,KAAA,uBAAAC,MAAA,sDAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAA0OX,MAAQC,QAAA,qZAAAC,KAAA,2iQAAgnQC,GAAA,8JAAAC,aAAmhBC,YAAA,YAAAC,KAAA,4DAAAC,KAAA,uBAAAC,MAAA,6DAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAuPX,MAAQC,QAAA,kZAAAC,KAAA,ghEAA+6EC,GAAA,6JAAAC,aAA+LC,YAAA,YAAAC,KAAA,2DAAAC,KAAA,uBAAAC,MAAA,0DAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAmPX,MAAQC,QAAA,qZAAAC,KAAA,84JAAiyKC,GAAA,gJAAAC,aAAuLC,YAAA,YAAAC,KAAA,8CAAAC,KAAA,uBAAAC,MAAA,6CAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAyNX,MAAQC,QAAA,+YAAAC,KAAA,4mDAAAC,GAAA,uHAAAC,aAAupEC,YAAA,YAAAC,KAAA,qBAAAC,KAAA,uBAAAC,MAAA,oBAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAuKX,MAAQC,QAAA,qZAAAC,KAAA,4oCAAAC,GAAA;AAAAC,aAAmtDC,YAAA,YAAAC,KAAA,2CAAAC,KAAA,uBAAAC,MAAA,0CAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAmNX,MAAQC,QAAA,mZAAAC,KAAA,4uGAAspFC,GAAA,0HAAAC,aAAwoCC,YAAA,YAAAC,KAAA,wBAAAC,KAAA,uBAAAC,MAAA,uBAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAA6KX,MAAQC,QAAA,GAAAC,KAAA,mmCAAAC,GAAA,oLAAAC,aAAs0CC,YAAA,YAAAC,KAAA,mFAAAC,KAAA,uBAAAC,MAAA,kFAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAmSX,MAAQC,QAAA,GAAAC,KAAA,+3CAAk4CC,GAAA,0IAAAC,aAA+KC,YAAA,YAAAC,KAAA,wCAAAC,KAAA,uBAAAC,MAAA,gEAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAsOX,MAAQC,QAAA,4ZAAkaC,KAAA,42RAAo2RC,GAAA,+HAAAC,aAAwKC,YAAA,YAAAC,KAAA,8BAAAC,KAAA,uBAAAC,MAAA,6BAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAyLX,MAAQC,QAAA,qZAAAC,KAAA,yqGAAugHC,GAAA,qJAAAC,aAAiPC,YAAA,YAAAC,KAAA,oDAAAC,KAAA,uBAAAC,MAAA,mDAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAqOX,MAAQC,QAAA,8NAAAC,KAAA,msCAAAC,GAAA,uHAAAC,aAA8kDC,YAAA,YAAAC,KAAA,qBAAAC,KAAA,uBAAAC,MAAA,qBAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAwKX,MAAQC,QAAA,GAAAC,KAAA,2zEAA4zEC,GAAA,8LAAAC,aAAqOC,YAAA,YAAAC,KAAA,4FAAAC,KAAA,uBAAAC,MAAA,wFAAAC,SAAA,KAAAC,eAAA,KAAAC,MAAA,SAAgTC,WAAA,UAAAC,OAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,UAAA","file":"path---archive-5-c581844437969b11a86f.js","sourcesContent":["webpackJsonp([264868055353488],{\n\n/***/ 1079:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"pathContext\":{\"group\":[{\"node\":{\"excerpt\":\"With the Cache Maker club we're always looking for ways to make it easier for kids to interact with hardware. Traditionally, interacting with hardware meant learning assembly or if you picked the right platform you could write embedded C. Today things are different. With Arduino we have an open source hardware platform with libraries in your favorite language. Javascript is an approachable…\",\"html\":\"<p>With the Cache Maker club we're always looking for ways to make it easier for kids to interact with hardware. Traditionally, interacting with hardware meant learning assembly or if you picked the right platform you could write embedded C. Today things are different.</p>\\n<p>With Arduino we have an open source hardware platform with libraries in your favorite language. Javascript is an approachable language. Put the two together and kids can program hardware.</p>\\n<p>That's why \\\"Hardware Hacking with JS\\\" with <a href=\\\"http://jamisondance.com/\\\">Jamison Dance</a> (<a href=\\\"https://twitter.com/jergason\\\">@jergason</a>) was so awesome.</p>\\n<p><a href=\\\"https://hackpad.com/Hardware-Hacking-for-JS-Developers-enBfwkN103s\\\">Here's the hackpad notes</a></p>\\n<ul>\\n<li><a href=\\\"https://github.com/rwaldron/johnny-five\\\">Johnny Five</a> - node library to communicate via usb port to hardware device</li>\\n<li>Arduino boards have a bunch of pins you can read from or write to - get a 1 or a 0</li>\\n<li>You can set up callbacks for every time a pin is on</li>\\n<li><a href=\\\"https://github.com/andrew/node-xbox-controller\\\">Node Xbox Controller</a> - let's you bind to events coming from an xbox controller</li>\\n<li><a href=\\\"https://github.com/jergason/hardware-hacking-mwjs-2014\\\">Slides and code from the presentation.</a></li>\\n</ul>\\n<p>Here's Jamison flying a parrot drone using an xbox controller via node.js:</p>\\n<iframe width=\\\"560\\\" height=\\\"315\\\" src=\\\"//www.youtube.com/embed/kWVEjbvx6Tg\\\" frameborder=\\\"0\\\" allowFullScreen=\\\"true\\\"></iframe>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-18-hardware-hacking-with-js/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/hardware-hacking-with-js\",\"date\":\"2014-03-18T06:00:00Z\",\"title\":\"Hardware Hacking with JS\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Use functional concepts to build nice observable streams: Map: transform one collection into another. Filter: filter one collection into a smaller collection. Reduce: take a collection and reduce it into a single result (like inject in Ruby). Zip: zip two collections into a single collection. Reactive programming requires thinking functionaly. Turn events into collections. Allow you to handle…\",\"html\":\"<h2>The Functional Part</h2>\\nDon't describe how to process the data using a loop instead have your code state what you want to happen.\\n<p>Use functional concepts to build nice observable streams:</p>\\n<ul>\\n<li>Map: transform one collection into another.</li>\\n<li>Filter: filter one collection into a smaller collection.</li>\\n<li>Reduce: take a collection and reduce it into a single result (like inject in Ruby).</li>\\n<li>Zip: zip two collections into a single collection.</li>\\n</ul>\\n<p>Reactive programming requires thinking functionaly.</p>\\n<h2>Observables</h2>\\n<ul>\\n<li>Turn events into collections.</li>\\n<li>Allow you to handle errors in the collection.</li>\\n<li>Unsubscribe when the event is done.</li>\\n</ul>\\n<h2>Observable methods</h2>\\n- merge: combine collections into a collection as each item arrives.\\n- concatAll: combine collections into a new collection in the order in which they were created. Flatten async requests and resolve race conditions.\\n- takeUntil: creates a single observable of a source collection and a stop collection. When event from stop collection occurs unsubscribe from source.\\n- switchLatest: only use the latest collection. Throw out the rest.\\n- distinctUntilChanged: filters out duplicate occurrences.\\n<h2>Example</h2>\\n<p>(from <a href=\\\"https://github.com/Reactive-Extensions/RxJS\\\">https://github.com/Reactive-Extensions/RxJS</a>)</p>\\n<pre><code class=\\\"javascript\\\">\\n/* Only get the value from each key up */\\nvar keyups = Rx.Observable.fromEvent($input, 'keyup')\\n  .map(function (e) {\\n      return e.target.value;\\n  })\\n  .filter(function (text) {\\n      return text.length > 2;\\n  });\\n<p>/* Now throttle/debounce the input for 500ms <em>/\\nvar throttled = keyups\\n.throttle(500 /</em> ms */);</p>\\n<p>/* Now get only distinct values, so we eliminate the arrows and other control characters */\\nvar distinct = throttled\\n.distinctUntilChanged();</p>\\n</pre></code>\\n<h3>Resources</h3>\\n- <a href=\\\"http://reactive-extensions.github.io/RxJS/\\\">Reactive-Extensions for Javascript</a>\\n- <a href=\\\"http://jhusain.github.io/learnrx/\\\">Learn Reactive Programming</a> by <a href=\\\"https://twitter.com/jhusain\\\">jhusain</a>\\n- <a href=\\\"https://hackpad.com/Asynchronous-JavaScript-at-Netflix-j0DqUOf5fCV\\\">Asynchronous JavaScript at Netflix</a>\\n- <a href=\\\"https://hackpad.com/Adding-Even-More-Fun-to-Functional-Programming-With-RXJS-W4be7aCTEjt\\\">Adding Even More Fun to Functional Programming With RXJS</a>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-vector-programming-and-reactive-javascript/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/vector-programming-and-reactive-javascript\",\"date\":\"2014-03-17T06:00:00Z\",\"title\":\"Vector Programming and Reactive Javascript\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Ryan Florence  presenting \\\"Bringing the Web Back to the Blind\\\". Probably the biggest accessiblity resource on the web:  webaim.org . Use your headers for organization of content rather than for visual display. It helps blind users navigation through\\nthe content based on its importance. Adding 'role=\\\"main\\\"' provides a 'landmark' in the page that a screen reader can find. A blind user can use these…\",\"html\":\"<p><a href=\\\"http://ryanflorence.com/\\\">Ryan Florence</a> presenting \\\"Bringing the Web Back to the Blind\\\".</p>\\n<p>Probably the biggest accessiblity resource on the web: <a href=\\\"http://webaim.org/\\\">webaim.org</a>.</p>\\n<h2>Accessiblity</h2>\\nAccessiblity is more than just alt tags. You still want alt tags but there's more.\\n<p>Use your headers for organization of content rather than for visual display. It helps blind users navigation through\\nthe content based on its importance.</p>\\n<h2>Landmarks</h2>\\nUse the role tag on elements. For example:\\n<pre><code class=\\\"html\\\">\\n<div role=\\\"main\\\"></div>\\n</pre></code>\\n<p>Adding 'role=\\\"main\\\"' provides a 'landmark' in the page that a screen reader can find. A blind user can use these landmarks\\nto quickly navigate to specific sections of the page.</p>\\n<p>Html 5 includes a 'main' tag as well as others like 'article' that screen readers can use as landmarks.</p>\\n<h2>Screen Reader Specific Content</h2>\\nUse css to hide text that is important for screen readers. Create a 'visually-hidden' css class then include\\nadditional information to to describe the element. For example, developers frequently use an 'x' to close a modal\\nor other window. The screen reader will read this as 'times'. We can add additional information indicating that the\\nlink/button will close the window.\\n<p>Screen readers will execute Javascript!</p>\\n<h2>ARIA</h2>\\nAdd screen reader specific text with an attribute:\\n<blockquote>\\naria-label=\\\"A close button\\\"\\n</blockquote>\\n<p>Tell the screen reader to ignore an element with:</p>\\n<blockquote>\\naria-hidden=\\\"true\\\"\\n</blockquote>\\n<p><a href=\\\"http://www.w3.org/WAI/intro/aria\\\">WAI ARIA</a> is a specification that defines how to make your website more accessible.</p>\\n<p>Aria attributes that can be used with tabs:</p>\\n<ul>\\n<li>aria-selected</li>\\n<li>aria-controls</li>\\n<li>aria-expanded</li>\\n</ul>\\n<p>However, if you don't know how to use 'aria' then don't. You'll probably make things worse.</p>\\n<p>We frequently think of Visual Interaction Design. Consider \\\"Audible Interaction Design\\\". Try out a screen reader and\\nsee what it's like to use your website without the visual UI.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-bringing-the-web-back-to-the-blind-with-ryan-florence/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/bringing-the-web-back-to-the-blind-with-ryan-florence\",\"date\":\"2014-03-17T06:00:00Z\",\"title\":\"Bringing the Web Back to the Blind with Ryan Florence\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Mountain West Javascript starts today.  Peter Hunt , Facebook developer and contributor to\\n reactjs.org  is first up presenting \\\"Be predictable, not correct.\\\" Here's my notes: Even better:  Notes on Hackpad NOT the simpliest way to build things. Avoid fighting the framework. Rerender and diffing feels expensive which is why we do data binding. KVO entangles app code with observables. Angualr style…\",\"html\":\"<p>Mountain West Javascript starts today. <a href=\\\"https://twitter.com/floydophone\\\">Peter Hunt</a>, Facebook developer and contributor to\\n<a href=\\\"http://facebook.github.io/react/\\\">reactjs.org</a> is first up presenting \\\"Be predictable, not correct.\\\"</p>\\n<p>Here's my notes:</p>\\n<p>Even better: <a href=\\\"https://hackpad.com/Secrets-of-the-Virtual-DOM-ULWeSrnO3cF\\\">Notes on Hackpad</a></p>\\n<h2>Key Value Observation (KVO)</h2>\\nThis is the pattern that Ember.js implements. Idea is to bind data to elements in the DOM.\\nThe problem is that we have to use units of computation that the platform gives you. This results in leaky abstractions. The developer\\nhas to hold to much information in their head and solutions become complex to implement. Can't compose using primitivies\\nAngular uses Dirty Checking.\\n<p>NOT the simpliest way to build things.</p>\\n<h2>Reactive Design</h2>\\nIn a mythical javascript language we could use Javascript primitives and we would have a reactive DOM.\\nHowever, Javascript is not reactive. We do need to build some layer of abstraction. Reactjs built a reactive DOM.\\nNo databinding artifacts. Takes advantage of existing Javascript.\\n<h3>Virtual DOM</h3>\\n- Whenever anything may have changed, re-render everything\\n- Diff the previous data previous with the next\\n- Only update the DOM with what changed\\n<p>Avoid fighting the framework. Rerender and diffing feels expensive which is why we do data binding.</p>\\n<ul>\\n<li>KVO entangles app code with observables.</li>\\n<li>Angualr style dirty chcking forces you to pass everything through $scope or $watch</li>\\n<li>Virtual DOM needs a signal to say anything may have changed</li>\\n</ul>\\n<h3>Performance</h3>\\n- Memory is more important for performance on mobile than CPU usage.\\n- Render code is usually cheap.\\n- Your view is usually smaller than your model.\\n<p>Three words:</p>\\nSimple composable primitives\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-pete-hunt-be-predictable-not-correct/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/pete-hunt-be-predictable-not-correct\",\"date\":\"2014-03-17T06:00:00Z\",\"title\":\"Pete Hunt - Be predictable, not correct.\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"After spending the last year writing Ember.js code I've realized one really big thing - Ember is about promises.\\nI recently had a chance to refactor some code with a number of asynchrounous calls. The original logic used\\ntimers and polling to monitor the state of a bunch of recursive calls to the Google API to retrieve a complete\\nfolder structure. Timers get the job done, but promises make it…\",\"html\":\"<p>After spending the last year writing Ember.js code I've realized one really big thing - Ember is about promises.\\nI recently had a chance to refactor some code with a number of asynchrounous calls. The original logic used\\ntimers and polling to monitor the state of a bunch of recursive calls to the Google API to retrieve a complete\\nfolder structure. Timers get the job done, but promises make it elegant.</p>\\n<h4>Original Code</h4>\\n<p>Requirement: wait until the entire tree is loaded before transition.</p>\\n<pre><code class=\\\"javascript\\\">\\nApp.GoogleFile = Ember.Object.extend({\\n});\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nthis.loadChildren(model.get('children'));\\nreturn model;\\n},</p>\\n<p>  afterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.wait(model.get('children'), function(){\\nthis.transitionTo('anotherPlace');\\n});\\n}\\n},</p>\\n<p>  // Waiting for content to load using a timer.\\nwait: function(children, callback){\\nif(Ember.isEmpty(children)){\\nEmber.run.later(this, function () {\\nthis.wait(children);\\n}, 10);\\n} else {\\ncallback(children);\\n}\\n},</p>\\n<p>  loadChildren: function(node){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nif(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\nthis.loadChildren(f);\\n}\\nnode.get('children').pushObject(f);\\n}.bind(this));\\n}.bind(this));\\n}</p>\\n<p>});</p>\\n</pre></code>\\n<h4>The Refactored Code</h4>\\n<pre><code class=\\\"javascript\\\">\\n<p>App = Ember.Application.create({\\n});</p>\\n<p>App.GoogleFile = Ember.Object.extend({\\n});</p>\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>return new Ember.RSVP.Promise(function(resolve, reject){\\n  this.loadChildren(model, resolve, reject);\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  },</p>\\n<p>  // The afterModel won't fire until the promise is fullfilled.\\nafterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.transitionTo('anotherPlace');\\n}\\n},</p>\\n<p>  loadChildren: function(node, resolve, reject){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n// Don't resolve the promise when the ajax call returns. We have to process the data and decide if we need to make more calls.\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\nvar promises = [];\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>    if(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\n      // We need to make more ajax calls. Create a new promise which can be resposible for\\n      // resolving existing promises once it is fullfilled.\\n      var promise = new Ember.RSVP.Promise(function(resolve, reject){\\n        this.loadChildren(f, resolve, reject);\\n      }.bind(this));\\n      promises.push(promise);\\n    }\\n    node.get('children').pushObject(f);\\n  }.bind(this));\\n\\n  Promise.all(promises).then(function(){\\n    resolve(node);\\n  });\\n\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  }</p>\\n<p>});</p>\\n</pre></code>\\n<p><a href=\\\"http://jsbin.com/koveg/6/edit?html,js,console\\\" target=\\\"_blank\\\">Working refactored code snippet on jsbin</a></p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-16-refactoring-and-making-promises/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/refactoring-and-making-promises\",\"date\":\"2014-03-16T06:00:00Z\",\"title\":\"Refactoring and Making Promises\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"  isSelected: function(){\\n    console.log('Checking Selected for' + this.get('name'));\\n    return this.selectedContacts.contains(this.get('content'));\\n  }.property('selectedContacts@each') });\\n       \\n       It looks like the #$%#! sample code. \\n       But isSelected never fires!!!! \\n     \\n     \\n       I see you still use email \\n       Bad \\n       \\nproperty('selectedContacts@each…\",\"html\":\"<div class=\\\"slides\\\">\\n  <section>\\n    <h1>Ember.js</h1>\\n    <h3>Lessons Learned and Stuff</h3>\\n    <p>\\n      <small><a href=\\\"http://www.justinball.com\\\">Justin Ball</a> / <a href=\\\"http://twitter.com/jbasdf\\\">@jbasdf</a></small>\\n    </p>\\n  </section>\\n  <section>\\n    <div class=\\\"left\\\">\\n      <h2>Justin Ball</h2>\\n    </div>\\n    <div class=\\\"right\\\">\\n      <ul>\\n        <li>CTO <a href=\\\"http://www.atomicjolt.com\\\">Atomic Jolt</a></li>\\n        <li>Consultant, Rubyist, Javascriptist, Cyclist, Maker, Entrepreneur</li>\\n        <li>Purveyor of Buzzwords</li>\\n      </ul>\\n    </div>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>What is Ember.js?</h2>\\n      <div class=\\\"block\\\">\\n        <ul>\\n          <li>A framework for creating ambitious web applications.</li>\\n          <li>Client-side MVC Framework</li>\\n          <li><a href=\\\"https://github.com/emberjs/ember.js\\\">Open Source</a> - <a href=\\\"https://github.com/emberjs/ember.js/pulse/monthly\\\">Github Pulse</a></li>\\n          <li>Single page apps are sexy</li>\\n          <li>Ember.js makes it easy*</li>\\n        </ul>\\n      </div>\\n      <div class=\\\"block\\\">\\n        <p class=\\\"small\\\">* Easy is exclusive of the tears shed while learning Ember.js</p>\\n      </div>\\n    </section>\\n    <section>\\n      <h2>Why Single Page Apps?</h2>\\n      <p class=\\\"fragment roll-in\\\">iFrames!</p>\\n      <p class=\\\"fragment roll-in\\\">Safari and IE no longer let you write a cookie to an iFrame unless the user has visited the site</p>\\n      <p class=\\\"fragment roll-in\\\">Real World - LTI apps</p>\\n    </section>\\n  </section>\\n  <section>\\n    <h2>Heads Up</h2>\\n    <ul>\\n      <li>Ember.js changes a lot</li>\\n      <li>Ignore anything over 3 or 4 months old</li>\\n      <li>When you choose Ember.js you are all in</li>\\n    </ul>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Using Rails?</h2>\\n      <p><a href=\\\"https://github.com/emberjs/ember-rails\\\">Ember.js Rails Gem</a></p>\\n      <pre><code data-trim contenteditable>\\ngem 'ember-rails'\\ngem 'ember-source', '1.4.0' # or the version you need\\n      </code></pre>\\n      <pre><code data-trim contenteditable>\\n//= require handlebars\\n//= require ember\\n//= require ember-data\\n      </code></pre>\\n    </section>\\n    <section>\\n      Why choose the gem over anything else?\\n    </section>\\n    <section>\\n      <a href=\\\"http://yehudakatz.com/\\\">Yehuda Katz</a>\\n    </section>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>AMD?</h2>\\n      <p class=\\\"fragment block\\\">I love require.js</p>\\n      <p class=\\\"fragment block\\\">fogetaboutit</p>\\n      <p class=\\\"fragment block\\\">Or Try <a href=\\\"http://ryanflorence.com/\\\">Ryan Florence's</a> <a href=\\\"https://github.com/rpflorence/ember-tools\\\">Ember Tools*</a></p>\\n      <p class=\\\"fragment block small\\\"><a href=\\\"building-with-ember#select_doesnt_work\\\">*See \\\"Ember Select doesn't work\\\" on this page to learn about the dangers</a></p>\\n    </section>\\n    <section>\\n      <h2>Feel Good About Polluting The Global Namespace</h2>\\n      <pre><code data-trim contenteditable>\\nApp = Ember.Application.create({\\n});\\n      </code></pre>\\n    </section>\\n  </section>\\n  <section>\\n    <h2>I don't do Rails</h2>\\n    <div class=\\\"block\\\">\\n      <p class=\\\"fragment roll-in\\\">Try</p>\\n      <p class=\\\"fragment roll-in\\\"><a href=\\\"https://github.com/stefanpenner/ember-app-kit\\\">Ember App Kit</a></p>\\n    </div>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Ember.js and AngularJS</h2>\\n      <p>Everything is Awesome</p>\\n      <p>\\n        <a href=\\\"https://docs.google.com/presentation/d/1e0z1pT9JuEh8G5DOtib6XFDHK0GUFtrZrU3IfxJynaA/preview?sle=true#slide=id.p\\\">\\n          AngularJS from an Ember perspective\\n        </a>\\n      </p>\\n    </section>\\n    <section>\\n      <iframe src=\\\"https://docs.google.com/presentation/d/1e0z1pT9JuEh8G5DOtib6XFDHK0GUFtrZrU3IfxJynaA/preview?sle=true#slide=id.p&embedded=true\\\" width=\\\"600\\\" height=\\\"780\\\" style=\\\"border: none;\\\"></iframe>\\n    </section>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Ember.js is Magic!</h2>\\n      <p class=\\\"fragment roll-in\\\">Except for when it's not</p>\\n    </section>\\n    <section>\\n      <h2><a href=\\\"building-with-ember#error_messages\\\">Debugging</a></h2>\\n      <p>The Bug</p>\\n      <blockquote>\\n        Assertion failed: Cannot call get with 'id' on an undefined object. application.js?body=1:16925\\n        Uncaught TypeError: Cannot read property '__ember1375726885234_meta' of undefined\\n      </blockquote>\\n      <p>The Code</p>\\n      <pre><code data-trim contenteditable>\\nvar map = MapModel.createRecord({\\n  title: 'New Map'\\n});\\nmap.save().then(function(){\\n  this.transitionTo('map', map);\\n}.bind(this));\\n      </code></pre>\\n      <p class=\\\"fragment roll-in\\\">The Cause?</p>\\n      <p class=\\\"fragment roll-in\\\">Failure to call 'transition.abort();'</p>\\n    </section>\\n    <section>\\n      <h2><a href=\\\"building-with-ember#error_messages\\\">Now We Know Better</a></h2>\\n      <blockquote>\\n      Assertion failed: Cannot call get with 'id' on an undefined object. application.js?body=1:17079\\n      Uncaught TypeError: Cannot read property '__ember1375989556474_meta' of undefined application.js?body=1:18391\\n      Trying to get configured shortcut getDocumentSelection.js:51\\n      Assertion failed: Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications.\\n      </blockquote>\\n      <pre><code data-trim contenteditable>\\n{% raw %}\\n&lt;li&gt;{{#linkTo 'map.destroy' title=&quot;Delete the current map&quot;}}&lt;i class=&quot;icon-trash&quot;&gt;&lt;/i&gt; Delete{{/linkTo}}&lt;/li&gt;\\n{% endraw %}\\n      </code></pre>\\n      <p class=\\\"fragment roll-in\\\">No we don't. 'map' was null.</p>\\n    </section>\\n    <section>\\n      <h2><a href=\\\"building-with-ember#error_messages_again\\\">Now That We're Experts</a></h2>\\n      <blockquote>\\n      Assertion failed: Cannot call get with 'id' on an undefined object. ember.js?body=1:364\\n      Uncaught TypeError: Cannot read property '__ember1377186615643_meta' of undefined ember.js?body=1:1676\\n      Assertion failed: Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications. ember.js?body=1:364\\n      Uncaught Error: You cannot modify child views while in the inBuffer state ember.js?body=1:18835\\n      </blockquote>\\n      <p class=\\\"fragment roll-in\\\">\\\"Most likely there is a bug in your application\\\"</p>\\n      <p class=\\\"fragment roll-in\\\">Would not have guessed that</p>\\n    </section>\\n    <section>\\n      <p>Bad Code</p>\\n      <pre><code data-trim contenteditable>\\n{% raw %}\\n{{#each post in Posts}}\\n  {{#linkTo 'posts.show' title=\\\"View post\\\"}}{{post.name}}{{/linkTo}}\\n{{/each}}\\n{% endraw %}\\n      </pre></code>\\n      <p>Good Code</p>\\n      <pre><code data-trim contenteditable>\\n{% raw %}\\n{{#each post in Posts}}\\n  {{#linkTo 'posts.show' post title=\\\"View post\\\"}}{{post.name}}{{/linkTo}}\\n{{/each}}\\n{% endraw %}\\n      </pre></code>\\n      <p class=\\\"fragment roll-in\\\">Forgot to include 'post'</p>\\n    </section>\\n  </section>\\n  <section>\\n    <section>\\n      <h2><a href=\\\"dont-forget-your-period-computed-property-that-depends-on-ember_arraycontroller-contents\\\">(Really) Little Things Matter</a></h2>\\n      <pre><code data-trim contenteditable>\\nApp.ContactController = Ember.ObjectController.extend({\\n  needs: ['selected_contacts'],\\n  selectedContacts: null,\\n  selectedContactsBinding: 'controllers.selected_contacts.content',\\n<p>  isSelected: function(){\\nconsole.log('Checking Selected for' + this.get('name'));\\nreturn this.selectedContacts.contains(this.get('content'));\\n}.property('selectedContacts@each')</p>\\n<p>});\\n</code></pre>\\n<p class=\\\"fragment roll-in\\\">It looks like the #$%#! sample code.</p>\\n<p class=\\\"fragment roll-in\\\">But isSelected never fires!!!!</p>\\n</section>\\n<section>\\n<h2>I see you still use email</h2>\\n<p>Bad</p>\\n<pre><code data-trim contenteditable>\\nproperty('selectedContacts@each')\\n</code></pre>\\n<p>Good</p>\\n<pre><code data-trim contenteditable>\\nproperty('selectedContacts.@each')\\n</code></pre>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Multiple Ember Apps in a Rails App</h2>\\n      <p>Stay DRY. Share code</p>\\n    </section>\\n    <section>\\n      <p>Setup to reuse code from 'Common'</p>\\n      <pre><code class=\\\"more_code\\\">\\nCommon\\n  components\\n  helpers\\n  models\\n  mixins\\n  templates\\nSomethingAwesome\\n  controllers\\n  helpers\\n  mixins\\n  routes\\n  templates\\n  views\\nAdmin\\n  controllers\\n  helpers\\n  mixins\\n  routes\\n  templates\\n  views\\n      </code></pre>\\n    </section>\\n    <section>\\n      <h2>The Problem</h2>\\n      <p>Ember won't be able to find your templates</p>\\n    </section>\\n    <section>\\n      <h2>The Solution</h2>\\n      <p>Override the Resolver</p>\\n      <pre><code data-trim contenteditable>\\nAppNamespace = 'SomethingAwesome';\\nSomethingAwesome = Ember.Application.create({\\n<p>  Resolver: Ember.DefaultResolver.extend({\\nresolveTemplate: function(parsedName){\\nvar fullNameWithoutType = parsedName.fullNameWithoutType;\\nparsedName.fullNameWithoutType = AppNamespace + \\\"/\\\" + fullNameWithoutType;\\nvar result = this.<em>super(parsedName);\\nif(!result){\\nparsedName.fullNameWithoutType = \\\"common/\\\" + fullNameWithoutType;\\nresult = this.</em>super(parsedName);\\n}\\nreturn result;\\n}\\n})</p>\\n<p>});\\n</code></pre>\\n<p><a href=\\\"https://github.com/tatemae/oea\\\">Check out Open Assessments source for an example</a></p>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Transitions</h2>\\n      <p>Do This Infinitely</p>\\n      <pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({\\n<p>  model: function(){\\nreturn this.store.find('user', params.user_id);\\n},</p>\\n<p>  afterModel: function(transition){\\nthis.transitionTo('anotherPlace');\\n}\\n});\\n</code></pre>\\n</section>\\n<section>\\n<p>Check Your Target</p>\\n<pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nreturn this.store.find('user', params.user_id);\\n},</p>\\n<p>  afterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.transitionTo('anotherPlace');\\n}\\n}\\n});\\n</code></pre>\\n</section></p>\\n  </section>\\n  <section>\\n    <h2><a href=\\\"building-with-ember\\\">Choose your event names wisely</a></h2>\\n    <p>'destroy' is reserved</p>\\n    <pre><code data-trim contenteditable>\\n    {% raw %}\\n&lt;a href=&quot;#&quot; {{action 'destroy'}} class=&quot;btn&quot;&gt;Delete&lt;/a&gt;\\n    {% endraw %}\\n    </code></pre>\\n    <p>'destroy_node' is not</p>\\n    <pre><code data-trim contenteditable>\\n    {% raw %}\\n&lt;a href=&quot;#&quot; {{action 'destroy_node'}} class=&quot;btn&quot;&gt;Delete&lt;/a&gt;\\n    {% endraw %}\\n    </code></pre>\\n  </section>\\n  <section>\\n    <h2><a href=\\\"building-with-ember\\\">Set controller for route</a></h2>\\n    <pre><code data-trim contenteditable>\\nvar ThingEditRoute = Ember.Route.extend({\\n  controllerName: 'thing',\\n  renderTemplate: function(controller, model){\\n    // You have to pass the controller to render or it will generate a new controller\\n    this.render({ controller: controller, into: 'application', outlet: 'modal' });\\n  }\\n});\\n    </code></pre>\\n    <p>Looks easy but couldn't find the docs</p>\\n  </section>\\n  <section>\\n    <h2><a href=\\\"pass-attributes-to-an-emberjs-view\\\">Pass a Value to a View</a></h2>\\n    <p>Add a property to your view:</p>\\n    <pre><code data-trim contenteditable>\\nApp.ModalView = Ember.View.extend({\\n  aClassName: 'modal'\\n});\\n    </code></pre>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><p>Use the value in your view template:</p>\\n<pre><code data-trim contenteditable>\\n{% raw %}</code></pre>\\n      </div>\\n<p>&#x3C;div {{bindAttr class=\\\"view.aClassName\\\"}}>\\nMore stuff here\\n&#x3C;/div>\\n{% endraw %}\\n</code></pre></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><p>When you use the view just set the property:</p>\\n<pre><code data-trim contenteditable>\\n{% raw %}</code></pre>\\n      </div>\\n<p>{{#view App.ModalView aClassName=\\\"wide_modal\\\"}}\\nSome great content goes here\\n{{/view}}\\n{% endraw %}\\n</code></pre></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2><a href=\\\"immutable-arrays-in-ember\\\">Immutable Arrays</a></h2>\\n      <p>Adding parameters to 'find' results in an immutable model</p>\\n      <pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({\\n  model: function(){\\n    return this.store.find('course', {user_id: user_id});\\n  }\\n});\\n      </code></pre>\\n    </section>\\n    <section>\\n      <p>Use an ArrayProxy to builid a collection that can be modified</p>\\n      <pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({\\n  model: function(){\\n    var courses = Ember.ArrayProxy.create({content: []});\\n    this.store.find('courses', user_id: user_id}).then(function(data){\\n      data.forEach(function(course){\\n        if(!courses.contains(course)){\\n          courses.pushObject(course);\\n        }\\n      }.bind(this));\\n    }.bind(this));\\n    return courses;\\n  }\\n});\\n      </code></pre>\\n      <p class=\\\"fragment block\\\">But then you have to manually keep the collection updated.</p>\\n    </section>\\n    <section>\\n      <h2>Even Better - Filters!</h2>\\n      <pre><code data-trim contenteditable>\\nvar filter = this.store.filter('course', function(course){\\n  return !course.get('user_id') == userId;\\n});\\nthis.controllerFor('courses').set('model', filter);\\n<p>// Load all courses into the store.\\nEmber.run.once(this, function(){\\nthis.store.find('course');\\n});\\n</code></pre>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>What about Ember Data?</h2>\\n      <p class=\\\"fragment block\\\">Beta</p>\\n      <p class=\\\"fragment block\\\">Rapidly evolving</p>\\n      <div class=\\\"fragment block\\\">\\n        <p>Not Production Ready*</p>\\n        <div class=\\\"block\\\">\\n          <p class=\\\"small\\\">* We use it in production anyway</p>\\n        </div>\\n      </div>\\n    </section>\\n    <section>\\n      <h2>More Ember Data</h2>\\n      <p>All pre-beta examples on the internet are now wrong</p>\\n      <p><a href=\\\"https://github.com/emberjs/data/blob/master/TRANSITION.md\\\">Let the Ember Data Transition Guide Take You to a Happy Place</a></p>\\n      <p>1.0 Beta changed to reduce dependance on global application object</p>\\n    </section>\\n    <section>\\n      <div class=\\\"left\\\">\\n        <p>Ember Data 0.13</p>\\n        <pre><code data-trim contenteditable>\\nApp.Post.find();\\nApp.Post.find(params.post_id);\\n        </code></pre>\\n      </div>\\n      <div class=\\\"right\\\">\\n        <p>Ember Data 1.0.beta.1:</p>\\n        <pre><code data-trim contenteditable>\\nthis.store.find('post');\\nthis.store.find('post', params.post_id);\\n        </code></pre>\\n      </div>\\n    </section>\\n    <section>\\n      <div class=\\\"left\\\">\\n        <p>Ember Data 0.13</p>\\n        <pre><code data-trim contenteditable>\\nApp.Post.createRecord();\\n        </code></pre>\\n      </div>\\n      <div class=\\\"right\\\">\\n        <p>Ember Data 1.0.beta.1:</p>\\n        <pre><code data-trim contenteditable>\\nthis.store.createRecord('post');\\n        </code></pre>\\n      </div>\\n    </section>\\n  </section>\\n  <section>\\n    <h2>I already have Rails models</h2>\\n    <p><a href=\\\"generate-ember.js-models-using-your-rails-schema\\\">Generate Ember.js Models Using Your Rails Schema*</a><p>\\n    <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nnamespace :ember do\\n<p>  desc \\\"Build ember models from schema\\\"\\ntask :models => :environment do</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code># Change these values to fit your project\\nnamespace = 'App' # The Ember application's namespace.\\n\\n# The directory where ember models will be written. We drop them\\n# in the tmp directory since we might not want an ember model for every table in the\\n# database.\\noutput_dir = File.join(Rails.root, \\\"tmp/ember_models\\\")\\n\\nschema_file = File.join(Rails.root, 'db/schema.rb')\\n\\ncurrent = ''\\nfile = ''\\nmax = 0\\nattrs = []\\n\\nFile.readlines(schema_file).each do |line|\\n\\n  # Stuff to ignore\\n  next if line.strip.blank?\\n  next if /#.*/.match(line)\\n  next if /add_index.+/.match(line)\\n  next if /ActiveRecord::Schema.define/.match(line)\\n\\n  # Find tables in the schema\\n  if m = /create_table \\\\\\\"(.+)\\\\\\\".*/.match(line)\\n    current = \\\"#{namespace}.#{m.captures[0].classify.singularize} = DS.Model.extend({\\\\n\\\"\\n    file = \\\"#{m.captures[0].singularize}.js\\\"\\n  elsif m = /t\\\\.(.+)\\\\s+\\\"([0-9a-zA-z_]+)\\\".*/.match(line)\\n    max = m.captures[1].length if m.captures[1].length > max\\n    attrs << m.captures\\n  elsif m = /end/.match(line) && current.present?\\n    attrs.each_with_index do |attr, i|\\n      spaces = ''\\n      type = 'string'\\n      if %w(integer float).include?(attr[0])\\n        type = 'number'\\n      elsif %w(datetime time date).include?(attr[0])\\n        type = 'date'\\n      elsif %w(boolean).include?(attr[0])\\n        type = 'boolean'\\n      end\\n      comma = ','\\n      if attrs.size-1 == i\\n        comma=''\\n      end\\n      ((max + 1) - attr[1].length).times{spaces << ' '}\\n      if attr[1].ends_with?('_id')\\n        relation = attr[1][0...(attr[1].length-3)]\\n        current << \\\"  #{relation}:    #{spaces}DS.belongsTo('#{relation.camelize(:lower).singularize}'),\\\\n\\\"\\n      end\\n      current << \\\"  #{attr[1]}: #{spaces}DS.attr('#{type}')#{comma}\\\\n\\\"\\n    end\\n    current << \\\"});\\\\n\\\"\\n    f = File.join(output_dir, file)\\n    if File.exists?(f)\\n      puts \\\"Ember model already exists: #{f}\\\"\\n    else\\n      current.gsub!('_spaces_', '')\\n      puts \\\"Writing Ember model: #{f}\\\"\\n      File.open(f, 'w'){|f| f.write(current)}\\n    end\\n\\n    current = ''\\n    file = ''\\n    max = 0\\n    attrs = []\\n\\n  else\\n    if /end/.match(line).blank?\\n      puts \\\"Don't know how to handle: #{line}\\\"\\n    end\\n  end\\n\\nend</code></pre>\\n      </div>\\n<p>  end</p>\\n<p>end\\n</code></pre>\\n<p class=\\\"small\\\">*It's not my fault if this code nukes your site or ruins your relationships.</p></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Ember is Full of Promises</h2>\\n      <p class=\\\"fragment block\\\">Think Asyncronous</p>\\n    </section>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><section data-transition=\\\"linear\\\" data-background-transition=\\\"slide\\\">\\n  <h2>Make a Promise</h2>\\n  <h4>Docs Show This</h4>\\n  <pre><code class=\\\"more_code\\\" data-trim contenteditable></code></pre>\\n      </div>\\n<p>return new Promise(function(resolve, reject){\\n}.bind(this));\\n</code></pre>\\n<h4>But Do this</h4>\\n<pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nreturn new Ember.RSVP.Promise(function(resolve, reject){\\n}.bind(this));\\n</code></pre>\\n</section></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><section data-transition=\\\"linear\\\" data-background=\\\"#c0392b\\\" data-background-transition=\\\"slide\\\">\\n  <h4>Original</h4>\\n  <p>Requirement: wait until the entire tree is loaded before transition.</p>\\n  <pre><code class=\\\"more_code\\\" data-trim contenteditable></code></pre>\\n      </div>\\n<p>App.GoogleFile = Ember.Object.extend({\\n});</p>\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nthis.loadChildren(model.get('children'));\\nreturn model;\\n},</p>\\n<p>  afterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.wait(model.get('children'), function(){\\nthis.transitionTo('anotherPlace');\\n});\\n}\\n},</p>\\n<p>  // Waiting for content to load using a timer.\\nwait: function(children, callback){\\nif(Ember.isEmpty(children)){\\nEmber.run.later(this, function () {\\nthis.wait(children);\\n}, 10);\\n} else {\\ncallback(children);\\n}\\n},</p>\\n<p>  loadChildren: function(node){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nif(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\nthis.loadChildren(f);\\n}\\nnode.get('children').pushObject(f);\\n}.bind(this));\\n}.bind(this));\\n}</p>\\n<p>});\\n</code></pre>\\n</section></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><section data-transition=\\\"linear\\\" data-background-transition=\\\"slide\\\">\\n  <h4>The Refactor</h4>\\n  <pre><code class=\\\"more_code\\\" data-trim contenteditable></code></pre>\\n      </div>\\n<p>App = Ember.Application.create({\\n});</p>\\n<p>App.GoogleFile = Ember.Object.extend({\\n});</p>\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>return new Ember.RSVP.Promise(function(resolve, reject){\\n  this.loadChildren(model, resolve, reject);\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  },</p>\\n<p>  // The afterModel won't fire until the promise is fullfilled.\\nafterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.transitionTo('anotherPlace');\\n}\\n},</p>\\n<p>  loadChildren: function(node, resolve, reject){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n// Don't resolve the promise when the ajax call returns. We have to process the data and decide if we need to make more calls.\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\nvar promises = [];\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>    if(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\n      // We need to make more ajax calls. Create a new promise which can be resposible for\\n      // resolving existing promises once it is fullfilled.\\n      var promise = new Ember.RSVP.Promise(function(resolve, reject){\\n        this.loadChildren(f, resolve, reject);\\n      }.bind(this));\\n      promises.push(promise);\\n    }\\n    node.get('children').pushObject(f);\\n  }.bind(this));\\n\\n  Promise.all(promises).then(function(){\\n    resolve(node);\\n  });\\n\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  }</p>\\n<p>});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>  </code></pre>\\n  <p><a href=\\\"http://jsbin.com/koveg/6/edit?html,js,console\\\" target=\\\"_blank\\\">Working code snippet on jsbin</a></p>\\n</section></code></pre>\\n      </div>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>You're sitting around doing nothing And...</h2>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nvar Adapter = DS.RESTAdapter.extend({\\n  ajaxError: function(jqXHR){\\n    if(jqXHR.status == 401){\\n      window.location.href = '/users/sign_in?timeout=true';\\n    }\\n    if(jqXHR){\\n      jqXHR.then = null;\\n    }\\n    return jqXHR;\\n  }\\n});\\n      </code></pre>\\n    </section>\\n    <section>\\n      <h2>You have to warn me about these things</h2>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\n&lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-hidden=&quot;true&quot;&gt;\\n  &lt;div class=&quot;modal-dialog&quot;&gt;\\n    &lt;div class=&quot;modal-content&quot;&gt;\\n      &lt;div class=&quot;modal-header&quot;&gt;\\n        &lt;button  type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;\\n        &lt;h4 class=&quot;modal-title&quot; id=&quot;tmModalLabel&quot;&gt;Inactivity Warning&lt;/h4&gt;\\n      &lt;/div&gt;\\n      &lt;div class=&quot;modal-body&quot;&gt;\\n        You will be logged out in 30 seconds.\\n      &lt;/div&gt;\\n    &lt;/div&gt;\\n  &lt;/div&gt;\\n&lt;/div&gt;\\n      </code></pre>\\n    </section>\\n    <section>\\n      <h2>Component!</h2>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nApp.InactivityWarningComponent = Ember.Component.extend({\\n<p>  active: false,\\ninactiveTimeout: 12000000, // Amount of time before we redirect to the sign in screen - the session should have expired by this point. (20 minutes)\\nwarningTimeout: 30000,     // Amount of time the user has to perform an action before the last keep alive fires - 30 seconds\\ntimeout: 1170000,          // 19.5 minutes. We want to be less than the 20 minute timeout to be sure the session is renewed.</p>\\n<p>  didInsertElement: function(){\\n//if($('meta[name=\\\"in-development\\\"]').attr('content')){ return; } // Uncomment and add a meta tag to your head if you want to avoid session timeout in development\\nvar context = this;</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>var keepActive = function(){\\n  if(context.active){\\n    // Keep the session alive\\n    $.ajax({\\n      url: \\\"/stayin_alive\\\"\\n    }).done(function(result){\\n\\n      // Go inactive until the user moves the mouse or presses a key\\n      context.active = false;\\n\\n      // The user now has another 20 minutes before the session times out\\n      // Restart the timer to keep the user logged in\\n      Ember.run.later(context, keepActive, context.timeout);\\n\\n      // Set a timer to show a modal indicating the user is about to be logged out.\\n      Ember.run.debounce(context, context.show, context.timeout - context.warningTimeout);\\n\\n      // Set a timer that will send the user to the login screen\\n      Ember.run.debounce(context, context.forceLogin, context.inactiveTimeout);\\n    });\\n  }\\n};\\n\\n$(window).mousemove(function(e){\\n  context.active = true;\\n  // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n  // Use debounce so we don't call it over and over again since this method is called from mousemove\\n  Ember.run.debounce(context, context.hide, 1000);\\n});\\n\\n$(window).keypress(function(e){\\n  context.active = true;\\n  // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n  context.hide();\\n});\\n\\n// The user has 5 minutes before they are logged out. We need to send a keep Active before then.\\nEmber.run.later(context, keepActive, context.timeout);</code></pre>\\n      </div>\\n<p>  },</p>\\n<p>  forceLogin: function(){\\nwindow.location.href = '/users/sign_out?timeout=true';\\n},</p>\\n<p>  show: function(){\\n// Warn the user that they will be logged out if we are inactive\\nif(this.active === false){\\n// Start countdown timer\\nthis.$('.modal').modal('show');\\n}\\n},</p>\\n<p>  hide: function(){\\nthis.$('.modal').modal('hide');\\n}</p>\\n<p>});\\n</code></pre>\\n<p><a href=\\\"session-timeout-for-your-ember-application\\\">Ember.js Session Timeout In Depth</a></p>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2><a href=\\\"ember-textfield-ignores-arrow-keys.-how-to-monitor-key-events-in-your-textfield\\\">Monitor key events in your textfield</a></h2>\\n      <p>Monitor changes as the user types</p>\\n      <pre><code data-trim contenteditable>\\n      {% raw %}\\n{{ view Ember.Textfield\\n  class=\\\"form-control\\\"\\n  placeholderBinding=\\\"controller.prompt\\\"\\n  valueBinding=\\\"controller.value\\\"\\n  onEvent=\\\"keyPress\\\"\\n  action=\\\"typing\\\"\\n}}\\n      {% endraw %}\\n      </code></pre>\\n      <p class=\\\"fragment block\\\">but keyPress doesn't fire when you press the arrow keys</p>\\n    </section>\\n    <section>\\n      <p>No problem! Make your own Textfield</p>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nApp.Textfield = Ember.TextField.extend({\\n<p>  init: function() {\\nthis._super();\\nthis.on(\\\"keyUp\\\", this, this.interpretKeyEvents);\\n},</p>\\n<p>  interpretKeyEvents: function(event){\\nvar map = TM.Textfield .KEY<em>EVENTS;\\nvar method = map[event.keyCode];\\nif (method){\\nreturn this<a href=\\\"event\\\">method</a>;\\n} else {\\nthis.</em>super(event);\\n}\\n},</p>\\n<p>  arrowUp: function(event){\\nthis.sendAction('arrow-up', this, event);\\n},</p>\\n<p>  arrowDown: function(event){\\nthis.sendAction('arrow-down', this, event);\\n}</p>\\n<p>});</p>\\n<p>App.Textfield.KEY_EVENTS = {\\n38: 'arrowUp',\\n40: 'arrowDown'\\n};\\n</code></pre>\\n</section>\\n<section>\\n<p>Use that new code</p>\\n<pre><code data-trim contenteditable>\\n{% raw %}\\n{{ view App.Textfield\\nclass=\\\"form-control\\\"\\nplaceholderBinding=\\\"view.prompt\\\"\\nvalueBinding=\\\"view.value\\\"\\nviewName=\\\"inputField\\\"\\narrow-up=\\\"arrowUp\\\"\\narrow-down=\\\"arrowDown\\\"\\n}}\\n{% endraw %}\\n</code></pre>\\n<p>Add 'arrowUp' and 'arrowDown' to your controller and be filled with joy.</p>\\n</section></p>\\n  </section>\\n  <section>\\n    <h1>THE END</h1>\\n    <h3>Justin Ball</h3>\\n    <p>justinball.com</p>\\n    <p>justinball@gmail.com</p>\\n    <p>@jbasdf</p>\\n    <p class=\\\"small\\\" style=\\\"display:none;\\\"><a href=\\\"#pdf-export\\\">Download PDF</a></p>\\n  </section>\\n</div>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-15-emberjs-lessons-learned-so-far/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/emberjs-lessons-learned-so-far\",\"date\":\"2014-03-15T06:00:00Z\",\"title\":\"Ember.js Lessons Learned So Far\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I've spent the winter on a trainer. I don't mind the experience so much. It's not like riding outside, but I do it in hopes of maintaining some level of fitness during the winter months.\\nThe first ride of each Spring provides an opportunity to gauge whether all the time spent spinning my legs watching TV with the fan on and the window open were worth it. I approach this first ride with some…\",\"html\":\"<p>I've spent the winter on a trainer. I don't mind the experience so much. It's not like riding outside, but I do it in hopes of maintaining some level of fitness during the winter months.\\nThe first ride of each Spring provides an opportunity to gauge whether all the time spent spinning my legs watching TV with the fan on and the window open were worth it.</p>\\n<p>I approach this first ride with some trepidation.</p>\\n<p>The first ride of each Spring requires a re-amplification of courage. The trainer is easy. If you tire you rest. No one on Strava will know. If you need water it's upstairs. Selecting\\nclothing is a simple process. The most difficult part of the experience is figuring out what drivel Netflix can provide for an hour and a half.\\n(I've watched every Firefly, Dr. Who, Stargate, Star Trek Enterprise, Star Trek Voyager, Falling Skies, numerous movies and worthless SyFy rejects while on the trainer. Finding something to watch is becoming a problem).</p>\\n<p>Taking to the great outdoors requires a deeper understanding of the environment and your body. Selecting the right clothing on a Spring day is tricky. The wind can cause the temperature to vary greatly. Standing still\\nwith the sun on your face might feel perfect. Move your body through that same air at 20 miles an hour and everything cools off dramatically. Of course, push your body, your core heats up and you become and artist\\nat striping while holding a straight line and an even pace.</p>\\n<p>Today I lucked out. It was 50 degrees. I chose a wool base layer, leg warmers and wore shells over my gloves. That combination worked in harmony to maintain the perfect temperature the entire ride. That never happens.</p>\\n<p>The trainer produces and irritating level of noise, but it is silenced by a nice pair of earbuds. The road provides no such respite. I occasionaly wear earbuds, but shun the noise cancelling variety. An understanding\\nof the environment around you is critical to prevent a car from sneaking up from behind or a dog from taking you down from the side. You see the road in front. That's important for calculating the path ahead,\\nbut you hear the world all around you. Danger almost always comes from behind or from the side. On the road you are subject to the full roar of the wind. It buffets your ears muffling the sound of music from\\nheadphones, the hum of car tires, the taunts of passing teenagers. The roar annoys and produces isolation at the same time. I remain vigilant, filtering the signals from the roar that I use to determine the threats\\naround me.</p>\\n<p>The trainer is smooth. There are no hills, no pot holes, no gnarly stretches of gravel. The world is not so perfect. Today I fought with the wind. On the trainer I push constant high speeds. The wind cruely cuts\\nthose speeds in half. It leaves me humbled. The beautiful statistics accured over the winter are negated in an instant and I have failed my first test of Spring. I am not as strong as I was in the fall.</p>\\n<p>Humility erases performance and statistics from my mind. I look around. The earth is brown and dreary, but the mountain peaks are covered with snow. This is why I ride. The world is a beautiful place to be observed\\nthrough all her phases.</p>\\n<p>I know I am a bit ridiculous but the first ride of each Spring always fills me with an irrational fear. The trainer is safe. You don't fall off. There are no cars, no dogs, no unforseen hazards. The world is not\\nsafe. I avoid busy roads. After an <a href=\\\"why-cyclists-shave-their-legs-the-most-disgusting-post-i-will-ever-make\\\">accident a couple of years ago</a> I try to stay focused on the world around me.</p>\\n<p>I return home safely.</p>\\n<p>I am grateful for that last part. I've ridden for many years now and I love the experience. I love the sun on my face. I love the roar of the wind in my ears. I love the solitude and comradery. I love the pain and\\nthe feeling of overcoming that pain. I love the ride, but every time I return home I always feel a bit relieved.</p>\\n<p><a href=\\\"http://www.ksl.com/?sid=29067712&nid=148&title=hundreds-of-cyclists-ride-to-honor-fallen-friends\\\">Bryan Byrge and John Coons didn't return home.</a> They are fathers, co-workers, friends. They are\\nno different than me or the thousands of others who share the love of this experience. My heart breaks for their wives and children who said good bye that morning with every expectation that they would\\nreturn to them that night.</p>\\n<p>I shall never take for granted the feeling of relief each time I return.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-14-beautiful-day-had-to-blow-off-work-for-a-ride/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/beautiful-day.-had-to-blow-off-work-for-a-ride\",\"date\":\"2014-03-14T06:00:00Z\",\"title\":\"Beautiful day. Had to blow off work for a ride\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"On one of our latest projects we're integrating with  Vimeo . They provide a great  Video player API  that makes it pretty simple to interact with videos.\\nVimeo even provides the  Froogaloop library  that wraps up all the communication between the iframe where the video lives and your page. The solution was something we needed anyway. Orginally, we were loading iframes for a bunch of videos on the…\",\"html\":\"<p>On one of our latest projects we're integrating with <a href=\\\"http://www.vimeo.com\\\">Vimeo</a>. They provide a great <a href=\\\"http://developer.vimeo.com/player/js-api/\\\">Video player API</a> that makes it pretty simple to interact with videos.\\nVimeo even provides the <a href=\\\"https://github.com/vimeo/player-api/tree/master/javascript\\\">Froogaloop library</a> that wraps up all the communication between the iframe where the video lives and your page.</p>\\n<h3>What We Need</h3>\\nThe requirement was to show other content once the video finished playing. That seems easy enough and really it is:\\n<pre><code class=\\\"javascript\\\">\\nvar VimeoStuff = {\\n\\n  init: function(){\\n    $.each($('iframe.vimeo'), function(i, iframe){\\n      this.setupEvents(iframe)\\n    }.bind(this));\\n  }\\n\\n  setupEvents: function(iframe){\\n    var player = $f(iframe);\\n\\n    player.addEvent('ready', function(player_id){\\n      player.addEvent('finish', onFinish);\\n    });\\n\\n    function onFinish(id){\\n      // Show other content\\n    }\\n\\n  }\\n\\n};\\n\\n$(document).ready(function(){\\n  VimeoStuff.init();\\n});\\n</pre></code>\\n<h3>The Problem</h3>\\nWe do most of our development using Chrome and so everything worked great until someone tried to use the application with Firefox. I know, most people will tell you that\\nInternet Explorer is pure evil and a total piece of junk. I hate to say it but Firefox has its rough spots as well. For some reason in Firefox the events from the Vimeo player\\niframe never fired. After some digging we found this semi-related bug <a href=\\\"https://bugzilla.mozilla.org/show_bug.cgi?id=548397\\\">indicating if an iframe isn't visible then\\nwindow.getComputedStyle() would return null</a>. It turns out that if an iframe isn't visible when a page loads and you attempt to use the Froogaloop library to monitor\\nevents coming from that window you are out of luck - the 'ready' event will never fire and you won't be able to monitor any other events coming from the iframe.\\n<p>The solution was something we needed anyway. Orginally, we were loading iframes for a bunch of videos on the page. That's a bad idea anyway since loading 20 or 30 hidden videos on a page\\nisn't especially performant.</p>\\n <h3>A Fix</h3>\\nThe fix was pretty simple. Instead of setting the 'src' tag on every iframe and loading the video at startup we set a 'data-src' on every iframe and left the src tag empty. We have a helper that looks like this:\\n<pre><code class=\\\"ruby\\\">\\ndef video_embed(video)\\n  %Q{<iframe id=\\\"#{dom_id(video)}\\\"\\n          data-modal=\\\"moda_#{dom_id(video)}\\\"\\n          class=\\\"vimeo\\\"\\n          data-src=\\\"//player.vimeo.com/video/#{video.vimeo_id}?api=1&player_id=#{video.id}\\\"\\n          width=\\\"500\\\"\\n          height=\\\"281\\\"\\n          frameborder=\\\"0\\\" webkitallowFullScreen mozallowFullScreen allowFullScreen></iframe>}\\nend\\n</pre></code>\\n<p>Then in our javascript we only set the iframe src when we display the modal. After that we watch for the 'ready' event from Froogaloop and everything works like magic again:</p>\\n<pre><code class=\\\"javascript\\\">\\nvar VimeoStuff = {\\n\\n  init: function(){\\n\\n    $.each($('.modal'), function(i, modal){\\n      modal = $(modal);\\n\\n      modal.on('show.bs.modal', function(){\\n        var iframe = $('iframe.vimeo', modal);\\n        iframe.attr('src', iframe.data('src'));\\n        this.setupEvents(iframe[0]);\\n      }.bind(this));\\n\\n    }.bind(this));\\n  },\\n\\n  setupEvents: function(iframe){\\n    var player = $f(iframe);\\n\\n    player.addEvent('ready', function(player_id){\\n      player.addEvent('finish', onFinish);\\n    });\\n\\n    function onFinish(id){\\n      // Show other content\\n    }\\n\\n  }\\n\\n};\\n\\n$(document).ready(function(){\\n  PikkitUserAds.init();\\n});\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-09-firefox-vimeo-and-froogaloop-have-a-little-problem/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/firefox-vimeo-and-froogaloop-have-a-little-problem\",\"date\":\"2014-03-09T07:00:00Z\",\"title\":\"Firefox, Vimeo and Froogaloop Have a Little Problem\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I've had to use Facebook login inside an iframe twice now. Combine  Devise \\nwith  omniauth  and  omniauth-facebook  and you have a\\npretty great user authentication system. Now try to login via Facebook inside an iframe and nothing will happen. If you check your Javascript console you'll see a error\\nthat looks something like this: Facebook won't render their UI inside of an iframe. A lot of sites…\",\"html\":\"<p>I've had to use Facebook login inside an iframe twice now. Combine <a href=\\\"https://github.com/plataformatec/devise\\\">Devise</a>\\nwith <a href=\\\"https://github.com/intridea/omniauth\\\">omniauth</a> and <a href=\\\"https://github.com/mkdynamic/omniauth-facebook\\\">omniauth-facebook</a> and you have a\\npretty great user authentication system. Now try to login via Facebook inside an iframe and nothing will happen. If you check your Javascript console you'll see a error\\nthat looks something like this:</p>\\n<blockquote>\\n  Refused to display 'https://www.facebook.com/login.php?skip_api_login=1&api_key=asdfasdf%23_%3D_&display=page' in a frame because it set 'X-Frame-Options' to 'DENY'.\\n</blockquote>\\n<p>Facebook won't render their UI inside of an iframe. A lot of sites do that these days. However, you can use the Facebook Javascript client and everything will\\njust work - sort of. Omniauth-facebook documents a <a href=\\\"https://github.com/mkdynamic/omniauth-facebook#client-side-flow\\\">Client side flow</a> which looks like the\\nperfect solution to our problem but as I've learned it's not rainbows and unicorns.</p>\\n<p>If you do follow the advice provided by the documentation you'll spend hours saying things to your computer that you will regret. You'll feel depressed because you\\nfollowed the documentation and yet request.env[\\\"omniauth.auth\\\"] will be nil no mater what you do.</p>\\n<p>There are two github threads related to this problem: <a href=\\\"https://github.com/mkdynamic/omniauth-facebook/issues/73\\\">https://github.com/mkdynamic/omniauth-facebook/issues/73</a>\\nand <a href=\\\"https://github.com/intridea/omniauth-oauth2/issues/31\\\">https://github.com/intridea/omniauth-oauth2/issues/31</a> and a number of Stack Overflow questions\\n<a href=\\\"http://stackoverflow.com/questions/10320320/facebook-javascript-sdk-and-omniauth/22082218#22082218\\\">including this one that I tried to answer</a> since way\\nmore people will find it on Stack Overflow than here.</p>\\n<h3>Some Tips Before We Step In the Deep Stuff</h3>\\n<p>If you're debugging through this problem the first thing you might try is using a domain like lvh.me to access your local machine (it resolves to 127.0.0.1). Chrome\\nhas issues writing to localhost and it's possible that the Facebook cookie you need is not being properly written.</p>\\n<p>Right now would be a good time to check to make sure you don't accidently do the Oauth dance twice. This bit me. We have a link on the page with the id 'facebook_connect'.\\nIt just so happens that the href of that link is '/users/auth/facebook' which means it will initiate the Oauth dance using Omniauth. We only want to talk to Facebook once\\nso be sure to call e.preventDefault() or else you will keep wondering why you get two server calls:</p>\\n<pre><code class=\\\"javascript\\\">\\n$('#facebook_connect').on('click', function(e){\\n  e.preventDefault(); // Stop the request right here.\\n  Facebook.login();\\n});\\n</pre></code>\\n<p>The next thing you'll want to verify is that you are telling Facebook to write a cookie.</p>\\n<pre><code class=\\\"javascript\\\">\\nFB.init({\\n  appId      : GLOBAL_SETTINGS.FBappId,\\n  status     : false, // don't check login status\\n  cookie     : true, // enable cookies to allow the server to access the session\\n  xfbml      : true  // parse XFBML\\n});\\n</pre></code>\\n<h3>Before We Start</h3>\\nIf you just want to see how to do the Facebook OAuth dance client side below is the code I use to handle Facebook logins:\\n<script src=\\\"https://gist.github.com/jbasdf/9262863.js\\\"></script>\\n<h3>The Problem</h3>\\nI'm guessing you're still running into problems. The source of the issue is the callback_phase method inside the omniauth-oauth2 gem:\\n<pre><code class=\\\"ruby\\\">\\nif !options.provider_ignores_state && (request.params['state'].to_s.empty? || request.params['state'] != session.delete('omniauth.state'))\\n   raise CallbackError.new(nil, :csrf_detected)\\nend\\n</pre></code>\\n<p>request.params['state'] and session['omniauth.state'] are both nil so the condition fails and a CallbackError exception is raised. This is due\\nto the fact that we initiated the Facebook OAuth dance via FB.Login rather than using Omniauth to initiate the dance. Omniauth sets a state variable in the session\\nand then passes that as a state variable to Facebook like this:</p>\\n<pre><code class=\\\"ruby\\\">\\nsession['omniauth.state'] = SecureRandom.hex(24)\\n</pre></code>\\n<p>You can see above that the omniauth-oauth2 gem checks to make sure the state passed back from Facebook matches the one it saved into the session before\\nthe dance started.</p>\\n<p>Sucks for the client side process.</p>\\n<h3>Solution 1 - Cheap and Easy but Not So Secure</h3>\\nOne solution is to set provider_ignores_state to true which circumvents the condition:\\n<pre><code class=\\\"ruby\\\">\\nconfig.omniauth :facebook, ENV['FACEBOOK_APP_ID'], ENV['FACEBOOK_APP_SECRET'], {\\n  strategy_class: OmniAuth::Strategies::Facebook,\\n  provider_ignores_state: true,\\n}\\n</pre></code>\\n<p>That solution isn't especially secure since it can leave you open to csrf attacks.</p>\\n<h3>Solution 2 - More Code Solves Everything</h3>\\nMore code isn't usually a great way to solve your problems, but you can always create your own handler and parse the Facebook cookies yourself like this:\\n<pre><code class=\\\"ruby\\\">\\ndef handle_facebook_connect\\n    @provider = 'facebook'\\n    @oauth = Koala::Facebook::OAuth.new(ENV[\\\"FACEBOOK_ID\\\"], ENV[\\\"FACEBOOK_SECRET\\\"])\\n    auth = @oauth.get_user_info_from_cookies(cookies)\\n\\n    # Get an extended access token\\n    new_auth = @oauth.exchange_access_token_info(auth['access_token'])\\n    auth['access_token'] = new_auth[\\\"access_token\\\"]\\n\\n    # Use the auth object to setup or recover your user. The following is\\n    # and example of how you might handle the response but your needs and application structure will vary.\\n    if authentication = Authentication.where(:uid => auth['user_id'], :provider => @provider).first\\n      user = authentication.user\\n      sign_in(user, :event => :authentication)\\n    end\\n\\n    # Redirect or respond with json\\n    respond_to do |format|\\n      format.html { redirect_to user }\\n      format.json { render json: user }\\n    end\\nend\\n</pre></code>\\n<p>Then you'll need to redirect to the 'handle<em>facebook</em>connect' method when you receive a connected response:</p>\\n<pre><code class=\\\"javascript\\\">\\nFB.Event.subscribe('auth.authResponseChange', function(response) {\\n  if(response.status === 'connected'){\\n    if(response.authResponse){\\n\\n      // Redirect to our new handler\\n      window.location = '/handle_facebook_connect';\\n\\n    }\\n  } else if (response.status === 'not_authorized'){\\n    Facebook.message(Facebook.authorize_message);\\n  } else {\\n    FB.login();\\n  }\\n });\\n\\n</pre></code>\\n<h3>Solution 3 - Fake It</h3>\\nIf nothing so far brings joy to your heart then we can also simulate what omniauth does with the state variable.\\n<p>I create a helper method that can be called where ever we need to use the client side Facebook login. We also have a global settings object\\nthat can be accessed by our Javascript on the client. Calling 'add_state' generates a secure value and passes it to the client.</p>\\n<pre><code class=\\\"ruby\\\">\\ndef global_settings\\n    settings = {\\n      FBappId: ENV[\\\"FACEBOOK_ID\\\"],\\n      application_name: ENV[\\\"APPLICATION_NAME\\\"]\\n    }\\n    settings[:state] = session['omniauth.state'] = @add_state if @add_state\\n    settings\\n  end\\n\\n  def add_state\\n    @add_state ||= SecureRandom.hex(24)\\n  end\\n</pre></code>\\n<p>Then have a look at the finish function in the javascript. Here we pass the state from GLOBAL_SETTINGS when we call '/users/auth/facebook/callback':</p>\\n<pre><code class=\\\"javascript\\\">\\nfinish: function(response){\\n    window.location.href = '/users/auth/facebook/callback?state='+ GLOBAL_SETTINGS.state;\\n}\\n</pre></code>\\n<p>Ideally, I would pass the state value when I call FB.Login but as far as I can tell from the Facebook documentation they don't provide\\na mechanism for passing parameters. It is possible to manually create the FB login popup in which case it would be possible to pass the state, but\\nthis solution was sufficient for our needs.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-02-27-omniauth-devise-and-facebook-client-login-dont-play-nice/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/omniauth-devise-and-facebook-client-login-dont-play-nice\",\"date\":\"2014-02-27T07:00:00Z\",\"title\":\"Omniauth, Devise and Facebook Client Login Don't Play Nice\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I've been spending a lot more hours driving back and forth between Salt Lake City and Logan lately than I normally like.\\nToday was spent integrating  Open Assessments \\nwith  OERPub . Soon you'll be able to author an open text book via OER Pub, add an assessment via Open Assessments\\nand embed objective's via MIT's MC3 project.  Lumen Learning  has funding from the Hewlett Foundation\\nto employ…\",\"html\":\"<p>I've been spending a lot more hours driving back and forth between Salt Lake City and Logan lately than I normally like.\\nToday was spent integrating <a href=\\\"http://www.openassessments.com\\\">Open Assessments</a>\\nwith <a href=\\\"http://oerpub.org/\\\">OERPub</a>. Soon you'll be able to author an open text book via OER Pub, add an assessment via Open Assessments\\nand embed objective's via MIT's MC3 project. <a href=\\\"http://www.lumenlearning.com/\\\">Lumen Learning</a> has funding from the Hewlett Foundation\\nto employ content author's to generate a series of assessments in subjects ranging from physics to biology which means the bank of\\nfreely available, open assessments will should begin to fill with high quality content later this spring.</p>\\n<p>We've made a number of changes to Open Assessments recently including fully implementing the QTI player in Ember.js. This means that the assessment\\nauthor can choose to host their assessment data (QTI XML) on Open Assessments or on any server that supports CORS. We've also improved the API\\nand added oEmbed support.</p>\\n<p>Here's a couple of examples from today:</p>\\n<ol>\\n  <li>Search the API and get XML: <a href=\\\"http://www.openassessments.com/api/assessments.xml?q=fraction\\\">http://www.openassessments.com/api/assessments.xml?q=fraction</a><li>\\n  <li>Or if you prefer JSON: <a href=\\\"http://www.openassessments.com/api/assessments.json?q=fraction\\\">http://www.openassessments.com/api/assessments.json?q=fraction</a><li>\\n  <li>oEmbed: <a href=\\\"http://www.openassessments.com/oembed.json?url=http://www.openassessments.com/assessments/6\\\">http://www.openassessments.com/oembed.json?url=http://www.openassessments.com/assessments/6</a></li>\\n</ol>\\n<p>Finally, a fully embedded assessment in case you are wondering what all the data from the links above looks like to a normal person:</p>\\n<iframe src=\\\"//www.openassessments.com/assessments/load?src_url=http://www.openassessments.com/api/assessments/6.xml\\\" frameborder=\\\"0\\\" style=\\\"border:none;width:100%;height:100%;min-height:400px;\\\"></iframe>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-02-10-open-assessments-code-sprint-with-oerpub,-mit-and-lumen/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/open-assessments-code-sprint-with-oerpub,-mit-and-lumen\",\"date\":\"2014-02-10T07:00:00Z\",\"title\":\"Open Assessments Code Sprint with OERPub, MIT and Lumen\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"We ran into an issue with sessions timing out while users were doing client side stuff with an Ember application we're building.\\nOnce the session timed out they could no longer make authenticated requests of course and all ajax calls would fail. Here's a couple of bits of code that might be helpful. First capture 401 errors in your REST adapter and send the user to the sign in page if they've been…\",\"html\":\"<p>We ran into an issue with sessions timing out while users were doing client side stuff with an Ember application we're building.\\nOnce the session timed out they could no longer make authenticated requests of course and all ajax calls would fail.</p>\\n<p>Here's a couple of bits of code that might be helpful.</p>\\n<p>First capture 401 errors in your REST adapter and send the user to the sign in page if they've been logged out:</p>\\n<pre><code class=\\\"javascript\\\">\\n\\nvar Adapter = DS.RESTAdapter.extend({\\n\\n  ajaxError: function(jqXHR){\\n    if(jqXHR.status == 401){\\n      window.location.href = '/users/sign_in?timeout=true';\\n    }\\n    if(jqXHR){\\n      jqXHR.then = null;\\n    }\\n    return jqXHR;\\n  }\\n});\\n\\n</pre></code>\\n<p>We wanted something a bit more user friendly than a redirect so we proactively warn the user and then send keep alives as needed.\\nThe solution is an Ember component that uses Twitter Bootstrap modals to warn the user. The code assumes\\nyou have Twitter Bootstrap setup. If you don't want to use Twitter Bootstrap then it should be pretty easy to swap out the\\nhtml in the Handlebars template for whatever framework modal you want to use. Check out the comments for more details.</p>\\n<p><a href=\\\"https://gist.github.com/jbasdf/8228953\\\">Gist for Handlebars template</a></p>\\n<pre><code class=\\\"html\\\">\\n  &lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-hidden=&quot;true&quot;&gt;\\n    &lt;div class=&quot;modal-dialog&quot;&gt;\\n      &lt;div class=&quot;modal-content&quot;&gt;\\n        &lt;div class=&quot;modal-header&quot;&gt;\\n          &lt;button {{action &#039;close&#039;}} type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;\\n          &lt;h4 class=&quot;modal-title&quot; id=&quot;tmModalLabel&quot;&gt;Inactivity Warning&lt;/h4&gt;\\n        &lt;/div&gt;\\n        &lt;div class=&quot;modal-body&quot;&gt;\\n          You will be logged out in 30 seconds.\\n        &lt;/div&gt;\\n      &lt;/div&gt;\\n    &lt;/div&gt;\\n  &lt;/div&gt;\\n</pre></code>\\n<p><a href=\\\"https://gist.github.com/jbasdf/8229029\\\">Gist for Ember component javascript</a></p>\\n<pre><code class=\\\"javascript\\\">\\n\\nApp.InactivityWarningComponent = Ember.Component.extend({\\n\\n  active: false,\\n  inactiveTimeout: 12000000, // Amount of time before we redirect to the sign in screen - the session should have expired by this point. (20 minutes)\\n  warningTimeout: 30000,     // Amount of time the user has to perform an action before the last keep alive fires - 30 seconds\\n  timeout: 1170000,          // 19.5 minutes. We want to be less than the 20 minute timeout to be sure the session is renewed.\\n\\n  didInsertElement: function(){\\n    //if($('meta[name=\\\"in-development\\\"]').attr('content')){ return; } // Uncomment and add a meta tag to your head if you want to avoid session timeout in development\\n    var context = this;\\n\\n    var keepActive = function(){\\n      if(context.active){\\n        // Keep the session alive\\n        $.ajax({\\n          url: \\\"/stayin_alive\\\"\\n        }).done(function(result){\\n\\n          // Go inactive until the user moves the mouse or presses a key\\n          context.active = false;\\n\\n          // The user now has another 20 minutes before the session times out\\n          // Restart the timer to keep the user logged in\\n          Ember.run.later(context, keepActive, context.timeout);\\n\\n          // Set a timer to show a modal indicating the user is about to be logged out.\\n          Ember.run.debounce(context, context.show, context.timeout - context.warningTimeout);\\n\\n          // Set a timer that will send the user to the login screen\\n          Ember.run.debounce(context, context.forceLogin, context.inactiveTimeout);\\n        });\\n      }\\n    };\\n\\n    $(window).mousemove(function(e){\\n      context.active = true;\\n      // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n      // Use debounce so we don't call it over and over again since this method is called from mousemove\\n      Ember.run.debounce(context, context.hide, 1000);\\n    });\\n\\n    $(window).keypress(function(e){\\n      context.active = true;\\n      // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n      context.hide();\\n    });\\n\\n    // The user has 5 minutes before they are logged out. We need to send a keep Active before then.\\n    Ember.run.later(context, keepActive, context.timeout);\\n\\n  },\\n\\n  forceLogin: function(){\\n    window.location.href = '/users/sign_out?timeout=true';\\n  },\\n\\n  show: function(){\\n    // Warn the user that they will be logged out if we are inactive\\n    if(this.active === false){\\n      // Start countdown timer\\n      this.$('.modal').modal('show');\\n    }\\n  },\\n\\n  hide: function(){\\n    this.$('.modal').modal('hide');\\n  }\\n\\n});\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-01-02-session-timeout-for-your-ember-application/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/session-timeout-for-your-ember-application\",\"date\":\"2014-01-02T07:00:00Z\",\"title\":\"Session timeout for your Ember application\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Plenty of us working stiffs here in the United States wake up each morning a bit groggy as we prepare for another day as a cog\\nin the grind. That means  coffee is the most widely traded agriculture commodity in the world .\\nInject hot air, sugar and fat into coffee and a 25 cent cup of truck stop pick me up becomes a $6 Starbucks masterpiece.\\n Nestle saw an 800% increase in profits with the…\",\"html\":\"<p>Plenty of us working stiffs here in the United States wake up each morning a bit groggy as we prepare for another day as a cog\\nin the grind. That means <a href=\\\"http://www.ico.org/trade_e.asp\\\">coffee is the most widely traded agriculture commodity in the world</a>.\\nInject hot air, sugar and fat into coffee and a 25 cent cup of truck stop pick me up becomes a $6 Starbucks masterpiece.\\n<a href=\\\"http://blogs.hbr.org/2013/05/a-better-way-to-think-about-yo/\\\">Nestle saw an 800% increase in profits with the Nespresso.</a>\\nIt's the same coffee but if you put it in a little cup, make it easy to prepare and add a bit of flavoring the commodity becomes a\\nluxury. The proof of our love for coffee is the price we pay.</p>\\n<p>I'm guilty. I pay just as much for my morning pick me up. I drink it every morning. It wakes me up. It keeps me healthy. It powers my rides.</p>\\n<p>My secret is that I've never drunk coffee, but I do have a 'Mormon' version that I feel fine sharing with my even my youngest kids.</p>\\n<p>The measurements are estimates. I end up guessing most of the time. Put the ingredients in the blender\\nin the order below - it will be easier on your blender to grind up the non-frozen stuff first. I buy the frozen blue berries and\\ncherries at Sams.</p>\\n<blockquote>\\n1/4 cup flax seed\\n1/2 cup of Kefir\\n1 Banana\\n2 Handfuls of spinach\\n1/2 cup frozen blueberries\\n1/2 cup frozen cherries\\nAny other random left over fruit\\n</blockquote>\\n<p>It should come out quite purple. Drink it fast or it will start to solidify and turns into nasty grossness.\\nOne warning - it's not low calorie but it will wake you up.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-01-01-my-morning-coffee/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/my-morning-coffee\",\"date\":\"2014-01-01T07:00:00Z\",\"title\":\"My Morning Coffee\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I rarely ever reboot my Mac. It sits on my desk loyally waiting for my next command ready to respond to my every whim.\\nHowever, on occasion, something happens and it does need a reboot. Today was one of those days. Upon reboot everything appeared fine until I tried to work on some code. PostGreSQL was dead.\\nThis isn't the first time this has happened to me and I'm guessing it won't be the last so…\",\"html\":\"<p>I rarely ever reboot my Mac. It sits on my desk loyally waiting for my next command ready to respond to my every whim.\\nHowever, on occasion, something happens and it does need a reboot.</p>\\n<p>Today was one of those days. Upon reboot everything appeared fine until I tried to work on some code. PostGreSQL was dead.\\nThis isn't the first time this has happened to me and I'm guessing it won't be the last so for the benefit of all here's\\nthe problem:</p>\\n<p>Here's the error I get:</p>\\n<pre>\\npsql: could not connect to server: No such file or directory\\n  Is the server running locally and accepting\\n  connections on Unix domain socket \\\"/tmp/.s.PGSQL.5432\\\"?\\n</pre>\\n<p>The trick is to look at the logs. I installed using <a href=\\\"http://brew.sh/\\\">Homebrew</a> so my logs are here:</p>\\n<pre>\\n/usr/local/var/postgres/server.log\\n</pre>\\n<p>I had done a hard reboot which left 'postmaster.pid' in place:</p>\\n<pre>\\n/usr/local/var/postgres/postmaster.pid\\n</pre>\\n<p>I removed that file and then started up PostGres with:</p>\\n<pre>\\npg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start\\n</pre>\\n<p>Now I'm good to go.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-12-26-if-postgresql-won't-start-remember-this/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/if-postgresql-won't-start-remember-this\",\"date\":\"2013-12-26T07:00:00Z\",\"title\":\"If PostGreSQL Won't Start Remember This\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Even on Heroku where most of the problems of sys ops is taken care of for you, you will occasionally run into\\nstrange database issues that are hard to explain. For me it the database issues showed up as some ugly entries\\nwhen I tried to run a rake db:migrate on a deployed database: I was left a bit confused but I got the point that I needed to reindex my database but the question was how? turns…\",\"html\":\"<p>Even on Heroku where most of the problems of sys ops is taken care of for you, you will occasionally run into\\nstrange database issues that are hard to explain. For me it the database issues showed up as some ugly entries\\nwhen I tried to run a rake db:migrate on a deployed database:</p>\\n<pre>\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: PG::IndexCorrupted: ERROR:  index \\\"pg_constraint_conname_nsp_index\\\" contains unexpected zero page at block 0\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: HINT:  Please REINDEX it.\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             FROM pg_attribute attr\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             WHERE cons.contype = 'p'\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:               AND cons.conrelid = '\\\"users\\\"'::regclass\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: :             SELECT attr.attname\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: PG::IndexCorrupted: ERROR:  index \\\"pg_constraint_conname_nsp_index\\\" contains unexpected zero page at block 0\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             WHERE cons.contype = 'p'\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: HINT:  Please REINDEX it.\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:               AND cons.conrelid = '\\\"users\\\"'::regclass\\n2013-12-13T16:57:28.079965+00:00 app[web.1]: Completed 500 Internal Server Error in 10ms\\n2013-12-13T16:57:28.079965+00:00 app[web.1]: :             SELECT attr.attname\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             FROM pg_attribute attr\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n</pre>\\n<p>I was left a bit confused but I got the point that I needed to reindex my database but the question was how? turns out on heroku you can get into\\nyour database with this command:</p>\\n<pre>\\nheroku pg:psql\\n</pre>\\n<p>That was easy. Now to clean up my indexes:</p>\\n<pre>\\nREINDEX DATABASE __Your_DB_Name__\\n</pre>\\n<p>While you're in there you can also clean up:</p>\\n<pre>\\nVACUUM;\\n</pre>\\n<p>You'll need to get your database name from your heroku dashboard. This url will get you there\\n<a href=\\\"https://postgres.heroku.com/databases\\\">https://postgres.heroku.com/databases</a>. You'll need to know\\nwhat the specific database is and click through to get the name. It's ugly and will look something like 'dusyahwettad'</p>\\n<p>That should be it, but in case you want to dig around a bit more and see what's going on in your database you can install the pg-extras from:</p>\\n<p><a href=\\\"https://github.com/heroku/heroku-pg-extras\\\">https://github.com/heroku/heroku-pg-extras</a></p>\\n<p>Once those are installed you can do things like..</p>\\n<p>See the your db bloat:\\nheroku pg:bloat DATABASE_URL</p>\\n<p>Check out your vacuum stats:\\nheroku pg:vacuum<em>stats DATABASE</em>URL</p>\\n<p>And so much more. Check here for more details:\\n<a href=\\\"https://devcenter.heroku.com/articles/heroku-postgres-database-tuning\\\">https://devcenter.heroku.com/articles/heroku-postgres-database-tuning</a></p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-12-13-heroku-database-tips/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/heroku-database-tips\",\"date\":\"2013-12-13T07:00:00Z\",\"title\":\"Heroku Database Tips\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"\",\"html\":\"<p>Ember provides a text field view that makes generating text input fields pretty simple. What's really cool is with the\\n  simple addition of onEvent=\\\"keyPress\\\" and action=\\\"my_function\\\" you can monitor changes to the field as the user types.\\n  It looks something like this:</p>\\n<script src=\\\"https://gist.github.com/jbasdf/9202528.js\\\"></script>\\n<p>(On a side note you can also just add an observer to your controller for 'value' and it will be called as the user types in new content.)</p>\\n<p>Even with all this magic I ran into a scenerio that not handled - I needed to know if the user had pressed the arrow up or down keys. A quick\\n  dig into the Ember code led me to the Ember.TextSupport mixin. The Ember.TextField view mixes in Ember.TextSupport so you only need to\\n  create your own textfield view, extend Ember.TextField and override a couple of the methods from Ember.TextSupport. It looks like this:<p>\\n<script src=\\\"https://gist.github.com/jbasdf/9202561.js\\\"></script>\\n<p>Using your new arrow enabled view then looks like this:</p>\\n<script src=\\\"https://gist.github.com/jbasdf/9202574.js\\\"></script>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-10-24-ember-textfield-ignores-arrow-keys-how-to-monitor-key-events-in-your-textfield/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/ember-textfield-ignores-arrow-keys.-how-to-monitor-key-events-in-your-textfield\",\"date\":\"2013-10-24T06:00:00Z\",\"title\":\"Ember Textfield ignores arrow keys. How to monitor key events in your textfield\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"\",\"html\":\"<h2>A tiny Rails asset pipeline thing if you are into bookmarklets</h2>\\n<p>This is more a general Rails issue rather than a Heroku issue, but I ran into the problem while deploying to heroku so I'm including it.\\nRails 3 generated digest as well as undigested version of your assets. Rails 4 no longer does that. For many applications that\\ndoesn't matter but if you need to access your assets directly via file name it becomes a big problem. In my case I need\\nto be able to access a javascript file for a bookmarklet. The proposed solution is that you put those kinds of files directly\\ninto the public directly. However, I needed to make use of the asset pipeline to take advantage of Rails JST capabilities.\\nIf you run into the same problem take a look at\\n<a href=\\\"https://github.com/alexspeller/non-stupid-digest-assets\\\">Non-stupid non-digest assets in Rails 4 by Alex Speller.</a> It saved\\nme a ton of time and fixed a major headache.</p>\\n<h2>Just in case you want to be framed</h2>\\n<p><a href=\\\"http://www.seanbehan.com/how-to-enable-iframe-support-on-heroku-with-ruby-on-rails-and-sinatra\\\">\\n  It turns out that X-Frame-Options is set to 'SAMEORIGIN' by default in Rails 4. If you want your content to be framed then you'll need to set the headers:</a></p>\\n<pre><code class=\\\"ruby\\\">\\n  config.action_dispatch.default_headers = {\\n    'X-Frame-Options' => 'ALLOWALL'\\n  }\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-10-23-rails-asset-pipeline-on-heroku-notes/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/rails-asset-pipeline-on-heroku-notes\",\"date\":\"2013-10-23T06:00:00Z\",\"title\":\"Rails on Heroku Notes - some Asset Pipeline and a Frame issue\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"  this.no results clear();\\n  results = 0;\\n  searchText = this.get search text();\\n  escapedSearchText = searchText.replace(/[- ] {}()*+?., \\\\ ^$|#\\\\s /g, \\\" \\\\ $&\\\");\\n  regexAnchor = this.search contains ? \\\"\\\" : \\\"^\\\";\\n  regex = new RegExp(regexAnchor + escapedSearchText, 'i');\\n  zregex = new RegExp(escapedSearchText, 'i');\\n  _ref = this.results data;\\n  for ( i = 0, _len = _ref.length; _i < _len; _i…\",\"html\":\"<p><a href=\\\"http://harvesthq.github.io/chosen/\\\">Harvest's Chosen select control</a> is handy for cleaning up unwieldy or\\nhorribly long select boxes. It's a nice little bit of UI sugar that can help make your users happier and we all like\\nhappy users right?. <a href=\\\"http://emberjs.com/\\\">Ember.js</a> is now our Javascript framework of choice but it doesn't\\nalways play well with other libraries and plugins - at least not without messsing around with it for a bit.</p>\\n<p><a href=\\\"http://stackoverflow.com/questions/9968222/ember-js-chosen-integration\\\">There are others out there that want to\\n  use Chosen in their Ember application.</a> I tweaked the last bit of code in this\\n  <a href=\\\"http://stackoverflow.com/questions/9968222/ember-js-chosen-integration\\\">StackOverflow question</a> a bit\\nto produce a working view that extends Ember.Select.</p>\\n<p><a href=\\\"https://gist.github.com/jbasdf/6872750\\\">Here's gist of the code</a> and here's the code:</p>\\n<pre><code class=\\\"javascript\\\">\\n\\n\\nApp.Chosen = Ember.Select.extend({\\n\\n  multiple: false,\\n  width: '95%',\\n  disableSearchThreshold: 10,\\n  searchContains: true,\\n  attributeBindings:['multiple', 'width', 'disableSearchThreshold', 'searchContains'],\\n\\n  didInsertElement: function(){\\n    this._super();\\n\\n    var options = {\\n      multiple: this.get('multiple'),\\n      width: this.get('width'),\\n      disable_search_threshold: this.get('disableSearchThreshold'),\\n      search_contains: this.get('searchContains')\\n    };\\n\\n    options.clean_search_text = this.cleanSearchText;\\n    options.calling_context = this;\\n\\n    if(this.get('multiple')){\\n      options.placeholder_text_multiple = this.get('prompt');\\n    } else {\\n      options.placeholder_text_single = this.get('prompt');\\n    }\\n\\n    this.$().chosen(options);\\n\\n    // observes for new changes on options to trigger an update on Chosen\\n    return this.addObserver(this.get(\\\"optionLabelPath\\\").replace(/^content/, \\\"content.@each\\\"), function() {\\n      return this.rerenderChosen();\\n    });\\n\\n  },\\n\\n  _closeChosen: function(){\\n    // trigger escape to close chosen\\n    this.$().next('.chosen-container-active').find('input').trigger({type:'keyup', which:27});\\n  },\\n\\n  cleanSearchText: function(option, context){\\n    return option.text;\\n  },\\n\\n  rerenderChosen: function(){\\n    // Don't trigger Chosen update until after DOM elements have finished rendering.\\n    Ember.run.scheduleOnce('afterRender', this, function(){\\n      this.$().trigger('chosen:updated');\\n    });\\n  }\\n\\n});\\n\\n</pre></code>\\n<p>UPDATE - The ember script tags will show up in the search which is not something you want. I had to modify the chosen.js source code for a solution.\\nLuckily it is pretty simple:</p>\\n<p><a href=\\\"https://gist.github.com/jbasdf/6920497\\\">Gist of chosen.jquery.js modified to include the clean_search_text method.</a></p>\\n<p>In the AbstractChosen.prototype.set_default_values method I added an option for a clean_search_text method. You can add this method\\n  to your own code and then cleanup the search text to be whatever you like ie remove script tags. The method I used is\\ncleanSearchText in the code above. Notice that I pass it to chosen with \\\"options.clean_search_text = this.cleanSearchText;\\\"</p>\\n<pre><code class=\\\"javascript\\\">\\nAbstractChosen.prototype.set_default_values = function() {\\n  var _this = this;\\n\\n  this.click_test_action = function(evt) {\\n    return _this.test_active_click(evt);\\n  };\\n  this.activate_action = function(evt) {\\n    return _this.activate_field(evt);\\n  };\\n  // MODIFIED - Added clean_search_text method so that the caller can clean up the search text\\n  this.clean_search_text = this.options.clean_search_text || function(option){ return option.html; };\\n  this.calling_context = this.options.calling_context;\\n  this.active_field = false;\\n  this.mouse_on_container = false;\\n  this.results_showing = false;\\n  this.result_highlighted = null;\\n  this.result_single_selected = null;\\n  this.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \\\"\\\" ? this.options.allow_single_deselect : false;\\n  this.disable_search_threshold = this.options.disable_search_threshold || 0;\\n  this.disable_search = this.options.disable_search || false;\\n  this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\\n  this.group_search = this.options.group_search != null ? this.options.group_search : true;\\n  this.search_contains = this.options.search_contains || false;\\n  this.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\\n  this.max_selected_options = this.options.max_selected_options || Infinity;\\n  this.inherit_select_classes = this.options.inherit_select_classes || false;\\n  this.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\\n  return this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\\n};\\n</pre></code>\\n<p>In the AbstractChosen.prototype.results_option_build method I had to add a conditional where it says MODIFIED:</p>\\n<pre><code class=\\\"javascript\\\">\\n  AbstractChosen.prototype.results_option_build = function(options) {\\n    var content, data, _i, _len, _ref;\\n\\n    content = '';\\n    _ref = this.results_data;\\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\\n      data = _ref[_i];\\n      // MODIFIED. Don't include the place holder text in the drop down or in searches.\\n      if(data.text != this.options.placeholder_text_single &&\\n         data.text != this.options.placeholder_text_multiple){\\n        if (data.group) {\\n          content += this.result_add_group(data);\\n        } else {\\n          content += this.result_add_option(data);\\n        }\\n        if (options != null ? options.first : void 0) {\\n          if (data.selected && this.is_multiple) {\\n            this.choice_build(data);\\n          } else if (data.selected && !this.is_multiple) {\\n            this.single_set_selected_text(data.text);\\n          }\\n        }\\n      }\\n    }\\n    return content;\\n  };\\n</pre></code>\\n<p>Last add the call to clean the search text inside the AbstractChosen.prototype.winnow_results method. Look for MODIFIED in the code\\nbelow for the method call.</p>\\n<pre><code class=\\\"javascript\\\">\\nAbstractChosen.prototype.winnow_results = function() {\\n  var escapedSearchText, option, regex, regexAnchor, results, results_group, searchText, startpos, text, zregex, _i, _len, _ref;\\n<p>  this.no<em>results</em>clear();\\nresults = 0;\\nsearchText = this.get<em>search</em>text();\\nescapedSearchText = searchText.replace(/[-[]{}()*+?.,\\\\^$|#\\\\s]/g, \\\"\\\\$&#x26;\\\");\\nregexAnchor = this.search<em>contains ? \\\"\\\" : \\\"^\\\";\\nregex = new RegExp(regexAnchor + escapedSearchText, 'i');\\nzregex = new RegExp(escapedSearchText, 'i');\\n_ref = this.results</em>data;\\nfor (<em>i = 0, _len = _ref.length; _i &#x3C; _len; _i++) {\\noption = _ref[</em>i];\\noption.search<em>match = false;\\nresults</em>group = null;\\nif (this.include<em>option</em>in<em>results(option)) {\\nif (option.group) {\\noption.group</em>match = false;\\noption.active<em>options = 0;\\n}\\nif ((option.group</em>array<em>index != null) &#x26;&#x26; this.results</em>data[option.group<em>array</em>index]) {\\nresults<em>group = this.results</em>data[option.group<em>array</em>index];\\nif (results<em>group.active</em>options === 0 &#x26;&#x26; results<em>group.search</em>match) {\\nresults += 1;\\n}\\nresults<em>group.active</em>options += 1;\\n}\\nif (!(option.group &#x26;&#x26; !this.group<em>search)) {\\n// MODIFIED added clean</em>search<em>text\\noption.search</em>text = option.group ? option.label : this.clean<em>search</em>text(option, this.calling<em>context);\\noption.search</em>match = this.search<em>string</em>match(option.search<em>text, regex);\\nif (option.search</em>match &#x26;&#x26; !option.group) {\\nresults += 1;\\n}\\nif (option.search<em>match) {\\nif (searchText.length) {\\nstartpos = option.search</em>text.search(zregex);\\ntext = option.search<em>text.substr(0, startpos + searchText.length) + '</em>' + option.search</em>text.substr(startpos + searchText.length);\\noption.search<em>text = text.substr(0, startpos) + '<em>' + text.substr(startpos);\\n}\\nif (results</em>group != null) {\\nresults<em>group.group</em>match = true;\\n}\\n} else if ((option.group<em>array</em>index != null) &#x26;&#x26; this.results<em>data[option.group</em>array<em>index].search</em>match) {\\noption.search<em>match = true;\\n}\\n}\\n}\\n}\\nthis.result</em>clear<em>highlight();\\nif (results &#x3C; 1 &#x26;&#x26; searchText.length) {\\nthis.update</em>results<em>content(\\\"\\\");\\nreturn this.no</em>results(searchText);\\n} else {\\nthis.update<em>results</em>content(this.results<em>option</em>build());\\nreturn this.winnow<em>results</em>set_highlight();\\n}\\n};</p>\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-10-07-using-chosen-with-emberjs/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/using-chosen-with-ember.js\",\"date\":\"2013-10-07T06:00:00Z\",\"title\":\"Using Chosen with Ember.js\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I love Ember.js. I hate typing and I especially hate typing code that a machine could build. I got really tired of reading \\na Rails schema to build new Ember.js models so I create a rake task for it. I make no guarantees that this code will\\nwork for you or that it won't delete some of your code or start a nuclear war. Enjoy! ( Link to gist if that's easier. ) ( Updated for Ember Data 1.0.0 beta. )\",\"html\":\"<p>I love Ember.js. I hate typing and I especially hate typing code that a machine could build. I got really tired of reading\\na Rails schema to build new Ember.js models so I create a rake task for it. I make no guarantees that this code will\\nwork for you or that it won't delete some of your code or start a nuclear war. Enjoy!</p>\\n<p>(<a href=\\\"https://gist.github.com/jbasdf/6744552\\\" title=\\\"Generate Ember.js models using your Rails Schema\\\">Link to gist if that's easier.</a>)</p>\\n<p>(<a href=\\\"https://gist.github.com/jbasdf/6786849\\\" title=\\\"Generate Ember.js models using your Rails Schema\\\">Updated for Ember Data 1.0.0 beta.</a>)</p>\\n<pre><code class=\\\"ruby\\\">\\nnamespace :ember do\\n\\n  desc \\\"Build ember models from schema\\\"\\n  task :models => :environment do\\n\\n    # Change these values to fit your project\\n    namespace = 'App' # The Ember application's namespace.\\n    output_dir = File.join(Rails.root, \\\"app/assets/javascripts/common/models\\\") # The directory where ember models will be written\\n\\n    schema_file = File.join(Rails.root, 'db/schema.rb')\\n\\n    current = ''\\n    file = ''\\n    max = 0\\n    attrs = []\\n\\n    File.readlines(schema_file).each do |line|\\n\\n      # Stuff to ignore\\n      next if line.strip.blank?\\n      next if /#.*/.match(line)\\n      next if /add_index.+/.match(line)\\n      next if /ActiveRecord::Schema.define/.match(line)\\n\\n      # Find tables in the schema\\n      if m = /create_table \\\\\\\"(.+)\\\\\\\".*/.match(line)\\n        current = \\\"#{namespace}.#{m.captures[0].classify.singularize} = DS.Model.extend({\\\\n\\\"\\n        file = \\\"#{m.captures[0].singularize}.js\\\"\\n      elsif m = /t\\\\.(.+)\\\\s+\\\"([0-9a-zA-z_]+)\\\".*/.match(line)\\n        max = m.captures[1].length if m.captures[1].length > max\\n        attrs << m.captures\\n      elsif m = /end/.match(line) && current.present?\\n        attrs.each_with_index do |attr, i|\\n          spaces = ''\\n          type = 'string'\\n          if %w(integer float).include?(attr[0])\\n            type = 'number'\\n          elsif %w(datetime time date).include?(attr[0])\\n            type = 'date'\\n          elsif %w(boolean).include?(attr[0])\\n            type = 'boolean'\\n          end\\n          comma = ','\\n          if attrs.size-1 == i\\n            comma=''\\n          end\\n          ((max + 1) - attr[1].length).times{spaces << ' '}\\n          if attr[1].ends_with?('_id')\\n            relation = attr[1][0...(attr[1].length-3)]\\n            current << \\\"  #{relation}:    #{spaces}DS.belongsTo('#{namespace}.#{relation.classify.singularize}'),\\\\n\\\"\\n          end\\n          current << \\\"  #{attr[1]}: #{spaces}DS.attr('#{type}')#{comma}\\\\n\\\"\\n        end\\n        current << \\\"});\\\\n\\\"\\n        f = File.join(output_dir, file)\\n        if File.exists?(f)\\n          puts \\\"Ember model already exists: #{f}\\\"\\n        else\\n          current.gsub!('_spaces_', '')\\n          puts \\\"Writing Ember model: #{f}\\\"\\n          File.open(f, 'w'){|f| f.write(current)}\\n        end\\n\\n        current = ''\\n        file = ''\\n        max = 0\\n        attrs = []\\n\\n      else\\n        if /end/.match(line).blank?\\n          puts \\\"Don't know how to handle: #{line}\\\"\\n        end\\n      end\\n\\n    end\\n\\n  end\\n\\nend\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-09-28-generate-emberjs-models-using-your-rails-schema/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/generate-ember.js-models-using-your-rails-schema\",\"date\":\"2013-09-28T06:00:00Z\",\"title\":\"Generate Ember.js models using your Rails Schema\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"So you've discovered the most awesome front end javascript framework ever or at least that's what the cool\\nkids are saying. Now you want so help. Besides  StackOverflow \\nhere are a few resources that might be helpful:\",\"html\":\"<p><a>So you've discovered the most awesome front end javascript framework ever or at least that's what the cool\\nkids are saying. Now you want so help. Besides <a href=\\\"http://stackoverflow.com/questions/tagged/ember.js\\\">StackOverflow</a>\\nhere are a few resources that might be helpful:</a></p>\\n<ul>\\n  <li><a href=\\\"http://emberjs.com/api/\\\">The Ember API docs.</a></li>\\n  <li>\\n    <a href=\\\"http://ember-addons.github.io/bootstrap-for-ember/dist/#/\\\">Bootstrap for Ember Demo</a>\\n    <a href=\\\"https://github.com/ember-addons/bootstrap-for-ember\\\">(The code)</a>\\n  <li>\\n    There's also:\\n    <a href=\\\"http://emberjs-addons.github.io/ember-bootstrap/\\\">Ember Bootstrap</a>\\n    <a href=\\\"https://github.com/emberjs-addons/ember-bootstrap\\\">(The code)</a>\\n  </li>\\n  <li><a href=\\\"http://ember101.com/\\\">Ember video tutorials from Ryan Florence</a></li>\\n  <li><a href=\\\"https://github.com/rpflorence/ember-tools\\\">Ember tools also from Ryan Florence</a></li>\\n  <li><a href=\\\"http://code418.com/blog/2012/03/08/useful-emberjs-functions/\\\">Useful/helpful ember.js functions</a></li>\\n  <li><a href=\\\"http://www.akshay.cc/blog/2013-02-22-debugging-ember-js-and-ember-data.html\\\">Helpful ember.js debug tips</></li>\\n</ul>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-08-30-help-with-emberjs/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/help-with-emberjs\",\"date\":\"2013-08-30T06:00:00Z\",\"title\":\"Help with Ember.js\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"\",\"html\":\"<p>My fun/stupid ember mistake of the day. <a href=\\\"http://jsbin.com/ajocAJA/3/edit\\\">I even put together a jsbin to help track down the problem.</a></p>\\n<p>It's a tiny problem that is hard to spot. Right there at the very end there's a property declared like this:<p>\\n<pre><code class=\\\"javascript\\\">\\n  property('selectedContacts.@each')\\n</pre></code>\\n<p>It wasn't always that way. Once there was this:</p>\\n<pre><code class=\\\"javascript\\\">\\n  property('selectedContacts@each')\\n</pre></code>\\n<p>\\n  The difference is subtle. It's hard to see especially when you've spent your life typing email addresses. No\\n  one misses a period until the entire application stops working and everyone is furious because \\\"It looks just like the #@$@!# sample code.\\\"\\n  <strong>Don't forget the '.' that goes before '@each'.<strong>\\n</p>\\n<pre><code class=\\\"javascript\\\">\\nvar App = Ember.Application.create();\\n\\nApp.ApplicationRoute = Ember.Route.extend({\\n  model: function(){\\n    var contacts = Ember.ArrayProxy.create({content: []});\\n    contacts.pushObject({name: 'Bill'});\\n    contacts.pushObject({name: 'Sally'});\\n    return contacts;\\n  },\\n  setupController: function(controller, model){\\n    controller.set('model', model);\\n\\n    var selectedContacts = Ember.ArrayProxy.create({content: []});\\n    this.controllerFor('selected_contacts').set('content', selectedContacts);\\n  }\\n});\\n\\nApp.ApplicationController = Ember.ArrayController.extend({\\n  needs: ['selected_contacts'],\\n  selectedContacts: null,\\n  selectedContactsBinding: 'controllers.selected_contacts.content',\\n\\n  itemController: 'contact',\\n  selectContact: function(contact){\\n    this.selectedContacts.pushObject(contact);\\n  }\\n});\\n\\nApp.SelectedContactsController = Ember.ArrayController.extend({\\n  itemController: 'contact',\\n\\n  watcher: function(){\\n    console.log('Selected contents changed. Length: ' + this.get('content.length'));\\n  }.observes('content')\\n\\n});\\n\\nApp.ContactController = Ember.ObjectController.extend({\\n  needs: ['selected_contacts'],\\n  selectedContacts: null,\\n  selectedContactsBinding: 'controllers.selected_contacts.content',\\n\\n  isSelected: function(){\\n    console.log('Checking Selected for' + this.get('name'));\\n    return this.selectedContacts.contains(this.get('content'));\\n  }.property('selectedContacts.@each')\\n\\n});\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-08-30-dont-forget-your-period-computed-property-that-depends-on-ember_arraycontroller-contents/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/dont-forget-your-period-computed-property-that-depends-on-ember_arraycontroller-contents\",\"date\":\"2013-08-30T06:00:00Z\",\"title\":\"Don't miss the '.' - Computed Property that depends on Ember.ArrayController contents\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}}],\"pathPrefix\":\"archive\",\"first\":false,\"last\":false,\"index\":5,\"pageCount\":33}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---archive-5-c581844437969b11a86f.js","module.exports = {\"pathContext\":{\"group\":[{\"node\":{\"excerpt\":\"With the Cache Maker club we're always looking for ways to make it easier for kids to interact with hardware. Traditionally, interacting with hardware meant learning assembly or if you picked the right platform you could write embedded C. Today things are different. With Arduino we have an open source hardware platform with libraries in your favorite language. Javascript is an approachable…\",\"html\":\"<p>With the Cache Maker club we're always looking for ways to make it easier for kids to interact with hardware. Traditionally, interacting with hardware meant learning assembly or if you picked the right platform you could write embedded C. Today things are different.</p>\\n<p>With Arduino we have an open source hardware platform with libraries in your favorite language. Javascript is an approachable language. Put the two together and kids can program hardware.</p>\\n<p>That's why \\\"Hardware Hacking with JS\\\" with <a href=\\\"http://jamisondance.com/\\\">Jamison Dance</a> (<a href=\\\"https://twitter.com/jergason\\\">@jergason</a>) was so awesome.</p>\\n<p><a href=\\\"https://hackpad.com/Hardware-Hacking-for-JS-Developers-enBfwkN103s\\\">Here's the hackpad notes</a></p>\\n<ul>\\n<li><a href=\\\"https://github.com/rwaldron/johnny-five\\\">Johnny Five</a> - node library to communicate via usb port to hardware device</li>\\n<li>Arduino boards have a bunch of pins you can read from or write to - get a 1 or a 0</li>\\n<li>You can set up callbacks for every time a pin is on</li>\\n<li><a href=\\\"https://github.com/andrew/node-xbox-controller\\\">Node Xbox Controller</a> - let's you bind to events coming from an xbox controller</li>\\n<li><a href=\\\"https://github.com/jergason/hardware-hacking-mwjs-2014\\\">Slides and code from the presentation.</a></li>\\n</ul>\\n<p>Here's Jamison flying a parrot drone using an xbox controller via node.js:</p>\\n<iframe width=\\\"560\\\" height=\\\"315\\\" src=\\\"//www.youtube.com/embed/kWVEjbvx6Tg\\\" frameborder=\\\"0\\\" allowFullScreen=\\\"true\\\"></iframe>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-18-hardware-hacking-with-js/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/hardware-hacking-with-js\",\"date\":\"2014-03-18T06:00:00Z\",\"title\":\"Hardware Hacking with JS\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Use functional concepts to build nice observable streams: Map: transform one collection into another. Filter: filter one collection into a smaller collection. Reduce: take a collection and reduce it into a single result (like inject in Ruby). Zip: zip two collections into a single collection. Reactive programming requires thinking functionaly. Turn events into collections. Allow you to handle…\",\"html\":\"<h2>The Functional Part</h2>\\nDon't describe how to process the data using a loop instead have your code state what you want to happen.\\n<p>Use functional concepts to build nice observable streams:</p>\\n<ul>\\n<li>Map: transform one collection into another.</li>\\n<li>Filter: filter one collection into a smaller collection.</li>\\n<li>Reduce: take a collection and reduce it into a single result (like inject in Ruby).</li>\\n<li>Zip: zip two collections into a single collection.</li>\\n</ul>\\n<p>Reactive programming requires thinking functionaly.</p>\\n<h2>Observables</h2>\\n<ul>\\n<li>Turn events into collections.</li>\\n<li>Allow you to handle errors in the collection.</li>\\n<li>Unsubscribe when the event is done.</li>\\n</ul>\\n<h2>Observable methods</h2>\\n- merge: combine collections into a collection as each item arrives.\\n- concatAll: combine collections into a new collection in the order in which they were created. Flatten async requests and resolve race conditions.\\n- takeUntil: creates a single observable of a source collection and a stop collection. When event from stop collection occurs unsubscribe from source.\\n- switchLatest: only use the latest collection. Throw out the rest.\\n- distinctUntilChanged: filters out duplicate occurrences.\\n<h2>Example</h2>\\n<p>(from <a href=\\\"https://github.com/Reactive-Extensions/RxJS\\\">https://github.com/Reactive-Extensions/RxJS</a>)</p>\\n<pre><code class=\\\"javascript\\\">\\n/* Only get the value from each key up */\\nvar keyups = Rx.Observable.fromEvent($input, 'keyup')\\n  .map(function (e) {\\n      return e.target.value;\\n  })\\n  .filter(function (text) {\\n      return text.length > 2;\\n  });\\n<p>/* Now throttle/debounce the input for 500ms <em>/\\nvar throttled = keyups\\n.throttle(500 /</em> ms */);</p>\\n<p>/* Now get only distinct values, so we eliminate the arrows and other control characters */\\nvar distinct = throttled\\n.distinctUntilChanged();</p>\\n</pre></code>\\n<h3>Resources</h3>\\n- <a href=\\\"http://reactive-extensions.github.io/RxJS/\\\">Reactive-Extensions for Javascript</a>\\n- <a href=\\\"http://jhusain.github.io/learnrx/\\\">Learn Reactive Programming</a> by <a href=\\\"https://twitter.com/jhusain\\\">jhusain</a>\\n- <a href=\\\"https://hackpad.com/Asynchronous-JavaScript-at-Netflix-j0DqUOf5fCV\\\">Asynchronous JavaScript at Netflix</a>\\n- <a href=\\\"https://hackpad.com/Adding-Even-More-Fun-to-Functional-Programming-With-RXJS-W4be7aCTEjt\\\">Adding Even More Fun to Functional Programming With RXJS</a>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-vector-programming-and-reactive-javascript/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/vector-programming-and-reactive-javascript\",\"date\":\"2014-03-17T06:00:00Z\",\"title\":\"Vector Programming and Reactive Javascript\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Ryan Florence  presenting \\\"Bringing the Web Back to the Blind\\\". Probably the biggest accessiblity resource on the web:  webaim.org . Use your headers for organization of content rather than for visual display. It helps blind users navigation through\\nthe content based on its importance. Adding 'role=\\\"main\\\"' provides a 'landmark' in the page that a screen reader can find. A blind user can use these…\",\"html\":\"<p><a href=\\\"http://ryanflorence.com/\\\">Ryan Florence</a> presenting \\\"Bringing the Web Back to the Blind\\\".</p>\\n<p>Probably the biggest accessiblity resource on the web: <a href=\\\"http://webaim.org/\\\">webaim.org</a>.</p>\\n<h2>Accessiblity</h2>\\nAccessiblity is more than just alt tags. You still want alt tags but there's more.\\n<p>Use your headers for organization of content rather than for visual display. It helps blind users navigation through\\nthe content based on its importance.</p>\\n<h2>Landmarks</h2>\\nUse the role tag on elements. For example:\\n<pre><code class=\\\"html\\\">\\n<div role=\\\"main\\\"></div>\\n</pre></code>\\n<p>Adding 'role=\\\"main\\\"' provides a 'landmark' in the page that a screen reader can find. A blind user can use these landmarks\\nto quickly navigate to specific sections of the page.</p>\\n<p>Html 5 includes a 'main' tag as well as others like 'article' that screen readers can use as landmarks.</p>\\n<h2>Screen Reader Specific Content</h2>\\nUse css to hide text that is important for screen readers. Create a 'visually-hidden' css class then include\\nadditional information to to describe the element. For example, developers frequently use an 'x' to close a modal\\nor other window. The screen reader will read this as 'times'. We can add additional information indicating that the\\nlink/button will close the window.\\n<p>Screen readers will execute Javascript!</p>\\n<h2>ARIA</h2>\\nAdd screen reader specific text with an attribute:\\n<blockquote>\\naria-label=\\\"A close button\\\"\\n</blockquote>\\n<p>Tell the screen reader to ignore an element with:</p>\\n<blockquote>\\naria-hidden=\\\"true\\\"\\n</blockquote>\\n<p><a href=\\\"http://www.w3.org/WAI/intro/aria\\\">WAI ARIA</a> is a specification that defines how to make your website more accessible.</p>\\n<p>Aria attributes that can be used with tabs:</p>\\n<ul>\\n<li>aria-selected</li>\\n<li>aria-controls</li>\\n<li>aria-expanded</li>\\n</ul>\\n<p>However, if you don't know how to use 'aria' then don't. You'll probably make things worse.</p>\\n<p>We frequently think of Visual Interaction Design. Consider \\\"Audible Interaction Design\\\". Try out a screen reader and\\nsee what it's like to use your website without the visual UI.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-bringing-the-web-back-to-the-blind-with-ryan-florence/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/bringing-the-web-back-to-the-blind-with-ryan-florence\",\"date\":\"2014-03-17T06:00:00Z\",\"title\":\"Bringing the Web Back to the Blind with Ryan Florence\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Mountain West Javascript starts today.  Peter Hunt , Facebook developer and contributor to\\n reactjs.org  is first up presenting \\\"Be predictable, not correct.\\\" Here's my notes: Even better:  Notes on Hackpad NOT the simpliest way to build things. Avoid fighting the framework. Rerender and diffing feels expensive which is why we do data binding. KVO entangles app code with observables. Angualr style…\",\"html\":\"<p>Mountain West Javascript starts today. <a href=\\\"https://twitter.com/floydophone\\\">Peter Hunt</a>, Facebook developer and contributor to\\n<a href=\\\"http://facebook.github.io/react/\\\">reactjs.org</a> is first up presenting \\\"Be predictable, not correct.\\\"</p>\\n<p>Here's my notes:</p>\\n<p>Even better: <a href=\\\"https://hackpad.com/Secrets-of-the-Virtual-DOM-ULWeSrnO3cF\\\">Notes on Hackpad</a></p>\\n<h2>Key Value Observation (KVO)</h2>\\nThis is the pattern that Ember.js implements. Idea is to bind data to elements in the DOM.\\nThe problem is that we have to use units of computation that the platform gives you. This results in leaky abstractions. The developer\\nhas to hold to much information in their head and solutions become complex to implement. Can't compose using primitivies\\nAngular uses Dirty Checking.\\n<p>NOT the simpliest way to build things.</p>\\n<h2>Reactive Design</h2>\\nIn a mythical javascript language we could use Javascript primitives and we would have a reactive DOM.\\nHowever, Javascript is not reactive. We do need to build some layer of abstraction. Reactjs built a reactive DOM.\\nNo databinding artifacts. Takes advantage of existing Javascript.\\n<h3>Virtual DOM</h3>\\n- Whenever anything may have changed, re-render everything\\n- Diff the previous data previous with the next\\n- Only update the DOM with what changed\\n<p>Avoid fighting the framework. Rerender and diffing feels expensive which is why we do data binding.</p>\\n<ul>\\n<li>KVO entangles app code with observables.</li>\\n<li>Angualr style dirty chcking forces you to pass everything through $scope or $watch</li>\\n<li>Virtual DOM needs a signal to say anything may have changed</li>\\n</ul>\\n<h3>Performance</h3>\\n- Memory is more important for performance on mobile than CPU usage.\\n- Render code is usually cheap.\\n- Your view is usually smaller than your model.\\n<p>Three words:</p>\\nSimple composable primitives\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-17-pete-hunt-be-predictable-not-correct/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/pete-hunt-be-predictable-not-correct\",\"date\":\"2014-03-17T06:00:00Z\",\"title\":\"Pete Hunt - Be predictable, not correct.\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"After spending the last year writing Ember.js code I've realized one really big thing - Ember is about promises.\\nI recently had a chance to refactor some code with a number of asynchrounous calls. The original logic used\\ntimers and polling to monitor the state of a bunch of recursive calls to the Google API to retrieve a complete\\nfolder structure. Timers get the job done, but promises make it…\",\"html\":\"<p>After spending the last year writing Ember.js code I've realized one really big thing - Ember is about promises.\\nI recently had a chance to refactor some code with a number of asynchrounous calls. The original logic used\\ntimers and polling to monitor the state of a bunch of recursive calls to the Google API to retrieve a complete\\nfolder structure. Timers get the job done, but promises make it elegant.</p>\\n<h4>Original Code</h4>\\n<p>Requirement: wait until the entire tree is loaded before transition.</p>\\n<pre><code class=\\\"javascript\\\">\\nApp.GoogleFile = Ember.Object.extend({\\n});\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nthis.loadChildren(model.get('children'));\\nreturn model;\\n},</p>\\n<p>  afterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.wait(model.get('children'), function(){\\nthis.transitionTo('anotherPlace');\\n});\\n}\\n},</p>\\n<p>  // Waiting for content to load using a timer.\\nwait: function(children, callback){\\nif(Ember.isEmpty(children)){\\nEmber.run.later(this, function () {\\nthis.wait(children);\\n}, 10);\\n} else {\\ncallback(children);\\n}\\n},</p>\\n<p>  loadChildren: function(node){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nif(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\nthis.loadChildren(f);\\n}\\nnode.get('children').pushObject(f);\\n}.bind(this));\\n}.bind(this));\\n}</p>\\n<p>});</p>\\n</pre></code>\\n<h4>The Refactored Code</h4>\\n<pre><code class=\\\"javascript\\\">\\n<p>App = Ember.Application.create({\\n});</p>\\n<p>App.GoogleFile = Ember.Object.extend({\\n});</p>\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>return new Ember.RSVP.Promise(function(resolve, reject){\\n  this.loadChildren(model, resolve, reject);\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  },</p>\\n<p>  // The afterModel won't fire until the promise is fullfilled.\\nafterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.transitionTo('anotherPlace');\\n}\\n},</p>\\n<p>  loadChildren: function(node, resolve, reject){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n// Don't resolve the promise when the ajax call returns. We have to process the data and decide if we need to make more calls.\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\nvar promises = [];\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>    if(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\n      // We need to make more ajax calls. Create a new promise which can be resposible for\\n      // resolving existing promises once it is fullfilled.\\n      var promise = new Ember.RSVP.Promise(function(resolve, reject){\\n        this.loadChildren(f, resolve, reject);\\n      }.bind(this));\\n      promises.push(promise);\\n    }\\n    node.get('children').pushObject(f);\\n  }.bind(this));\\n\\n  Promise.all(promises).then(function(){\\n    resolve(node);\\n  });\\n\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  }</p>\\n<p>});</p>\\n</pre></code>\\n<p><a href=\\\"http://jsbin.com/koveg/6/edit?html,js,console\\\" target=\\\"_blank\\\">Working refactored code snippet on jsbin</a></p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-16-refactoring-and-making-promises/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/refactoring-and-making-promises\",\"date\":\"2014-03-16T06:00:00Z\",\"title\":\"Refactoring and Making Promises\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"  isSelected: function(){\\n    console.log('Checking Selected for' + this.get('name'));\\n    return this.selectedContacts.contains(this.get('content'));\\n  }.property('selectedContacts@each') });\\n       \\n       It looks like the #$%#! sample code. \\n       But isSelected never fires!!!! \\n     \\n     \\n       I see you still use email \\n       Bad \\n       \\nproperty('selectedContacts@each…\",\"html\":\"<div class=\\\"slides\\\">\\n  <section>\\n    <h1>Ember.js</h1>\\n    <h3>Lessons Learned and Stuff</h3>\\n    <p>\\n      <small><a href=\\\"http://www.justinball.com\\\">Justin Ball</a> / <a href=\\\"http://twitter.com/jbasdf\\\">@jbasdf</a></small>\\n    </p>\\n  </section>\\n  <section>\\n    <div class=\\\"left\\\">\\n      <h2>Justin Ball</h2>\\n    </div>\\n    <div class=\\\"right\\\">\\n      <ul>\\n        <li>CTO <a href=\\\"http://www.atomicjolt.com\\\">Atomic Jolt</a></li>\\n        <li>Consultant, Rubyist, Javascriptist, Cyclist, Maker, Entrepreneur</li>\\n        <li>Purveyor of Buzzwords</li>\\n      </ul>\\n    </div>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>What is Ember.js?</h2>\\n      <div class=\\\"block\\\">\\n        <ul>\\n          <li>A framework for creating ambitious web applications.</li>\\n          <li>Client-side MVC Framework</li>\\n          <li><a href=\\\"https://github.com/emberjs/ember.js\\\">Open Source</a> - <a href=\\\"https://github.com/emberjs/ember.js/pulse/monthly\\\">Github Pulse</a></li>\\n          <li>Single page apps are sexy</li>\\n          <li>Ember.js makes it easy*</li>\\n        </ul>\\n      </div>\\n      <div class=\\\"block\\\">\\n        <p class=\\\"small\\\">* Easy is exclusive of the tears shed while learning Ember.js</p>\\n      </div>\\n    </section>\\n    <section>\\n      <h2>Why Single Page Apps?</h2>\\n      <p class=\\\"fragment roll-in\\\">iFrames!</p>\\n      <p class=\\\"fragment roll-in\\\">Safari and IE no longer let you write a cookie to an iFrame unless the user has visited the site</p>\\n      <p class=\\\"fragment roll-in\\\">Real World - LTI apps</p>\\n    </section>\\n  </section>\\n  <section>\\n    <h2>Heads Up</h2>\\n    <ul>\\n      <li>Ember.js changes a lot</li>\\n      <li>Ignore anything over 3 or 4 months old</li>\\n      <li>When you choose Ember.js you are all in</li>\\n    </ul>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Using Rails?</h2>\\n      <p><a href=\\\"https://github.com/emberjs/ember-rails\\\">Ember.js Rails Gem</a></p>\\n      <pre><code data-trim contenteditable>\\ngem 'ember-rails'\\ngem 'ember-source', '1.4.0' # or the version you need\\n      </code></pre>\\n      <pre><code data-trim contenteditable>\\n//= require handlebars\\n//= require ember\\n//= require ember-data\\n      </code></pre>\\n    </section>\\n    <section>\\n      Why choose the gem over anything else?\\n    </section>\\n    <section>\\n      <a href=\\\"http://yehudakatz.com/\\\">Yehuda Katz</a>\\n    </section>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>AMD?</h2>\\n      <p class=\\\"fragment block\\\">I love require.js</p>\\n      <p class=\\\"fragment block\\\">fogetaboutit</p>\\n      <p class=\\\"fragment block\\\">Or Try <a href=\\\"http://ryanflorence.com/\\\">Ryan Florence's</a> <a href=\\\"https://github.com/rpflorence/ember-tools\\\">Ember Tools*</a></p>\\n      <p class=\\\"fragment block small\\\"><a href=\\\"building-with-ember#select_doesnt_work\\\">*See \\\"Ember Select doesn't work\\\" on this page to learn about the dangers</a></p>\\n    </section>\\n    <section>\\n      <h2>Feel Good About Polluting The Global Namespace</h2>\\n      <pre><code data-trim contenteditable>\\nApp = Ember.Application.create({\\n});\\n      </code></pre>\\n    </section>\\n  </section>\\n  <section>\\n    <h2>I don't do Rails</h2>\\n    <div class=\\\"block\\\">\\n      <p class=\\\"fragment roll-in\\\">Try</p>\\n      <p class=\\\"fragment roll-in\\\"><a href=\\\"https://github.com/stefanpenner/ember-app-kit\\\">Ember App Kit</a></p>\\n    </div>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Ember.js and AngularJS</h2>\\n      <p>Everything is Awesome</p>\\n      <p>\\n        <a href=\\\"https://docs.google.com/presentation/d/1e0z1pT9JuEh8G5DOtib6XFDHK0GUFtrZrU3IfxJynaA/preview?sle=true#slide=id.p\\\">\\n          AngularJS from an Ember perspective\\n        </a>\\n      </p>\\n    </section>\\n    <section>\\n      <iframe src=\\\"https://docs.google.com/presentation/d/1e0z1pT9JuEh8G5DOtib6XFDHK0GUFtrZrU3IfxJynaA/preview?sle=true#slide=id.p&embedded=true\\\" width=\\\"600\\\" height=\\\"780\\\" style=\\\"border: none;\\\"></iframe>\\n    </section>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Ember.js is Magic!</h2>\\n      <p class=\\\"fragment roll-in\\\">Except for when it's not</p>\\n    </section>\\n    <section>\\n      <h2><a href=\\\"building-with-ember#error_messages\\\">Debugging</a></h2>\\n      <p>The Bug</p>\\n      <blockquote>\\n        Assertion failed: Cannot call get with 'id' on an undefined object. application.js?body=1:16925\\n        Uncaught TypeError: Cannot read property '__ember1375726885234_meta' of undefined\\n      </blockquote>\\n      <p>The Code</p>\\n      <pre><code data-trim contenteditable>\\nvar map = MapModel.createRecord({\\n  title: 'New Map'\\n});\\nmap.save().then(function(){\\n  this.transitionTo('map', map);\\n}.bind(this));\\n      </code></pre>\\n      <p class=\\\"fragment roll-in\\\">The Cause?</p>\\n      <p class=\\\"fragment roll-in\\\">Failure to call 'transition.abort();'</p>\\n    </section>\\n    <section>\\n      <h2><a href=\\\"building-with-ember#error_messages\\\">Now We Know Better</a></h2>\\n      <blockquote>\\n      Assertion failed: Cannot call get with 'id' on an undefined object. application.js?body=1:17079\\n      Uncaught TypeError: Cannot read property '__ember1375989556474_meta' of undefined application.js?body=1:18391\\n      Trying to get configured shortcut getDocumentSelection.js:51\\n      Assertion failed: Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications.\\n      </blockquote>\\n      <pre><code data-trim contenteditable>\\n{% raw %}\\n&lt;li&gt;{{#linkTo 'map.destroy' title=&quot;Delete the current map&quot;}}&lt;i class=&quot;icon-trash&quot;&gt;&lt;/i&gt; Delete{{/linkTo}}&lt;/li&gt;\\n{% endraw %}\\n      </code></pre>\\n      <p class=\\\"fragment roll-in\\\">No we don't. 'map' was null.</p>\\n    </section>\\n    <section>\\n      <h2><a href=\\\"building-with-ember#error_messages_again\\\">Now That We're Experts</a></h2>\\n      <blockquote>\\n      Assertion failed: Cannot call get with 'id' on an undefined object. ember.js?body=1:364\\n      Uncaught TypeError: Cannot read property '__ember1377186615643_meta' of undefined ember.js?body=1:1676\\n      Assertion failed: Emptying a view in the inBuffer state is not allowed and should not happen under normal circumstances. Most likely there is a bug in your application. This may be due to excessive property change notifications. ember.js?body=1:364\\n      Uncaught Error: You cannot modify child views while in the inBuffer state ember.js?body=1:18835\\n      </blockquote>\\n      <p class=\\\"fragment roll-in\\\">\\\"Most likely there is a bug in your application\\\"</p>\\n      <p class=\\\"fragment roll-in\\\">Would not have guessed that</p>\\n    </section>\\n    <section>\\n      <p>Bad Code</p>\\n      <pre><code data-trim contenteditable>\\n{% raw %}\\n{{#each post in Posts}}\\n  {{#linkTo 'posts.show' title=\\\"View post\\\"}}{{post.name}}{{/linkTo}}\\n{{/each}}\\n{% endraw %}\\n      </pre></code>\\n      <p>Good Code</p>\\n      <pre><code data-trim contenteditable>\\n{% raw %}\\n{{#each post in Posts}}\\n  {{#linkTo 'posts.show' post title=\\\"View post\\\"}}{{post.name}}{{/linkTo}}\\n{{/each}}\\n{% endraw %}\\n      </pre></code>\\n      <p class=\\\"fragment roll-in\\\">Forgot to include 'post'</p>\\n    </section>\\n  </section>\\n  <section>\\n    <section>\\n      <h2><a href=\\\"dont-forget-your-period-computed-property-that-depends-on-ember_arraycontroller-contents\\\">(Really) Little Things Matter</a></h2>\\n      <pre><code data-trim contenteditable>\\nApp.ContactController = Ember.ObjectController.extend({\\n  needs: ['selected_contacts'],\\n  selectedContacts: null,\\n  selectedContactsBinding: 'controllers.selected_contacts.content',\\n<p>  isSelected: function(){\\nconsole.log('Checking Selected for' + this.get('name'));\\nreturn this.selectedContacts.contains(this.get('content'));\\n}.property('selectedContacts@each')</p>\\n<p>});\\n</code></pre>\\n<p class=\\\"fragment roll-in\\\">It looks like the #$%#! sample code.</p>\\n<p class=\\\"fragment roll-in\\\">But isSelected never fires!!!!</p>\\n</section>\\n<section>\\n<h2>I see you still use email</h2>\\n<p>Bad</p>\\n<pre><code data-trim contenteditable>\\nproperty('selectedContacts@each')\\n</code></pre>\\n<p>Good</p>\\n<pre><code data-trim contenteditable>\\nproperty('selectedContacts.@each')\\n</code></pre>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Multiple Ember Apps in a Rails App</h2>\\n      <p>Stay DRY. Share code</p>\\n    </section>\\n    <section>\\n      <p>Setup to reuse code from 'Common'</p>\\n      <pre><code class=\\\"more_code\\\">\\nCommon\\n  components\\n  helpers\\n  models\\n  mixins\\n  templates\\nSomethingAwesome\\n  controllers\\n  helpers\\n  mixins\\n  routes\\n  templates\\n  views\\nAdmin\\n  controllers\\n  helpers\\n  mixins\\n  routes\\n  templates\\n  views\\n      </code></pre>\\n    </section>\\n    <section>\\n      <h2>The Problem</h2>\\n      <p>Ember won't be able to find your templates</p>\\n    </section>\\n    <section>\\n      <h2>The Solution</h2>\\n      <p>Override the Resolver</p>\\n      <pre><code data-trim contenteditable>\\nAppNamespace = 'SomethingAwesome';\\nSomethingAwesome = Ember.Application.create({\\n<p>  Resolver: Ember.DefaultResolver.extend({\\nresolveTemplate: function(parsedName){\\nvar fullNameWithoutType = parsedName.fullNameWithoutType;\\nparsedName.fullNameWithoutType = AppNamespace + \\\"/\\\" + fullNameWithoutType;\\nvar result = this.<em>super(parsedName);\\nif(!result){\\nparsedName.fullNameWithoutType = \\\"common/\\\" + fullNameWithoutType;\\nresult = this.</em>super(parsedName);\\n}\\nreturn result;\\n}\\n})</p>\\n<p>});\\n</code></pre>\\n<p><a href=\\\"https://github.com/tatemae/oea\\\">Check out Open Assessments source for an example</a></p>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Transitions</h2>\\n      <p>Do This Infinitely</p>\\n      <pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({\\n<p>  model: function(){\\nreturn this.store.find('user', params.user_id);\\n},</p>\\n<p>  afterModel: function(transition){\\nthis.transitionTo('anotherPlace');\\n}\\n});\\n</code></pre>\\n</section>\\n<section>\\n<p>Check Your Target</p>\\n<pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nreturn this.store.find('user', params.user_id);\\n},</p>\\n<p>  afterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.transitionTo('anotherPlace');\\n}\\n}\\n});\\n</code></pre>\\n</section></p>\\n  </section>\\n  <section>\\n    <h2><a href=\\\"building-with-ember\\\">Choose your event names wisely</a></h2>\\n    <p>'destroy' is reserved</p>\\n    <pre><code data-trim contenteditable>\\n    {% raw %}\\n&lt;a href=&quot;#&quot; {{action 'destroy'}} class=&quot;btn&quot;&gt;Delete&lt;/a&gt;\\n    {% endraw %}\\n    </code></pre>\\n    <p>'destroy_node' is not</p>\\n    <pre><code data-trim contenteditable>\\n    {% raw %}\\n&lt;a href=&quot;#&quot; {{action 'destroy_node'}} class=&quot;btn&quot;&gt;Delete&lt;/a&gt;\\n    {% endraw %}\\n    </code></pre>\\n  </section>\\n  <section>\\n    <h2><a href=\\\"building-with-ember\\\">Set controller for route</a></h2>\\n    <pre><code data-trim contenteditable>\\nvar ThingEditRoute = Ember.Route.extend({\\n  controllerName: 'thing',\\n  renderTemplate: function(controller, model){\\n    // You have to pass the controller to render or it will generate a new controller\\n    this.render({ controller: controller, into: 'application', outlet: 'modal' });\\n  }\\n});\\n    </code></pre>\\n    <p>Looks easy but couldn't find the docs</p>\\n  </section>\\n  <section>\\n    <h2><a href=\\\"pass-attributes-to-an-emberjs-view\\\">Pass a Value to a View</a></h2>\\n    <p>Add a property to your view:</p>\\n    <pre><code data-trim contenteditable>\\nApp.ModalView = Ember.View.extend({\\n  aClassName: 'modal'\\n});\\n    </code></pre>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><p>Use the value in your view template:</p>\\n<pre><code data-trim contenteditable>\\n{% raw %}</code></pre>\\n      </div>\\n<p>&#x3C;div {{bindAttr class=\\\"view.aClassName\\\"}}>\\nMore stuff here\\n&#x3C;/div>\\n{% endraw %}\\n</code></pre></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><p>When you use the view just set the property:</p>\\n<pre><code data-trim contenteditable>\\n{% raw %}</code></pre>\\n      </div>\\n<p>{{#view App.ModalView aClassName=\\\"wide_modal\\\"}}\\nSome great content goes here\\n{{/view}}\\n{% endraw %}\\n</code></pre></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2><a href=\\\"immutable-arrays-in-ember\\\">Immutable Arrays</a></h2>\\n      <p>Adding parameters to 'find' results in an immutable model</p>\\n      <pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({\\n  model: function(){\\n    return this.store.find('course', {user_id: user_id});\\n  }\\n});\\n      </code></pre>\\n    </section>\\n    <section>\\n      <p>Use an ArrayProxy to builid a collection that can be modified</p>\\n      <pre><code data-trim contenteditable>\\nApp.ApplicationRoute = Ember.Route.extend({\\n  model: function(){\\n    var courses = Ember.ArrayProxy.create({content: []});\\n    this.store.find('courses', user_id: user_id}).then(function(data){\\n      data.forEach(function(course){\\n        if(!courses.contains(course)){\\n          courses.pushObject(course);\\n        }\\n      }.bind(this));\\n    }.bind(this));\\n    return courses;\\n  }\\n});\\n      </code></pre>\\n      <p class=\\\"fragment block\\\">But then you have to manually keep the collection updated.</p>\\n    </section>\\n    <section>\\n      <h2>Even Better - Filters!</h2>\\n      <pre><code data-trim contenteditable>\\nvar filter = this.store.filter('course', function(course){\\n  return !course.get('user_id') == userId;\\n});\\nthis.controllerFor('courses').set('model', filter);\\n<p>// Load all courses into the store.\\nEmber.run.once(this, function(){\\nthis.store.find('course');\\n});\\n</code></pre>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>What about Ember Data?</h2>\\n      <p class=\\\"fragment block\\\">Beta</p>\\n      <p class=\\\"fragment block\\\">Rapidly evolving</p>\\n      <div class=\\\"fragment block\\\">\\n        <p>Not Production Ready*</p>\\n        <div class=\\\"block\\\">\\n          <p class=\\\"small\\\">* We use it in production anyway</p>\\n        </div>\\n      </div>\\n    </section>\\n    <section>\\n      <h2>More Ember Data</h2>\\n      <p>All pre-beta examples on the internet are now wrong</p>\\n      <p><a href=\\\"https://github.com/emberjs/data/blob/master/TRANSITION.md\\\">Let the Ember Data Transition Guide Take You to a Happy Place</a></p>\\n      <p>1.0 Beta changed to reduce dependance on global application object</p>\\n    </section>\\n    <section>\\n      <div class=\\\"left\\\">\\n        <p>Ember Data 0.13</p>\\n        <pre><code data-trim contenteditable>\\nApp.Post.find();\\nApp.Post.find(params.post_id);\\n        </code></pre>\\n      </div>\\n      <div class=\\\"right\\\">\\n        <p>Ember Data 1.0.beta.1:</p>\\n        <pre><code data-trim contenteditable>\\nthis.store.find('post');\\nthis.store.find('post', params.post_id);\\n        </code></pre>\\n      </div>\\n    </section>\\n    <section>\\n      <div class=\\\"left\\\">\\n        <p>Ember Data 0.13</p>\\n        <pre><code data-trim contenteditable>\\nApp.Post.createRecord();\\n        </code></pre>\\n      </div>\\n      <div class=\\\"right\\\">\\n        <p>Ember Data 1.0.beta.1:</p>\\n        <pre><code data-trim contenteditable>\\nthis.store.createRecord('post');\\n        </code></pre>\\n      </div>\\n    </section>\\n  </section>\\n  <section>\\n    <h2>I already have Rails models</h2>\\n    <p><a href=\\\"generate-ember.js-models-using-your-rails-schema\\\">Generate Ember.js Models Using Your Rails Schema*</a><p>\\n    <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nnamespace :ember do\\n<p>  desc \\\"Build ember models from schema\\\"\\ntask :models => :environment do</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code># Change these values to fit your project\\nnamespace = 'App' # The Ember application's namespace.\\n\\n# The directory where ember models will be written. We drop them\\n# in the tmp directory since we might not want an ember model for every table in the\\n# database.\\noutput_dir = File.join(Rails.root, \\\"tmp/ember_models\\\")\\n\\nschema_file = File.join(Rails.root, 'db/schema.rb')\\n\\ncurrent = ''\\nfile = ''\\nmax = 0\\nattrs = []\\n\\nFile.readlines(schema_file).each do |line|\\n\\n  # Stuff to ignore\\n  next if line.strip.blank?\\n  next if /#.*/.match(line)\\n  next if /add_index.+/.match(line)\\n  next if /ActiveRecord::Schema.define/.match(line)\\n\\n  # Find tables in the schema\\n  if m = /create_table \\\\\\\"(.+)\\\\\\\".*/.match(line)\\n    current = \\\"#{namespace}.#{m.captures[0].classify.singularize} = DS.Model.extend({\\\\n\\\"\\n    file = \\\"#{m.captures[0].singularize}.js\\\"\\n  elsif m = /t\\\\.(.+)\\\\s+\\\"([0-9a-zA-z_]+)\\\".*/.match(line)\\n    max = m.captures[1].length if m.captures[1].length > max\\n    attrs << m.captures\\n  elsif m = /end/.match(line) && current.present?\\n    attrs.each_with_index do |attr, i|\\n      spaces = ''\\n      type = 'string'\\n      if %w(integer float).include?(attr[0])\\n        type = 'number'\\n      elsif %w(datetime time date).include?(attr[0])\\n        type = 'date'\\n      elsif %w(boolean).include?(attr[0])\\n        type = 'boolean'\\n      end\\n      comma = ','\\n      if attrs.size-1 == i\\n        comma=''\\n      end\\n      ((max + 1) - attr[1].length).times{spaces << ' '}\\n      if attr[1].ends_with?('_id')\\n        relation = attr[1][0...(attr[1].length-3)]\\n        current << \\\"  #{relation}:    #{spaces}DS.belongsTo('#{relation.camelize(:lower).singularize}'),\\\\n\\\"\\n      end\\n      current << \\\"  #{attr[1]}: #{spaces}DS.attr('#{type}')#{comma}\\\\n\\\"\\n    end\\n    current << \\\"});\\\\n\\\"\\n    f = File.join(output_dir, file)\\n    if File.exists?(f)\\n      puts \\\"Ember model already exists: #{f}\\\"\\n    else\\n      current.gsub!('_spaces_', '')\\n      puts \\\"Writing Ember model: #{f}\\\"\\n      File.open(f, 'w'){|f| f.write(current)}\\n    end\\n\\n    current = ''\\n    file = ''\\n    max = 0\\n    attrs = []\\n\\n  else\\n    if /end/.match(line).blank?\\n      puts \\\"Don't know how to handle: #{line}\\\"\\n    end\\n  end\\n\\nend</code></pre>\\n      </div>\\n<p>  end</p>\\n<p>end\\n</code></pre>\\n<p class=\\\"small\\\">*It's not my fault if this code nukes your site or ruins your relationships.</p></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>Ember is Full of Promises</h2>\\n      <p class=\\\"fragment block\\\">Think Asyncronous</p>\\n    </section>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><section data-transition=\\\"linear\\\" data-background-transition=\\\"slide\\\">\\n  <h2>Make a Promise</h2>\\n  <h4>Docs Show This</h4>\\n  <pre><code class=\\\"more_code\\\" data-trim contenteditable></code></pre>\\n      </div>\\n<p>return new Promise(function(resolve, reject){\\n}.bind(this));\\n</code></pre>\\n<h4>But Do this</h4>\\n<pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nreturn new Ember.RSVP.Promise(function(resolve, reject){\\n}.bind(this));\\n</code></pre>\\n</section></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><section data-transition=\\\"linear\\\" data-background=\\\"#c0392b\\\" data-background-transition=\\\"slide\\\">\\n  <h4>Original</h4>\\n  <p>Requirement: wait until the entire tree is loaded before transition.</p>\\n  <pre><code class=\\\"more_code\\\" data-trim contenteditable></code></pre>\\n      </div>\\n<p>App.GoogleFile = Ember.Object.extend({\\n});</p>\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nthis.loadChildren(model.get('children'));\\nreturn model;\\n},</p>\\n<p>  afterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.wait(model.get('children'), function(){\\nthis.transitionTo('anotherPlace');\\n});\\n}\\n},</p>\\n<p>  // Waiting for content to load using a timer.\\nwait: function(children, callback){\\nif(Ember.isEmpty(children)){\\nEmber.run.later(this, function () {\\nthis.wait(children);\\n}, 10);\\n} else {\\ncallback(children);\\n}\\n},</p>\\n<p>  loadChildren: function(node){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});\\nif(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\nthis.loadChildren(f);\\n}\\nnode.get('children').pushObject(f);\\n}.bind(this));\\n}.bind(this));\\n}</p>\\n<p>});\\n</code></pre>\\n</section></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code><section data-transition=\\\"linear\\\" data-background-transition=\\\"slide\\\">\\n  <h4>The Refactor</h4>\\n  <pre><code class=\\\"more_code\\\" data-trim contenteditable></code></pre>\\n      </div>\\n<p>App = Ember.Application.create({\\n});</p>\\n<p>App.GoogleFile = Ember.Object.extend({\\n});</p>\\n<p>App.ApplicationRoute = Ember.Route.extend({</p>\\n<p>  model: function(){\\nvar model = App.GoogleFile.create({\\nid: $('meta[name=\\\"google-folder-id\\\"]').attr('content');,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>return new Ember.RSVP.Promise(function(resolve, reject){\\n  this.loadChildren(model, resolve, reject);\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  },</p>\\n<p>  // The afterModel won't fire until the promise is fullfilled.\\nafterModel: function(transition){\\nif(transition.targetName == \\\"application.index\\\"){\\nthis.transitionTo('anotherPlace');\\n}\\n},</p>\\n<p>  loadChildren: function(node, resolve, reject){\\nvar token = $('meta[name=\\\"google-access-token\\\"]').attr('content');\\nvar query = encodeURIComponent('\\\"' + node.get('id') + '\\\" in parents');\\n// Don't resolve the promise when the ajax call returns. We have to process the data and decide if we need to make more calls.\\n$.get('<a href=\\\"https://www.googleapis.com/drive/v2/files?q=\\\">https://www.googleapis.com/drive/v2/files?q=</a>' + query + '&#x26;access_token=' + token, function(data){\\nvar promises = [];\\ndata.items.forEach(function(item){\\nvar f = App.GoogleFile.create({\\nname: item.title,\\nid: item.id,\\nicon: item.iconLink,\\nmime: item.mimeType,\\nembed: item.embedLink,\\nedit: item.alternateLink,\\nchildren: Ember.ArrayProxy.create({content: []})\\n});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>    if(item.mimeType === \\\"application/vnd.google-apps.folder\\\"){\\n      // We need to make more ajax calls. Create a new promise which can be resposible for\\n      // resolving existing promises once it is fullfilled.\\n      var promise = new Ember.RSVP.Promise(function(resolve, reject){\\n        this.loadChildren(f, resolve, reject);\\n      }.bind(this));\\n      promises.push(promise);\\n    }\\n    node.get('children').pushObject(f);\\n  }.bind(this));\\n\\n  Promise.all(promises).then(function(){\\n    resolve(node);\\n  });\\n\\n}.bind(this));</code></pre>\\n      </div>\\n<p>  }</p>\\n<p>});</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>  </code></pre>\\n  <p><a href=\\\"http://jsbin.com/koveg/6/edit?html,js,console\\\" target=\\\"_blank\\\">Working code snippet on jsbin</a></p>\\n</section></code></pre>\\n      </div>\\n  </section>\\n  <section>\\n    <section>\\n      <h2>You're sitting around doing nothing And...</h2>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nvar Adapter = DS.RESTAdapter.extend({\\n  ajaxError: function(jqXHR){\\n    if(jqXHR.status == 401){\\n      window.location.href = '/users/sign_in?timeout=true';\\n    }\\n    if(jqXHR){\\n      jqXHR.then = null;\\n    }\\n    return jqXHR;\\n  }\\n});\\n      </code></pre>\\n    </section>\\n    <section>\\n      <h2>You have to warn me about these things</h2>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\n&lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-hidden=&quot;true&quot;&gt;\\n  &lt;div class=&quot;modal-dialog&quot;&gt;\\n    &lt;div class=&quot;modal-content&quot;&gt;\\n      &lt;div class=&quot;modal-header&quot;&gt;\\n        &lt;button  type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;\\n        &lt;h4 class=&quot;modal-title&quot; id=&quot;tmModalLabel&quot;&gt;Inactivity Warning&lt;/h4&gt;\\n      &lt;/div&gt;\\n      &lt;div class=&quot;modal-body&quot;&gt;\\n        You will be logged out in 30 seconds.\\n      &lt;/div&gt;\\n    &lt;/div&gt;\\n  &lt;/div&gt;\\n&lt;/div&gt;\\n      </code></pre>\\n    </section>\\n    <section>\\n      <h2>Component!</h2>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nApp.InactivityWarningComponent = Ember.Component.extend({\\n<p>  active: false,\\ninactiveTimeout: 12000000, // Amount of time before we redirect to the sign in screen - the session should have expired by this point. (20 minutes)\\nwarningTimeout: 30000,     // Amount of time the user has to perform an action before the last keep alive fires - 30 seconds\\ntimeout: 1170000,          // 19.5 minutes. We want to be less than the 20 minute timeout to be sure the session is renewed.</p>\\n<p>  didInsertElement: function(){\\n//if($('meta[name=\\\"in-development\\\"]').attr('content')){ return; } // Uncomment and add a meta tag to your head if you want to avoid session timeout in development\\nvar context = this;</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-none\\\"><code>var keepActive = function(){\\n  if(context.active){\\n    // Keep the session alive\\n    $.ajax({\\n      url: \\\"/stayin_alive\\\"\\n    }).done(function(result){\\n\\n      // Go inactive until the user moves the mouse or presses a key\\n      context.active = false;\\n\\n      // The user now has another 20 minutes before the session times out\\n      // Restart the timer to keep the user logged in\\n      Ember.run.later(context, keepActive, context.timeout);\\n\\n      // Set a timer to show a modal indicating the user is about to be logged out.\\n      Ember.run.debounce(context, context.show, context.timeout - context.warningTimeout);\\n\\n      // Set a timer that will send the user to the login screen\\n      Ember.run.debounce(context, context.forceLogin, context.inactiveTimeout);\\n    });\\n  }\\n};\\n\\n$(window).mousemove(function(e){\\n  context.active = true;\\n  // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n  // Use debounce so we don't call it over and over again since this method is called from mousemove\\n  Ember.run.debounce(context, context.hide, 1000);\\n});\\n\\n$(window).keypress(function(e){\\n  context.active = true;\\n  // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n  context.hide();\\n});\\n\\n// The user has 5 minutes before they are logged out. We need to send a keep Active before then.\\nEmber.run.later(context, keepActive, context.timeout);</code></pre>\\n      </div>\\n<p>  },</p>\\n<p>  forceLogin: function(){\\nwindow.location.href = '/users/sign_out?timeout=true';\\n},</p>\\n<p>  show: function(){\\n// Warn the user that they will be logged out if we are inactive\\nif(this.active === false){\\n// Start countdown timer\\nthis.$('.modal').modal('show');\\n}\\n},</p>\\n<p>  hide: function(){\\nthis.$('.modal').modal('hide');\\n}</p>\\n<p>});\\n</code></pre>\\n<p><a href=\\\"session-timeout-for-your-ember-application\\\">Ember.js Session Timeout In Depth</a></p>\\n</section></p>\\n  </section>\\n  <section>\\n    <section>\\n      <h2><a href=\\\"ember-textfield-ignores-arrow-keys.-how-to-monitor-key-events-in-your-textfield\\\">Monitor key events in your textfield</a></h2>\\n      <p>Monitor changes as the user types</p>\\n      <pre><code data-trim contenteditable>\\n      {% raw %}\\n{{ view Ember.Textfield\\n  class=\\\"form-control\\\"\\n  placeholderBinding=\\\"controller.prompt\\\"\\n  valueBinding=\\\"controller.value\\\"\\n  onEvent=\\\"keyPress\\\"\\n  action=\\\"typing\\\"\\n}}\\n      {% endraw %}\\n      </code></pre>\\n      <p class=\\\"fragment block\\\">but keyPress doesn't fire when you press the arrow keys</p>\\n    </section>\\n    <section>\\n      <p>No problem! Make your own Textfield</p>\\n      <pre><code class=\\\"more_code\\\" data-trim contenteditable>\\nApp.Textfield = Ember.TextField.extend({\\n<p>  init: function() {\\nthis._super();\\nthis.on(\\\"keyUp\\\", this, this.interpretKeyEvents);\\n},</p>\\n<p>  interpretKeyEvents: function(event){\\nvar map = TM.Textfield .KEY<em>EVENTS;\\nvar method = map[event.keyCode];\\nif (method){\\nreturn this<a href=\\\"event\\\">method</a>;\\n} else {\\nthis.</em>super(event);\\n}\\n},</p>\\n<p>  arrowUp: function(event){\\nthis.sendAction('arrow-up', this, event);\\n},</p>\\n<p>  arrowDown: function(event){\\nthis.sendAction('arrow-down', this, event);\\n}</p>\\n<p>});</p>\\n<p>App.Textfield.KEY_EVENTS = {\\n38: 'arrowUp',\\n40: 'arrowDown'\\n};\\n</code></pre>\\n</section>\\n<section>\\n<p>Use that new code</p>\\n<pre><code data-trim contenteditable>\\n{% raw %}\\n{{ view App.Textfield\\nclass=\\\"form-control\\\"\\nplaceholderBinding=\\\"view.prompt\\\"\\nvalueBinding=\\\"view.value\\\"\\nviewName=\\\"inputField\\\"\\narrow-up=\\\"arrowUp\\\"\\narrow-down=\\\"arrowDown\\\"\\n}}\\n{% endraw %}\\n</code></pre>\\n<p>Add 'arrowUp' and 'arrowDown' to your controller and be filled with joy.</p>\\n</section></p>\\n  </section>\\n  <section>\\n    <h1>THE END</h1>\\n    <h3>Justin Ball</h3>\\n    <p>justinball.com</p>\\n    <p>justinball@gmail.com</p>\\n    <p>@jbasdf</p>\\n    <p class=\\\"small\\\" style=\\\"display:none;\\\"><a href=\\\"#pdf-export\\\">Download PDF</a></p>\\n  </section>\\n</div>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-15-emberjs-lessons-learned-so-far/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/emberjs-lessons-learned-so-far\",\"date\":\"2014-03-15T06:00:00Z\",\"title\":\"Ember.js Lessons Learned So Far\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I've spent the winter on a trainer. I don't mind the experience so much. It's not like riding outside, but I do it in hopes of maintaining some level of fitness during the winter months.\\nThe first ride of each Spring provides an opportunity to gauge whether all the time spent spinning my legs watching TV with the fan on and the window open were worth it. I approach this first ride with some…\",\"html\":\"<p>I've spent the winter on a trainer. I don't mind the experience so much. It's not like riding outside, but I do it in hopes of maintaining some level of fitness during the winter months.\\nThe first ride of each Spring provides an opportunity to gauge whether all the time spent spinning my legs watching TV with the fan on and the window open were worth it.</p>\\n<p>I approach this first ride with some trepidation.</p>\\n<p>The first ride of each Spring requires a re-amplification of courage. The trainer is easy. If you tire you rest. No one on Strava will know. If you need water it's upstairs. Selecting\\nclothing is a simple process. The most difficult part of the experience is figuring out what drivel Netflix can provide for an hour and a half.\\n(I've watched every Firefly, Dr. Who, Stargate, Star Trek Enterprise, Star Trek Voyager, Falling Skies, numerous movies and worthless SyFy rejects while on the trainer. Finding something to watch is becoming a problem).</p>\\n<p>Taking to the great outdoors requires a deeper understanding of the environment and your body. Selecting the right clothing on a Spring day is tricky. The wind can cause the temperature to vary greatly. Standing still\\nwith the sun on your face might feel perfect. Move your body through that same air at 20 miles an hour and everything cools off dramatically. Of course, push your body, your core heats up and you become and artist\\nat striping while holding a straight line and an even pace.</p>\\n<p>Today I lucked out. It was 50 degrees. I chose a wool base layer, leg warmers and wore shells over my gloves. That combination worked in harmony to maintain the perfect temperature the entire ride. That never happens.</p>\\n<p>The trainer produces and irritating level of noise, but it is silenced by a nice pair of earbuds. The road provides no such respite. I occasionaly wear earbuds, but shun the noise cancelling variety. An understanding\\nof the environment around you is critical to prevent a car from sneaking up from behind or a dog from taking you down from the side. You see the road in front. That's important for calculating the path ahead,\\nbut you hear the world all around you. Danger almost always comes from behind or from the side. On the road you are subject to the full roar of the wind. It buffets your ears muffling the sound of music from\\nheadphones, the hum of car tires, the taunts of passing teenagers. The roar annoys and produces isolation at the same time. I remain vigilant, filtering the signals from the roar that I use to determine the threats\\naround me.</p>\\n<p>The trainer is smooth. There are no hills, no pot holes, no gnarly stretches of gravel. The world is not so perfect. Today I fought with the wind. On the trainer I push constant high speeds. The wind cruely cuts\\nthose speeds in half. It leaves me humbled. The beautiful statistics accured over the winter are negated in an instant and I have failed my first test of Spring. I am not as strong as I was in the fall.</p>\\n<p>Humility erases performance and statistics from my mind. I look around. The earth is brown and dreary, but the mountain peaks are covered with snow. This is why I ride. The world is a beautiful place to be observed\\nthrough all her phases.</p>\\n<p>I know I am a bit ridiculous but the first ride of each Spring always fills me with an irrational fear. The trainer is safe. You don't fall off. There are no cars, no dogs, no unforseen hazards. The world is not\\nsafe. I avoid busy roads. After an <a href=\\\"why-cyclists-shave-their-legs-the-most-disgusting-post-i-will-ever-make\\\">accident a couple of years ago</a> I try to stay focused on the world around me.</p>\\n<p>I return home safely.</p>\\n<p>I am grateful for that last part. I've ridden for many years now and I love the experience. I love the sun on my face. I love the roar of the wind in my ears. I love the solitude and comradery. I love the pain and\\nthe feeling of overcoming that pain. I love the ride, but every time I return home I always feel a bit relieved.</p>\\n<p><a href=\\\"http://www.ksl.com/?sid=29067712&nid=148&title=hundreds-of-cyclists-ride-to-honor-fallen-friends\\\">Bryan Byrge and John Coons didn't return home.</a> They are fathers, co-workers, friends. They are\\nno different than me or the thousands of others who share the love of this experience. My heart breaks for their wives and children who said good bye that morning with every expectation that they would\\nreturn to them that night.</p>\\n<p>I shall never take for granted the feeling of relief each time I return.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-14-beautiful-day-had-to-blow-off-work-for-a-ride/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/beautiful-day.-had-to-blow-off-work-for-a-ride\",\"date\":\"2014-03-14T06:00:00Z\",\"title\":\"Beautiful day. Had to blow off work for a ride\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"On one of our latest projects we're integrating with  Vimeo . They provide a great  Video player API  that makes it pretty simple to interact with videos.\\nVimeo even provides the  Froogaloop library  that wraps up all the communication between the iframe where the video lives and your page. The solution was something we needed anyway. Orginally, we were loading iframes for a bunch of videos on the…\",\"html\":\"<p>On one of our latest projects we're integrating with <a href=\\\"http://www.vimeo.com\\\">Vimeo</a>. They provide a great <a href=\\\"http://developer.vimeo.com/player/js-api/\\\">Video player API</a> that makes it pretty simple to interact with videos.\\nVimeo even provides the <a href=\\\"https://github.com/vimeo/player-api/tree/master/javascript\\\">Froogaloop library</a> that wraps up all the communication between the iframe where the video lives and your page.</p>\\n<h3>What We Need</h3>\\nThe requirement was to show other content once the video finished playing. That seems easy enough and really it is:\\n<pre><code class=\\\"javascript\\\">\\nvar VimeoStuff = {\\n\\n  init: function(){\\n    $.each($('iframe.vimeo'), function(i, iframe){\\n      this.setupEvents(iframe)\\n    }.bind(this));\\n  }\\n\\n  setupEvents: function(iframe){\\n    var player = $f(iframe);\\n\\n    player.addEvent('ready', function(player_id){\\n      player.addEvent('finish', onFinish);\\n    });\\n\\n    function onFinish(id){\\n      // Show other content\\n    }\\n\\n  }\\n\\n};\\n\\n$(document).ready(function(){\\n  VimeoStuff.init();\\n});\\n</pre></code>\\n<h3>The Problem</h3>\\nWe do most of our development using Chrome and so everything worked great until someone tried to use the application with Firefox. I know, most people will tell you that\\nInternet Explorer is pure evil and a total piece of junk. I hate to say it but Firefox has its rough spots as well. For some reason in Firefox the events from the Vimeo player\\niframe never fired. After some digging we found this semi-related bug <a href=\\\"https://bugzilla.mozilla.org/show_bug.cgi?id=548397\\\">indicating if an iframe isn't visible then\\nwindow.getComputedStyle() would return null</a>. It turns out that if an iframe isn't visible when a page loads and you attempt to use the Froogaloop library to monitor\\nevents coming from that window you are out of luck - the 'ready' event will never fire and you won't be able to monitor any other events coming from the iframe.\\n<p>The solution was something we needed anyway. Orginally, we were loading iframes for a bunch of videos on the page. That's a bad idea anyway since loading 20 or 30 hidden videos on a page\\nisn't especially performant.</p>\\n <h3>A Fix</h3>\\nThe fix was pretty simple. Instead of setting the 'src' tag on every iframe and loading the video at startup we set a 'data-src' on every iframe and left the src tag empty. We have a helper that looks like this:\\n<pre><code class=\\\"ruby\\\">\\ndef video_embed(video)\\n  %Q{<iframe id=\\\"#{dom_id(video)}\\\"\\n          data-modal=\\\"moda_#{dom_id(video)}\\\"\\n          class=\\\"vimeo\\\"\\n          data-src=\\\"//player.vimeo.com/video/#{video.vimeo_id}?api=1&player_id=#{video.id}\\\"\\n          width=\\\"500\\\"\\n          height=\\\"281\\\"\\n          frameborder=\\\"0\\\" webkitallowFullScreen mozallowFullScreen allowFullScreen></iframe>}\\nend\\n</pre></code>\\n<p>Then in our javascript we only set the iframe src when we display the modal. After that we watch for the 'ready' event from Froogaloop and everything works like magic again:</p>\\n<pre><code class=\\\"javascript\\\">\\nvar VimeoStuff = {\\n\\n  init: function(){\\n\\n    $.each($('.modal'), function(i, modal){\\n      modal = $(modal);\\n\\n      modal.on('show.bs.modal', function(){\\n        var iframe = $('iframe.vimeo', modal);\\n        iframe.attr('src', iframe.data('src'));\\n        this.setupEvents(iframe[0]);\\n      }.bind(this));\\n\\n    }.bind(this));\\n  },\\n\\n  setupEvents: function(iframe){\\n    var player = $f(iframe);\\n\\n    player.addEvent('ready', function(player_id){\\n      player.addEvent('finish', onFinish);\\n    });\\n\\n    function onFinish(id){\\n      // Show other content\\n    }\\n\\n  }\\n\\n};\\n\\n$(document).ready(function(){\\n  PikkitUserAds.init();\\n});\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-03-09-firefox-vimeo-and-froogaloop-have-a-little-problem/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/firefox-vimeo-and-froogaloop-have-a-little-problem\",\"date\":\"2014-03-09T07:00:00Z\",\"title\":\"Firefox, Vimeo and Froogaloop Have a Little Problem\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I've had to use Facebook login inside an iframe twice now. Combine  Devise \\nwith  omniauth  and  omniauth-facebook  and you have a\\npretty great user authentication system. Now try to login via Facebook inside an iframe and nothing will happen. If you check your Javascript console you'll see a error\\nthat looks something like this: Facebook won't render their UI inside of an iframe. A lot of sites…\",\"html\":\"<p>I've had to use Facebook login inside an iframe twice now. Combine <a href=\\\"https://github.com/plataformatec/devise\\\">Devise</a>\\nwith <a href=\\\"https://github.com/intridea/omniauth\\\">omniauth</a> and <a href=\\\"https://github.com/mkdynamic/omniauth-facebook\\\">omniauth-facebook</a> and you have a\\npretty great user authentication system. Now try to login via Facebook inside an iframe and nothing will happen. If you check your Javascript console you'll see a error\\nthat looks something like this:</p>\\n<blockquote>\\n  Refused to display 'https://www.facebook.com/login.php?skip_api_login=1&api_key=asdfasdf%23_%3D_&display=page' in a frame because it set 'X-Frame-Options' to 'DENY'.\\n</blockquote>\\n<p>Facebook won't render their UI inside of an iframe. A lot of sites do that these days. However, you can use the Facebook Javascript client and everything will\\njust work - sort of. Omniauth-facebook documents a <a href=\\\"https://github.com/mkdynamic/omniauth-facebook#client-side-flow\\\">Client side flow</a> which looks like the\\nperfect solution to our problem but as I've learned it's not rainbows and unicorns.</p>\\n<p>If you do follow the advice provided by the documentation you'll spend hours saying things to your computer that you will regret. You'll feel depressed because you\\nfollowed the documentation and yet request.env[\\\"omniauth.auth\\\"] will be nil no mater what you do.</p>\\n<p>There are two github threads related to this problem: <a href=\\\"https://github.com/mkdynamic/omniauth-facebook/issues/73\\\">https://github.com/mkdynamic/omniauth-facebook/issues/73</a>\\nand <a href=\\\"https://github.com/intridea/omniauth-oauth2/issues/31\\\">https://github.com/intridea/omniauth-oauth2/issues/31</a> and a number of Stack Overflow questions\\n<a href=\\\"http://stackoverflow.com/questions/10320320/facebook-javascript-sdk-and-omniauth/22082218#22082218\\\">including this one that I tried to answer</a> since way\\nmore people will find it on Stack Overflow than here.</p>\\n<h3>Some Tips Before We Step In the Deep Stuff</h3>\\n<p>If you're debugging through this problem the first thing you might try is using a domain like lvh.me to access your local machine (it resolves to 127.0.0.1). Chrome\\nhas issues writing to localhost and it's possible that the Facebook cookie you need is not being properly written.</p>\\n<p>Right now would be a good time to check to make sure you don't accidently do the Oauth dance twice. This bit me. We have a link on the page with the id 'facebook_connect'.\\nIt just so happens that the href of that link is '/users/auth/facebook' which means it will initiate the Oauth dance using Omniauth. We only want to talk to Facebook once\\nso be sure to call e.preventDefault() or else you will keep wondering why you get two server calls:</p>\\n<pre><code class=\\\"javascript\\\">\\n$('#facebook_connect').on('click', function(e){\\n  e.preventDefault(); // Stop the request right here.\\n  Facebook.login();\\n});\\n</pre></code>\\n<p>The next thing you'll want to verify is that you are telling Facebook to write a cookie.</p>\\n<pre><code class=\\\"javascript\\\">\\nFB.init({\\n  appId      : GLOBAL_SETTINGS.FBappId,\\n  status     : false, // don't check login status\\n  cookie     : true, // enable cookies to allow the server to access the session\\n  xfbml      : true  // parse XFBML\\n});\\n</pre></code>\\n<h3>Before We Start</h3>\\nIf you just want to see how to do the Facebook OAuth dance client side below is the code I use to handle Facebook logins:\\n<script src=\\\"https://gist.github.com/jbasdf/9262863.js\\\"></script>\\n<h3>The Problem</h3>\\nI'm guessing you're still running into problems. The source of the issue is the callback_phase method inside the omniauth-oauth2 gem:\\n<pre><code class=\\\"ruby\\\">\\nif !options.provider_ignores_state && (request.params['state'].to_s.empty? || request.params['state'] != session.delete('omniauth.state'))\\n   raise CallbackError.new(nil, :csrf_detected)\\nend\\n</pre></code>\\n<p>request.params['state'] and session['omniauth.state'] are both nil so the condition fails and a CallbackError exception is raised. This is due\\nto the fact that we initiated the Facebook OAuth dance via FB.Login rather than using Omniauth to initiate the dance. Omniauth sets a state variable in the session\\nand then passes that as a state variable to Facebook like this:</p>\\n<pre><code class=\\\"ruby\\\">\\nsession['omniauth.state'] = SecureRandom.hex(24)\\n</pre></code>\\n<p>You can see above that the omniauth-oauth2 gem checks to make sure the state passed back from Facebook matches the one it saved into the session before\\nthe dance started.</p>\\n<p>Sucks for the client side process.</p>\\n<h3>Solution 1 - Cheap and Easy but Not So Secure</h3>\\nOne solution is to set provider_ignores_state to true which circumvents the condition:\\n<pre><code class=\\\"ruby\\\">\\nconfig.omniauth :facebook, ENV['FACEBOOK_APP_ID'], ENV['FACEBOOK_APP_SECRET'], {\\n  strategy_class: OmniAuth::Strategies::Facebook,\\n  provider_ignores_state: true,\\n}\\n</pre></code>\\n<p>That solution isn't especially secure since it can leave you open to csrf attacks.</p>\\n<h3>Solution 2 - More Code Solves Everything</h3>\\nMore code isn't usually a great way to solve your problems, but you can always create your own handler and parse the Facebook cookies yourself like this:\\n<pre><code class=\\\"ruby\\\">\\ndef handle_facebook_connect\\n    @provider = 'facebook'\\n    @oauth = Koala::Facebook::OAuth.new(ENV[\\\"FACEBOOK_ID\\\"], ENV[\\\"FACEBOOK_SECRET\\\"])\\n    auth = @oauth.get_user_info_from_cookies(cookies)\\n\\n    # Get an extended access token\\n    new_auth = @oauth.exchange_access_token_info(auth['access_token'])\\n    auth['access_token'] = new_auth[\\\"access_token\\\"]\\n\\n    # Use the auth object to setup or recover your user. The following is\\n    # and example of how you might handle the response but your needs and application structure will vary.\\n    if authentication = Authentication.where(:uid => auth['user_id'], :provider => @provider).first\\n      user = authentication.user\\n      sign_in(user, :event => :authentication)\\n    end\\n\\n    # Redirect or respond with json\\n    respond_to do |format|\\n      format.html { redirect_to user }\\n      format.json { render json: user }\\n    end\\nend\\n</pre></code>\\n<p>Then you'll need to redirect to the 'handle<em>facebook</em>connect' method when you receive a connected response:</p>\\n<pre><code class=\\\"javascript\\\">\\nFB.Event.subscribe('auth.authResponseChange', function(response) {\\n  if(response.status === 'connected'){\\n    if(response.authResponse){\\n\\n      // Redirect to our new handler\\n      window.location = '/handle_facebook_connect';\\n\\n    }\\n  } else if (response.status === 'not_authorized'){\\n    Facebook.message(Facebook.authorize_message);\\n  } else {\\n    FB.login();\\n  }\\n });\\n\\n</pre></code>\\n<h3>Solution 3 - Fake It</h3>\\nIf nothing so far brings joy to your heart then we can also simulate what omniauth does with the state variable.\\n<p>I create a helper method that can be called where ever we need to use the client side Facebook login. We also have a global settings object\\nthat can be accessed by our Javascript on the client. Calling 'add_state' generates a secure value and passes it to the client.</p>\\n<pre><code class=\\\"ruby\\\">\\ndef global_settings\\n    settings = {\\n      FBappId: ENV[\\\"FACEBOOK_ID\\\"],\\n      application_name: ENV[\\\"APPLICATION_NAME\\\"]\\n    }\\n    settings[:state] = session['omniauth.state'] = @add_state if @add_state\\n    settings\\n  end\\n\\n  def add_state\\n    @add_state ||= SecureRandom.hex(24)\\n  end\\n</pre></code>\\n<p>Then have a look at the finish function in the javascript. Here we pass the state from GLOBAL_SETTINGS when we call '/users/auth/facebook/callback':</p>\\n<pre><code class=\\\"javascript\\\">\\nfinish: function(response){\\n    window.location.href = '/users/auth/facebook/callback?state='+ GLOBAL_SETTINGS.state;\\n}\\n</pre></code>\\n<p>Ideally, I would pass the state value when I call FB.Login but as far as I can tell from the Facebook documentation they don't provide\\na mechanism for passing parameters. It is possible to manually create the FB login popup in which case it would be possible to pass the state, but\\nthis solution was sufficient for our needs.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-02-27-omniauth-devise-and-facebook-client-login-dont-play-nice/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/omniauth-devise-and-facebook-client-login-dont-play-nice\",\"date\":\"2014-02-27T07:00:00Z\",\"title\":\"Omniauth, Devise and Facebook Client Login Don't Play Nice\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I've been spending a lot more hours driving back and forth between Salt Lake City and Logan lately than I normally like.\\nToday was spent integrating  Open Assessments \\nwith  OERPub . Soon you'll be able to author an open text book via OER Pub, add an assessment via Open Assessments\\nand embed objective's via MIT's MC3 project.  Lumen Learning  has funding from the Hewlett Foundation\\nto employ…\",\"html\":\"<p>I've been spending a lot more hours driving back and forth between Salt Lake City and Logan lately than I normally like.\\nToday was spent integrating <a href=\\\"http://www.openassessments.com\\\">Open Assessments</a>\\nwith <a href=\\\"http://oerpub.org/\\\">OERPub</a>. Soon you'll be able to author an open text book via OER Pub, add an assessment via Open Assessments\\nand embed objective's via MIT's MC3 project. <a href=\\\"http://www.lumenlearning.com/\\\">Lumen Learning</a> has funding from the Hewlett Foundation\\nto employ content author's to generate a series of assessments in subjects ranging from physics to biology which means the bank of\\nfreely available, open assessments will should begin to fill with high quality content later this spring.</p>\\n<p>We've made a number of changes to Open Assessments recently including fully implementing the QTI player in Ember.js. This means that the assessment\\nauthor can choose to host their assessment data (QTI XML) on Open Assessments or on any server that supports CORS. We've also improved the API\\nand added oEmbed support.</p>\\n<p>Here's a couple of examples from today:</p>\\n<ol>\\n  <li>Search the API and get XML: <a href=\\\"http://www.openassessments.com/api/assessments.xml?q=fraction\\\">http://www.openassessments.com/api/assessments.xml?q=fraction</a><li>\\n  <li>Or if you prefer JSON: <a href=\\\"http://www.openassessments.com/api/assessments.json?q=fraction\\\">http://www.openassessments.com/api/assessments.json?q=fraction</a><li>\\n  <li>oEmbed: <a href=\\\"http://www.openassessments.com/oembed.json?url=http://www.openassessments.com/assessments/6\\\">http://www.openassessments.com/oembed.json?url=http://www.openassessments.com/assessments/6</a></li>\\n</ol>\\n<p>Finally, a fully embedded assessment in case you are wondering what all the data from the links above looks like to a normal person:</p>\\n<iframe src=\\\"//www.openassessments.com/assessments/load?src_url=http://www.openassessments.com/api/assessments/6.xml\\\" frameborder=\\\"0\\\" style=\\\"border:none;width:100%;height:100%;min-height:400px;\\\"></iframe>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-02-10-open-assessments-code-sprint-with-oerpub,-mit-and-lumen/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/open-assessments-code-sprint-with-oerpub,-mit-and-lumen\",\"date\":\"2014-02-10T07:00:00Z\",\"title\":\"Open Assessments Code Sprint with OERPub, MIT and Lumen\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"We ran into an issue with sessions timing out while users were doing client side stuff with an Ember application we're building.\\nOnce the session timed out they could no longer make authenticated requests of course and all ajax calls would fail. Here's a couple of bits of code that might be helpful. First capture 401 errors in your REST adapter and send the user to the sign in page if they've been…\",\"html\":\"<p>We ran into an issue with sessions timing out while users were doing client side stuff with an Ember application we're building.\\nOnce the session timed out they could no longer make authenticated requests of course and all ajax calls would fail.</p>\\n<p>Here's a couple of bits of code that might be helpful.</p>\\n<p>First capture 401 errors in your REST adapter and send the user to the sign in page if they've been logged out:</p>\\n<pre><code class=\\\"javascript\\\">\\n\\nvar Adapter = DS.RESTAdapter.extend({\\n\\n  ajaxError: function(jqXHR){\\n    if(jqXHR.status == 401){\\n      window.location.href = '/users/sign_in?timeout=true';\\n    }\\n    if(jqXHR){\\n      jqXHR.then = null;\\n    }\\n    return jqXHR;\\n  }\\n});\\n\\n</pre></code>\\n<p>We wanted something a bit more user friendly than a redirect so we proactively warn the user and then send keep alives as needed.\\nThe solution is an Ember component that uses Twitter Bootstrap modals to warn the user. The code assumes\\nyou have Twitter Bootstrap setup. If you don't want to use Twitter Bootstrap then it should be pretty easy to swap out the\\nhtml in the Handlebars template for whatever framework modal you want to use. Check out the comments for more details.</p>\\n<p><a href=\\\"https://gist.github.com/jbasdf/8228953\\\">Gist for Handlebars template</a></p>\\n<pre><code class=\\\"html\\\">\\n  &lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-hidden=&quot;true&quot;&gt;\\n    &lt;div class=&quot;modal-dialog&quot;&gt;\\n      &lt;div class=&quot;modal-content&quot;&gt;\\n        &lt;div class=&quot;modal-header&quot;&gt;\\n          &lt;button {{action &#039;close&#039;}} type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;\\n          &lt;h4 class=&quot;modal-title&quot; id=&quot;tmModalLabel&quot;&gt;Inactivity Warning&lt;/h4&gt;\\n        &lt;/div&gt;\\n        &lt;div class=&quot;modal-body&quot;&gt;\\n          You will be logged out in 30 seconds.\\n        &lt;/div&gt;\\n      &lt;/div&gt;\\n    &lt;/div&gt;\\n  &lt;/div&gt;\\n</pre></code>\\n<p><a href=\\\"https://gist.github.com/jbasdf/8229029\\\">Gist for Ember component javascript</a></p>\\n<pre><code class=\\\"javascript\\\">\\n\\nApp.InactivityWarningComponent = Ember.Component.extend({\\n\\n  active: false,\\n  inactiveTimeout: 12000000, // Amount of time before we redirect to the sign in screen - the session should have expired by this point. (20 minutes)\\n  warningTimeout: 30000,     // Amount of time the user has to perform an action before the last keep alive fires - 30 seconds\\n  timeout: 1170000,          // 19.5 minutes. We want to be less than the 20 minute timeout to be sure the session is renewed.\\n\\n  didInsertElement: function(){\\n    //if($('meta[name=\\\"in-development\\\"]').attr('content')){ return; } // Uncomment and add a meta tag to your head if you want to avoid session timeout in development\\n    var context = this;\\n\\n    var keepActive = function(){\\n      if(context.active){\\n        // Keep the session alive\\n        $.ajax({\\n          url: \\\"/stayin_alive\\\"\\n        }).done(function(result){\\n\\n          // Go inactive until the user moves the mouse or presses a key\\n          context.active = false;\\n\\n          // The user now has another 20 minutes before the session times out\\n          // Restart the timer to keep the user logged in\\n          Ember.run.later(context, keepActive, context.timeout);\\n\\n          // Set a timer to show a modal indicating the user is about to be logged out.\\n          Ember.run.debounce(context, context.show, context.timeout - context.warningTimeout);\\n\\n          // Set a timer that will send the user to the login screen\\n          Ember.run.debounce(context, context.forceLogin, context.inactiveTimeout);\\n        });\\n      }\\n    };\\n\\n    $(window).mousemove(function(e){\\n      context.active = true;\\n      // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n      // Use debounce so we don't call it over and over again since this method is called from mousemove\\n      Ember.run.debounce(context, context.hide, 1000);\\n    });\\n\\n    $(window).keypress(function(e){\\n      context.active = true;\\n      // Make sure the modal is hidden. This will cause the modal to hide if the user moves the mouse or presses a key.\\n      context.hide();\\n    });\\n\\n    // The user has 5 minutes before they are logged out. We need to send a keep Active before then.\\n    Ember.run.later(context, keepActive, context.timeout);\\n\\n  },\\n\\n  forceLogin: function(){\\n    window.location.href = '/users/sign_out?timeout=true';\\n  },\\n\\n  show: function(){\\n    // Warn the user that they will be logged out if we are inactive\\n    if(this.active === false){\\n      // Start countdown timer\\n      this.$('.modal').modal('show');\\n    }\\n  },\\n\\n  hide: function(){\\n    this.$('.modal').modal('hide');\\n  }\\n\\n});\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-01-02-session-timeout-for-your-ember-application/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/session-timeout-for-your-ember-application\",\"date\":\"2014-01-02T07:00:00Z\",\"title\":\"Session timeout for your Ember application\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Plenty of us working stiffs here in the United States wake up each morning a bit groggy as we prepare for another day as a cog\\nin the grind. That means  coffee is the most widely traded agriculture commodity in the world .\\nInject hot air, sugar and fat into coffee and a 25 cent cup of truck stop pick me up becomes a $6 Starbucks masterpiece.\\n Nestle saw an 800% increase in profits with the…\",\"html\":\"<p>Plenty of us working stiffs here in the United States wake up each morning a bit groggy as we prepare for another day as a cog\\nin the grind. That means <a href=\\\"http://www.ico.org/trade_e.asp\\\">coffee is the most widely traded agriculture commodity in the world</a>.\\nInject hot air, sugar and fat into coffee and a 25 cent cup of truck stop pick me up becomes a $6 Starbucks masterpiece.\\n<a href=\\\"http://blogs.hbr.org/2013/05/a-better-way-to-think-about-yo/\\\">Nestle saw an 800% increase in profits with the Nespresso.</a>\\nIt's the same coffee but if you put it in a little cup, make it easy to prepare and add a bit of flavoring the commodity becomes a\\nluxury. The proof of our love for coffee is the price we pay.</p>\\n<p>I'm guilty. I pay just as much for my morning pick me up. I drink it every morning. It wakes me up. It keeps me healthy. It powers my rides.</p>\\n<p>My secret is that I've never drunk coffee, but I do have a 'Mormon' version that I feel fine sharing with my even my youngest kids.</p>\\n<p>The measurements are estimates. I end up guessing most of the time. Put the ingredients in the blender\\nin the order below - it will be easier on your blender to grind up the non-frozen stuff first. I buy the frozen blue berries and\\ncherries at Sams.</p>\\n<blockquote>\\n1/4 cup flax seed\\n1/2 cup of Kefir\\n1 Banana\\n2 Handfuls of spinach\\n1/2 cup frozen blueberries\\n1/2 cup frozen cherries\\nAny other random left over fruit\\n</blockquote>\\n<p>It should come out quite purple. Drink it fast or it will start to solidify and turns into nasty grossness.\\nOne warning - it's not low calorie but it will wake you up.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2014-01-01-my-morning-coffee/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/my-morning-coffee\",\"date\":\"2014-01-01T07:00:00Z\",\"title\":\"My Morning Coffee\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I rarely ever reboot my Mac. It sits on my desk loyally waiting for my next command ready to respond to my every whim.\\nHowever, on occasion, something happens and it does need a reboot. Today was one of those days. Upon reboot everything appeared fine until I tried to work on some code. PostGreSQL was dead.\\nThis isn't the first time this has happened to me and I'm guessing it won't be the last so…\",\"html\":\"<p>I rarely ever reboot my Mac. It sits on my desk loyally waiting for my next command ready to respond to my every whim.\\nHowever, on occasion, something happens and it does need a reboot.</p>\\n<p>Today was one of those days. Upon reboot everything appeared fine until I tried to work on some code. PostGreSQL was dead.\\nThis isn't the first time this has happened to me and I'm guessing it won't be the last so for the benefit of all here's\\nthe problem:</p>\\n<p>Here's the error I get:</p>\\n<pre>\\npsql: could not connect to server: No such file or directory\\n  Is the server running locally and accepting\\n  connections on Unix domain socket \\\"/tmp/.s.PGSQL.5432\\\"?\\n</pre>\\n<p>The trick is to look at the logs. I installed using <a href=\\\"http://brew.sh/\\\">Homebrew</a> so my logs are here:</p>\\n<pre>\\n/usr/local/var/postgres/server.log\\n</pre>\\n<p>I had done a hard reboot which left 'postmaster.pid' in place:</p>\\n<pre>\\n/usr/local/var/postgres/postmaster.pid\\n</pre>\\n<p>I removed that file and then started up PostGres with:</p>\\n<pre>\\npg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start\\n</pre>\\n<p>Now I'm good to go.</p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-12-26-if-postgresql-won't-start-remember-this/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/if-postgresql-won't-start-remember-this\",\"date\":\"2013-12-26T07:00:00Z\",\"title\":\"If PostGreSQL Won't Start Remember This\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"Even on Heroku where most of the problems of sys ops is taken care of for you, you will occasionally run into\\nstrange database issues that are hard to explain. For me it the database issues showed up as some ugly entries\\nwhen I tried to run a rake db:migrate on a deployed database: I was left a bit confused but I got the point that I needed to reindex my database but the question was how? turns…\",\"html\":\"<p>Even on Heroku where most of the problems of sys ops is taken care of for you, you will occasionally run into\\nstrange database issues that are hard to explain. For me it the database issues showed up as some ugly entries\\nwhen I tried to run a rake db:migrate on a deployed database:</p>\\n<pre>\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: PG::IndexCorrupted: ERROR:  index \\\"pg_constraint_conname_nsp_index\\\" contains unexpected zero page at block 0\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: HINT:  Please REINDEX it.\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             FROM pg_attribute attr\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             WHERE cons.contype = 'p'\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:               AND cons.conrelid = '\\\"users\\\"'::regclass\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: :             SELECT attr.attname\\n2013-12-13T16:57:28.079781+00:00 app[web.1]:             INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: PG::IndexCorrupted: ERROR:  index \\\"pg_constraint_conname_nsp_index\\\" contains unexpected zero page at block 0\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             WHERE cons.contype = 'p'\\n2013-12-13T16:57:28.079781+00:00 app[web.1]: HINT:  Please REINDEX it.\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:               AND cons.conrelid = '\\\"users\\\"'::regclass\\n2013-12-13T16:57:28.079965+00:00 app[web.1]: Completed 500 Internal Server Error in 10ms\\n2013-12-13T16:57:28.079965+00:00 app[web.1]: :             SELECT attr.attname\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             FROM pg_attribute attr\\n2013-12-13T16:57:28.079965+00:00 app[web.1]:             INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n</pre>\\n<p>I was left a bit confused but I got the point that I needed to reindex my database but the question was how? turns out on heroku you can get into\\nyour database with this command:</p>\\n<pre>\\nheroku pg:psql\\n</pre>\\n<p>That was easy. Now to clean up my indexes:</p>\\n<pre>\\nREINDEX DATABASE __Your_DB_Name__\\n</pre>\\n<p>While you're in there you can also clean up:</p>\\n<pre>\\nVACUUM;\\n</pre>\\n<p>You'll need to get your database name from your heroku dashboard. This url will get you there\\n<a href=\\\"https://postgres.heroku.com/databases\\\">https://postgres.heroku.com/databases</a>. You'll need to know\\nwhat the specific database is and click through to get the name. It's ugly and will look something like 'dusyahwettad'</p>\\n<p>That should be it, but in case you want to dig around a bit more and see what's going on in your database you can install the pg-extras from:</p>\\n<p><a href=\\\"https://github.com/heroku/heroku-pg-extras\\\">https://github.com/heroku/heroku-pg-extras</a></p>\\n<p>Once those are installed you can do things like..</p>\\n<p>See the your db bloat:\\nheroku pg:bloat DATABASE_URL</p>\\n<p>Check out your vacuum stats:\\nheroku pg:vacuum<em>stats DATABASE</em>URL</p>\\n<p>And so much more. Check here for more details:\\n<a href=\\\"https://devcenter.heroku.com/articles/heroku-postgres-database-tuning\\\">https://devcenter.heroku.com/articles/heroku-postgres-database-tuning</a></p>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-12-13-heroku-database-tips/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/heroku-database-tips\",\"date\":\"2013-12-13T07:00:00Z\",\"title\":\"Heroku Database Tips\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"\",\"html\":\"<p>Ember provides a text field view that makes generating text input fields pretty simple. What's really cool is with the\\n  simple addition of onEvent=\\\"keyPress\\\" and action=\\\"my_function\\\" you can monitor changes to the field as the user types.\\n  It looks something like this:</p>\\n<script src=\\\"https://gist.github.com/jbasdf/9202528.js\\\"></script>\\n<p>(On a side note you can also just add an observer to your controller for 'value' and it will be called as the user types in new content.)</p>\\n<p>Even with all this magic I ran into a scenerio that not handled - I needed to know if the user had pressed the arrow up or down keys. A quick\\n  dig into the Ember code led me to the Ember.TextSupport mixin. The Ember.TextField view mixes in Ember.TextSupport so you only need to\\n  create your own textfield view, extend Ember.TextField and override a couple of the methods from Ember.TextSupport. It looks like this:<p>\\n<script src=\\\"https://gist.github.com/jbasdf/9202561.js\\\"></script>\\n<p>Using your new arrow enabled view then looks like this:</p>\\n<script src=\\\"https://gist.github.com/jbasdf/9202574.js\\\"></script>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-10-24-ember-textfield-ignores-arrow-keys-how-to-monitor-key-events-in-your-textfield/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/ember-textfield-ignores-arrow-keys.-how-to-monitor-key-events-in-your-textfield\",\"date\":\"2013-10-24T06:00:00Z\",\"title\":\"Ember Textfield ignores arrow keys. How to monitor key events in your textfield\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"\",\"html\":\"<h2>A tiny Rails asset pipeline thing if you are into bookmarklets</h2>\\n<p>This is more a general Rails issue rather than a Heroku issue, but I ran into the problem while deploying to heroku so I'm including it.\\nRails 3 generated digest as well as undigested version of your assets. Rails 4 no longer does that. For many applications that\\ndoesn't matter but if you need to access your assets directly via file name it becomes a big problem. In my case I need\\nto be able to access a javascript file for a bookmarklet. The proposed solution is that you put those kinds of files directly\\ninto the public directly. However, I needed to make use of the asset pipeline to take advantage of Rails JST capabilities.\\nIf you run into the same problem take a look at\\n<a href=\\\"https://github.com/alexspeller/non-stupid-digest-assets\\\">Non-stupid non-digest assets in Rails 4 by Alex Speller.</a> It saved\\nme a ton of time and fixed a major headache.</p>\\n<h2>Just in case you want to be framed</h2>\\n<p><a href=\\\"http://www.seanbehan.com/how-to-enable-iframe-support-on-heroku-with-ruby-on-rails-and-sinatra\\\">\\n  It turns out that X-Frame-Options is set to 'SAMEORIGIN' by default in Rails 4. If you want your content to be framed then you'll need to set the headers:</a></p>\\n<pre><code class=\\\"ruby\\\">\\n  config.action_dispatch.default_headers = {\\n    'X-Frame-Options' => 'ALLOWALL'\\n  }\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-10-23-rails-asset-pipeline-on-heroku-notes/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/rails-asset-pipeline-on-heroku-notes\",\"date\":\"2013-10-23T06:00:00Z\",\"title\":\"Rails on Heroku Notes - some Asset Pipeline and a Frame issue\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"  this.no results clear();\\n  results = 0;\\n  searchText = this.get search text();\\n  escapedSearchText = searchText.replace(/[- ] {}()*+?., \\\\ ^$|#\\\\s /g, \\\" \\\\ $&\\\");\\n  regexAnchor = this.search contains ? \\\"\\\" : \\\"^\\\";\\n  regex = new RegExp(regexAnchor + escapedSearchText, 'i');\\n  zregex = new RegExp(escapedSearchText, 'i');\\n  _ref = this.results data;\\n  for ( i = 0, _len = _ref.length; _i < _len; _i…\",\"html\":\"<p><a href=\\\"http://harvesthq.github.io/chosen/\\\">Harvest's Chosen select control</a> is handy for cleaning up unwieldy or\\nhorribly long select boxes. It's a nice little bit of UI sugar that can help make your users happier and we all like\\nhappy users right?. <a href=\\\"http://emberjs.com/\\\">Ember.js</a> is now our Javascript framework of choice but it doesn't\\nalways play well with other libraries and plugins - at least not without messsing around with it for a bit.</p>\\n<p><a href=\\\"http://stackoverflow.com/questions/9968222/ember-js-chosen-integration\\\">There are others out there that want to\\n  use Chosen in their Ember application.</a> I tweaked the last bit of code in this\\n  <a href=\\\"http://stackoverflow.com/questions/9968222/ember-js-chosen-integration\\\">StackOverflow question</a> a bit\\nto produce a working view that extends Ember.Select.</p>\\n<p><a href=\\\"https://gist.github.com/jbasdf/6872750\\\">Here's gist of the code</a> and here's the code:</p>\\n<pre><code class=\\\"javascript\\\">\\n\\n\\nApp.Chosen = Ember.Select.extend({\\n\\n  multiple: false,\\n  width: '95%',\\n  disableSearchThreshold: 10,\\n  searchContains: true,\\n  attributeBindings:['multiple', 'width', 'disableSearchThreshold', 'searchContains'],\\n\\n  didInsertElement: function(){\\n    this._super();\\n\\n    var options = {\\n      multiple: this.get('multiple'),\\n      width: this.get('width'),\\n      disable_search_threshold: this.get('disableSearchThreshold'),\\n      search_contains: this.get('searchContains')\\n    };\\n\\n    options.clean_search_text = this.cleanSearchText;\\n    options.calling_context = this;\\n\\n    if(this.get('multiple')){\\n      options.placeholder_text_multiple = this.get('prompt');\\n    } else {\\n      options.placeholder_text_single = this.get('prompt');\\n    }\\n\\n    this.$().chosen(options);\\n\\n    // observes for new changes on options to trigger an update on Chosen\\n    return this.addObserver(this.get(\\\"optionLabelPath\\\").replace(/^content/, \\\"content.@each\\\"), function() {\\n      return this.rerenderChosen();\\n    });\\n\\n  },\\n\\n  _closeChosen: function(){\\n    // trigger escape to close chosen\\n    this.$().next('.chosen-container-active').find('input').trigger({type:'keyup', which:27});\\n  },\\n\\n  cleanSearchText: function(option, context){\\n    return option.text;\\n  },\\n\\n  rerenderChosen: function(){\\n    // Don't trigger Chosen update until after DOM elements have finished rendering.\\n    Ember.run.scheduleOnce('afterRender', this, function(){\\n      this.$().trigger('chosen:updated');\\n    });\\n  }\\n\\n});\\n\\n</pre></code>\\n<p>UPDATE - The ember script tags will show up in the search which is not something you want. I had to modify the chosen.js source code for a solution.\\nLuckily it is pretty simple:</p>\\n<p><a href=\\\"https://gist.github.com/jbasdf/6920497\\\">Gist of chosen.jquery.js modified to include the clean_search_text method.</a></p>\\n<p>In the AbstractChosen.prototype.set_default_values method I added an option for a clean_search_text method. You can add this method\\n  to your own code and then cleanup the search text to be whatever you like ie remove script tags. The method I used is\\ncleanSearchText in the code above. Notice that I pass it to chosen with \\\"options.clean_search_text = this.cleanSearchText;\\\"</p>\\n<pre><code class=\\\"javascript\\\">\\nAbstractChosen.prototype.set_default_values = function() {\\n  var _this = this;\\n\\n  this.click_test_action = function(evt) {\\n    return _this.test_active_click(evt);\\n  };\\n  this.activate_action = function(evt) {\\n    return _this.activate_field(evt);\\n  };\\n  // MODIFIED - Added clean_search_text method so that the caller can clean up the search text\\n  this.clean_search_text = this.options.clean_search_text || function(option){ return option.html; };\\n  this.calling_context = this.options.calling_context;\\n  this.active_field = false;\\n  this.mouse_on_container = false;\\n  this.results_showing = false;\\n  this.result_highlighted = null;\\n  this.result_single_selected = null;\\n  this.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \\\"\\\" ? this.options.allow_single_deselect : false;\\n  this.disable_search_threshold = this.options.disable_search_threshold || 0;\\n  this.disable_search = this.options.disable_search || false;\\n  this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\\n  this.group_search = this.options.group_search != null ? this.options.group_search : true;\\n  this.search_contains = this.options.search_contains || false;\\n  this.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\\n  this.max_selected_options = this.options.max_selected_options || Infinity;\\n  this.inherit_select_classes = this.options.inherit_select_classes || false;\\n  this.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\\n  return this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\\n};\\n</pre></code>\\n<p>In the AbstractChosen.prototype.results_option_build method I had to add a conditional where it says MODIFIED:</p>\\n<pre><code class=\\\"javascript\\\">\\n  AbstractChosen.prototype.results_option_build = function(options) {\\n    var content, data, _i, _len, _ref;\\n\\n    content = '';\\n    _ref = this.results_data;\\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\\n      data = _ref[_i];\\n      // MODIFIED. Don't include the place holder text in the drop down or in searches.\\n      if(data.text != this.options.placeholder_text_single &&\\n         data.text != this.options.placeholder_text_multiple){\\n        if (data.group) {\\n          content += this.result_add_group(data);\\n        } else {\\n          content += this.result_add_option(data);\\n        }\\n        if (options != null ? options.first : void 0) {\\n          if (data.selected && this.is_multiple) {\\n            this.choice_build(data);\\n          } else if (data.selected && !this.is_multiple) {\\n            this.single_set_selected_text(data.text);\\n          }\\n        }\\n      }\\n    }\\n    return content;\\n  };\\n</pre></code>\\n<p>Last add the call to clean the search text inside the AbstractChosen.prototype.winnow_results method. Look for MODIFIED in the code\\nbelow for the method call.</p>\\n<pre><code class=\\\"javascript\\\">\\nAbstractChosen.prototype.winnow_results = function() {\\n  var escapedSearchText, option, regex, regexAnchor, results, results_group, searchText, startpos, text, zregex, _i, _len, _ref;\\n<p>  this.no<em>results</em>clear();\\nresults = 0;\\nsearchText = this.get<em>search</em>text();\\nescapedSearchText = searchText.replace(/[-[]{}()*+?.,\\\\^$|#\\\\s]/g, \\\"\\\\$&#x26;\\\");\\nregexAnchor = this.search<em>contains ? \\\"\\\" : \\\"^\\\";\\nregex = new RegExp(regexAnchor + escapedSearchText, 'i');\\nzregex = new RegExp(escapedSearchText, 'i');\\n_ref = this.results</em>data;\\nfor (<em>i = 0, _len = _ref.length; _i &#x3C; _len; _i++) {\\noption = _ref[</em>i];\\noption.search<em>match = false;\\nresults</em>group = null;\\nif (this.include<em>option</em>in<em>results(option)) {\\nif (option.group) {\\noption.group</em>match = false;\\noption.active<em>options = 0;\\n}\\nif ((option.group</em>array<em>index != null) &#x26;&#x26; this.results</em>data[option.group<em>array</em>index]) {\\nresults<em>group = this.results</em>data[option.group<em>array</em>index];\\nif (results<em>group.active</em>options === 0 &#x26;&#x26; results<em>group.search</em>match) {\\nresults += 1;\\n}\\nresults<em>group.active</em>options += 1;\\n}\\nif (!(option.group &#x26;&#x26; !this.group<em>search)) {\\n// MODIFIED added clean</em>search<em>text\\noption.search</em>text = option.group ? option.label : this.clean<em>search</em>text(option, this.calling<em>context);\\noption.search</em>match = this.search<em>string</em>match(option.search<em>text, regex);\\nif (option.search</em>match &#x26;&#x26; !option.group) {\\nresults += 1;\\n}\\nif (option.search<em>match) {\\nif (searchText.length) {\\nstartpos = option.search</em>text.search(zregex);\\ntext = option.search<em>text.substr(0, startpos + searchText.length) + '</em>' + option.search</em>text.substr(startpos + searchText.length);\\noption.search<em>text = text.substr(0, startpos) + '<em>' + text.substr(startpos);\\n}\\nif (results</em>group != null) {\\nresults<em>group.group</em>match = true;\\n}\\n} else if ((option.group<em>array</em>index != null) &#x26;&#x26; this.results<em>data[option.group</em>array<em>index].search</em>match) {\\noption.search<em>match = true;\\n}\\n}\\n}\\n}\\nthis.result</em>clear<em>highlight();\\nif (results &#x3C; 1 &#x26;&#x26; searchText.length) {\\nthis.update</em>results<em>content(\\\"\\\");\\nreturn this.no</em>results(searchText);\\n} else {\\nthis.update<em>results</em>content(this.results<em>option</em>build());\\nreturn this.winnow<em>results</em>set_highlight();\\n}\\n};</p>\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-10-07-using-chosen-with-emberjs/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/using-chosen-with-ember.js\",\"date\":\"2013-10-07T06:00:00Z\",\"title\":\"Using Chosen with Ember.js\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"I love Ember.js. I hate typing and I especially hate typing code that a machine could build. I got really tired of reading \\na Rails schema to build new Ember.js models so I create a rake task for it. I make no guarantees that this code will\\nwork for you or that it won't delete some of your code or start a nuclear war. Enjoy! ( Link to gist if that's easier. ) ( Updated for Ember Data 1.0.0 beta. )\",\"html\":\"<p>I love Ember.js. I hate typing and I especially hate typing code that a machine could build. I got really tired of reading\\na Rails schema to build new Ember.js models so I create a rake task for it. I make no guarantees that this code will\\nwork for you or that it won't delete some of your code or start a nuclear war. Enjoy!</p>\\n<p>(<a href=\\\"https://gist.github.com/jbasdf/6744552\\\" title=\\\"Generate Ember.js models using your Rails Schema\\\">Link to gist if that's easier.</a>)</p>\\n<p>(<a href=\\\"https://gist.github.com/jbasdf/6786849\\\" title=\\\"Generate Ember.js models using your Rails Schema\\\">Updated for Ember Data 1.0.0 beta.</a>)</p>\\n<pre><code class=\\\"ruby\\\">\\nnamespace :ember do\\n\\n  desc \\\"Build ember models from schema\\\"\\n  task :models => :environment do\\n\\n    # Change these values to fit your project\\n    namespace = 'App' # The Ember application's namespace.\\n    output_dir = File.join(Rails.root, \\\"app/assets/javascripts/common/models\\\") # The directory where ember models will be written\\n\\n    schema_file = File.join(Rails.root, 'db/schema.rb')\\n\\n    current = ''\\n    file = ''\\n    max = 0\\n    attrs = []\\n\\n    File.readlines(schema_file).each do |line|\\n\\n      # Stuff to ignore\\n      next if line.strip.blank?\\n      next if /#.*/.match(line)\\n      next if /add_index.+/.match(line)\\n      next if /ActiveRecord::Schema.define/.match(line)\\n\\n      # Find tables in the schema\\n      if m = /create_table \\\\\\\"(.+)\\\\\\\".*/.match(line)\\n        current = \\\"#{namespace}.#{m.captures[0].classify.singularize} = DS.Model.extend({\\\\n\\\"\\n        file = \\\"#{m.captures[0].singularize}.js\\\"\\n      elsif m = /t\\\\.(.+)\\\\s+\\\"([0-9a-zA-z_]+)\\\".*/.match(line)\\n        max = m.captures[1].length if m.captures[1].length > max\\n        attrs << m.captures\\n      elsif m = /end/.match(line) && current.present?\\n        attrs.each_with_index do |attr, i|\\n          spaces = ''\\n          type = 'string'\\n          if %w(integer float).include?(attr[0])\\n            type = 'number'\\n          elsif %w(datetime time date).include?(attr[0])\\n            type = 'date'\\n          elsif %w(boolean).include?(attr[0])\\n            type = 'boolean'\\n          end\\n          comma = ','\\n          if attrs.size-1 == i\\n            comma=''\\n          end\\n          ((max + 1) - attr[1].length).times{spaces << ' '}\\n          if attr[1].ends_with?('_id')\\n            relation = attr[1][0...(attr[1].length-3)]\\n            current << \\\"  #{relation}:    #{spaces}DS.belongsTo('#{namespace}.#{relation.classify.singularize}'),\\\\n\\\"\\n          end\\n          current << \\\"  #{attr[1]}: #{spaces}DS.attr('#{type}')#{comma}\\\\n\\\"\\n        end\\n        current << \\\"});\\\\n\\\"\\n        f = File.join(output_dir, file)\\n        if File.exists?(f)\\n          puts \\\"Ember model already exists: #{f}\\\"\\n        else\\n          current.gsub!('_spaces_', '')\\n          puts \\\"Writing Ember model: #{f}\\\"\\n          File.open(f, 'w'){|f| f.write(current)}\\n        end\\n\\n        current = ''\\n        file = ''\\n        max = 0\\n        attrs = []\\n\\n      else\\n        if /end/.match(line).blank?\\n          puts \\\"Don't know how to handle: #{line}\\\"\\n        end\\n      end\\n\\n    end\\n\\n  end\\n\\nend\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-09-28-generate-emberjs-models-using-your-rails-schema/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/generate-ember.js-models-using-your-rails-schema\",\"date\":\"2013-09-28T06:00:00Z\",\"title\":\"Generate Ember.js models using your Rails Schema\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"So you've discovered the most awesome front end javascript framework ever or at least that's what the cool\\nkids are saying. Now you want so help. Besides  StackOverflow \\nhere are a few resources that might be helpful:\",\"html\":\"<p><a>So you've discovered the most awesome front end javascript framework ever or at least that's what the cool\\nkids are saying. Now you want so help. Besides <a href=\\\"http://stackoverflow.com/questions/tagged/ember.js\\\">StackOverflow</a>\\nhere are a few resources that might be helpful:</a></p>\\n<ul>\\n  <li><a href=\\\"http://emberjs.com/api/\\\">The Ember API docs.</a></li>\\n  <li>\\n    <a href=\\\"http://ember-addons.github.io/bootstrap-for-ember/dist/#/\\\">Bootstrap for Ember Demo</a>\\n    <a href=\\\"https://github.com/ember-addons/bootstrap-for-ember\\\">(The code)</a>\\n  <li>\\n    There's also:\\n    <a href=\\\"http://emberjs-addons.github.io/ember-bootstrap/\\\">Ember Bootstrap</a>\\n    <a href=\\\"https://github.com/emberjs-addons/ember-bootstrap\\\">(The code)</a>\\n  </li>\\n  <li><a href=\\\"http://ember101.com/\\\">Ember video tutorials from Ryan Florence</a></li>\\n  <li><a href=\\\"https://github.com/rpflorence/ember-tools\\\">Ember tools also from Ryan Florence</a></li>\\n  <li><a href=\\\"http://code418.com/blog/2012/03/08/useful-emberjs-functions/\\\">Useful/helpful ember.js functions</a></li>\\n  <li><a href=\\\"http://www.akshay.cc/blog/2013-02-22-debugging-ember-js-and-ember-data.html\\\">Helpful ember.js debug tips</></li>\\n</ul>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-08-30-help-with-emberjs/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/help-with-emberjs\",\"date\":\"2013-08-30T06:00:00Z\",\"title\":\"Help with Ember.js\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}},{\"node\":{\"excerpt\":\"\",\"html\":\"<p>My fun/stupid ember mistake of the day. <a href=\\\"http://jsbin.com/ajocAJA/3/edit\\\">I even put together a jsbin to help track down the problem.</a></p>\\n<p>It's a tiny problem that is hard to spot. Right there at the very end there's a property declared like this:<p>\\n<pre><code class=\\\"javascript\\\">\\n  property('selectedContacts.@each')\\n</pre></code>\\n<p>It wasn't always that way. Once there was this:</p>\\n<pre><code class=\\\"javascript\\\">\\n  property('selectedContacts@each')\\n</pre></code>\\n<p>\\n  The difference is subtle. It's hard to see especially when you've spent your life typing email addresses. No\\n  one misses a period until the entire application stops working and everyone is furious because \\\"It looks just like the #@$@!# sample code.\\\"\\n  <strong>Don't forget the '.' that goes before '@each'.<strong>\\n</p>\\n<pre><code class=\\\"javascript\\\">\\nvar App = Ember.Application.create();\\n\\nApp.ApplicationRoute = Ember.Route.extend({\\n  model: function(){\\n    var contacts = Ember.ArrayProxy.create({content: []});\\n    contacts.pushObject({name: 'Bill'});\\n    contacts.pushObject({name: 'Sally'});\\n    return contacts;\\n  },\\n  setupController: function(controller, model){\\n    controller.set('model', model);\\n\\n    var selectedContacts = Ember.ArrayProxy.create({content: []});\\n    this.controllerFor('selected_contacts').set('content', selectedContacts);\\n  }\\n});\\n\\nApp.ApplicationController = Ember.ArrayController.extend({\\n  needs: ['selected_contacts'],\\n  selectedContacts: null,\\n  selectedContactsBinding: 'controllers.selected_contacts.content',\\n\\n  itemController: 'contact',\\n  selectContact: function(contact){\\n    this.selectedContacts.pushObject(contact);\\n  }\\n});\\n\\nApp.SelectedContactsController = Ember.ArrayController.extend({\\n  itemController: 'contact',\\n\\n  watcher: function(){\\n    console.log('Selected contents changed. Length: ' + this.get('content.length'));\\n  }.observes('content')\\n\\n});\\n\\nApp.ContactController = Ember.ObjectController.extend({\\n  needs: ['selected_contacts'],\\n  selectedContacts: null,\\n  selectedContactsBinding: 'controllers.selected_contacts.content',\\n\\n  isSelected: function(){\\n    console.log('Checking Selected for' + this.get('name'));\\n    return this.selectedContacts.contains(this.get('content'));\\n  }.property('selectedContacts.@each')\\n\\n});\\n\\n</pre></code>\",\"id\":\"/Users/jbasdf/projects/justinball/src/posts/2013-08-30-dont-forget-your-period-computed-property-that-depends-on-ember_arraycontroller-contents/index.md absPath of file >>> MarkdownRemark\",\"frontmatter\":{\"templateKey\":\"blog-post\",\"path\":\"/dont-forget-your-period-computed-property-that-depends-on-ember_arraycontroller-contents\",\"date\":\"2013-08-30T06:00:00Z\",\"title\":\"Don't miss the '.' - Computed Property that depends on Ember.ArrayController contents\",\"imageUrl\":null,\"structuredHtml\":null,\"image\":null}}}],\"pathPrefix\":\"archive\",\"first\":false,\"last\":false,\"index\":5,\"pageCount\":33}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/archive-5.json\n// module id = 1079\n// module chunks = 264868055353488"],"sourceRoot":""}